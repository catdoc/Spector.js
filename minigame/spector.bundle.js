(()=>{"use strict";var e={866:(e,t,n)=>{var a=n(81),r=n.n(a),s=n(645),i=n.n(s)()(r());i.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),i.push([e.id,'.captureMenuComponent{position:absolute;padding:7px;z-index:99999;top:10px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuComponent.active{visibility:visible;display:block}.captureMenuComponent,.captureMenuComponent:after,.captureMenuComponent:before{box-sizing:content-box}.captureMenuLogComponent{position:absolute;padding:7px;z-index:80000;top:66px;left:50%;margin-left:-209px;height:40px;width:400px;border:2px solid #222;background-color:#2c2c2c;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.captureMenuLogComponent.active{visibility:visible;display:block}.captureMenuLogComponent,.captureMenuLogComponent:after,.captureMenuLogComponent:before{box-sizing:content-box}.captureMenuLogComponent span.error{color:red}.canvasListComponent{float:left;width:50%;height:100%}.canvasListComponent [commandName=onCanvasSelection]{vertical-align:center;line-height:40px;white-space:nowrap;text-overflow:ellipsis;width:190px;display:inline-block;overflow:hidden;margin:0px 5px}.canvasListComponent [commandName=onCanvasSelection]:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.canvasListComponent ul{margin:0px;padding:7px;list-style:none;position:absolute;top:54px;left:-2px;width:400px;border:2px solid #222;background-color:#2c2c2c}.canvasListComponent ul li{margin:5px}.canvasListComponent ul li:hover{color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.captureMenuActionsComponent{float:left;width:30%;height:100%;margin-top:7.5px}.captureMenuActionsComponent div{float:left}.captureMenuActionsComponent [commandName=onCaptureRequested]{border-radius:50%;background:#2c2c2c;border:2px solid red;width:21px;height:21px}.captureMenuActionsComponent [commandName=onCaptureRequested]:hover{background:red;cursor:pointer;transition:background .3s;-webkit-transition:background .3s;-moz-transition:background .3s}.captureMenuActionsComponent [commandName=onPlayRequested],.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPlayRequested]:before,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{content:"";position:absolute;display:inline-block;margin-top:6px;margin-left:4px;width:7px;height:7px;border-top:2px solid #f9f9f9;border-right:2px solid #f9f9f9;background-color:#f9f9f9;-moz-transform:rotate(45deg);-webkit-transform:rotate(45deg);transform:rotate(45deg);z-index:-20}.captureMenuActionsComponent [commandName=onPlayRequested]:after,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:after{content:"";position:absolute;display:inline-block;width:8px;height:20px;background-color:#2c2c2c;z-index:-10}.captureMenuActionsComponent [commandName=onPlayRequested]:hover,.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPauseRequested]{width:21px;height:21px;border:2px solid #f9f9f9;border-radius:50%;margin-left:9px}.captureMenuActionsComponent [commandName=onPauseRequested]:before{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:12px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:after{content:"";position:absolute;display:inline-block;width:2px;height:13px;margin-left:7px;margin-top:4px;background-color:#f9f9f9}.captureMenuActionsComponent [commandName=onPauseRequested]:hover{cursor:pointer;border:2px solid #c9c9c9;transition:border .3s;-webkit-transition:border .3s;-moz-transition:border .3s}.captureMenuActionsComponent [commandName=onPlayNextFrameRequested]:before{background-color:#2c2c2c}.fpsCounterComponent{float:left;width:20%;vertical-align:center;line-height:40px;white-space:nowrap}',""])},625:(e,t,n)=>{var a=n(81),r=n.n(a),s=n(645),i=n.n(s)()(r());i.push([e.id,"@import url(https://fonts.googleapis.com/css?family=Montserrat:300,400);"]),i.push([e.id,'.resultViewComponent{position:absolute;z-index:99999;border:1px solid #000;top:0;left:0;bottom:0;right:0;background-color:#222;opacity:1;visibility:hidden;display:none;color:#f9f9f9;font-family:Consolas,monaco,monospace;font-size:14px;font-weight:500}.resultViewComponent.active{visibility:visible;display:block}.resultViewComponent,.resultViewComponent:after,.resultViewComponent:before{box-sizing:content-box}.resultViewMenuComponent{font-family:"Montserrat",sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.resultViewMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.resultViewMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.resultViewMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.resultViewMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.resultViewMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.resultViewMenuComponent a.clearSearch{padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.resultViewMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}@media all and (max-width: 1024px){.resultViewMenuComponent{padding:0px;position:absolute;overflow-y:visible;top:0px;left:0px;right:0px;bottom:0px;z-index:999999;display:block}.resultViewMenuComponent .resultViewMenuOpen{display:block;visibility:visible}.resultViewMenuComponent li:not(.resultViewMenuSmall){display:none;visibility:hidden}.resultViewMenuComponent li{background:#2c2c2c}.resultViewMenuComponent li.searchContainer{background:#464646}.resultViewMenuComponent a.active{background:#2c2c2c}}.resultViewMenuComponent input{border:0;font-family:"Montserrat",sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:40px;position:relative;top:-1px;box-sizing:border-box}.resultViewMenuComponent input:focus{border:0;outline:0 none}.resultViewMenuComponent .clearSearch{position:relative;background:rgba(0,0,0,0);display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#f0640d}.resultViewMenuComponent .clearSearch:hover{background:rgba(0,0,0,0) !important}.resultViewMenuComponent ::-webkit-input-placeholder{color:#ccc}.resultViewMenuComponent :-moz-placeholder{color:#ccc}.resultViewMenuComponent ::-moz-placeholder{color:#ccc}.resultViewMenuComponent :-ms-input-placeholder{color:#ccc}.resultViewContentComponent{position:absolute;top:40px;left:0;bottom:0;right:0}.informationColumnLeftComponent{position:absolute;top:0;left:0;bottom:0;right:50%;overflow:auto;overflow-x:hidden;overflow-y:visible}.informationColumnRightComponent{position:absolute;top:0;left:50%;bottom:0;right:0;overflow:auto;overflow-x:hidden;overflow-y:visible}.captureListComponent{position:absolute;top:40px;left:0;bottom:0;right:0;background:#222;z-index:9000;display:none;visibility:hidden;overflow-y:visible;overflow-x:hidden}.captureListComponent.active{display:block;visibility:visible}.captureListComponent .openCaptureFile{border:1px dashed #f9f9f9;display:block;margin:5px;padding:5px;text-align:center;font-style:italic}.captureListComponent .openCaptureFile span{line-height:100%;vertical-align:middle}.captureListComponent ul{margin:0px;padding:0px;list-style:none;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-start}.captureListComponent ul li{margin:5px;border:1px solid #606060}.captureListComponent ul li img{width:295px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px;display:block}.captureListComponent ul li span{display:block;text-align:center;border:5px solid #222}.captureListComponent ul li span .captureListItemSave{color:#f9f9f9;font-size:16px;margin-left:10px;position:relative;padding:3px 8px 3px 32px}.captureListComponent ul li span .captureListItemSave:before,.captureListComponent ul li span .captureListItemSave:after{box-sizing:border-box;content:"";position:absolute}.captureListComponent ul li span .captureListItemSave:before{background:#d9d9d9;border-color:#f9f9f9;border-style:solid;border-width:7px 2px 1px;border-radius:1px;height:16px;left:8px;top:5px;width:16px}.captureListComponent ul li span .captureListItemSave:after{background:#f9f9f9;border-color:#d9d9d9;border-style:solid;border-width:1px 1px 1px 4px;height:5px;left:13px;top:5px;width:7px}.captureListComponent ul li:hover{cursor:pointer}.captureListComponent ul li.active span{background:#f0640d;border:5px solid #f0640d}.captureListComponent ul li.active span .captureListItemSave:before{background:#f0640d}.captureListComponent ul li.active span .captureListItemSave:after{border-color:#f0640d}.visualStateListComponent{position:absolute;top:0;left:0;bottom:0;padding:5px;right:80%;overflow-y:visible;overflow-x:hidden}.visualStateListComponent ul{margin:0px;padding:0px;list-style:none}.visualStateListComponent ul li{margin:20px 15px 0px 15px;border:1px solid #606060}.visualStateListComponent ul li img{display:block;padding:0px;box-sizing:border-box;max-height:600px;width:100%;margin:0 auto;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px}.visualStateListComponent ul li:hover{cursor:pointer}.visualStateListComponent ul li span{border:5px solid #222;background:#222;box-sizing:border-box;display:inline-block;width:100%;margin:0px;padding:5px;word-wrap:break-word}.visualStateListComponent ul li.active{border:2px solid #f0640d}.commandListComponent{position:absolute;top:0;left:20%;right:40%;bottom:0;color:#d3d3d3}.commandListComponent ul{margin:0px;padding:0px;list-style:none;overflow-y:visible;overflow-x:hidden;height:100%}.commandListComponent ul li{padding:8px}.commandListComponent ul li span{word-wrap:break-word;line-height:22px}.commandListComponent ul li:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.commandListComponent ul li:nth-child(even){background:#2c2c2c}.commandListComponent ul li:nth-child(odd){background:#222}.commandListComponent ul li .important{font-weight:800}.commandListComponent ul li .important.deprecated{color:red}.commandListComponent ul li .important.unused{color:#ff0}.commandListComponent ul li .important.disabled{color:gray}.commandListComponent ul li .important.redundant{color:orange}.commandListComponent ul li .important.valid{color:#adff2f}.commandListComponent ul li .marker{font-size:16px;font-weight:900;color:#adff2f}.commandListComponent ul li.active{background:#f37628;color:#222}.commandListComponent ul li.drawCall{background:#5db0d7;color:#222}.commandListComponent ul li a{margin-left:5px;margin-right:5px;color:#5db0d7;background:#222;padding:5px;font-weight:900;display:inline-block}.commandDetailComponent{position:absolute;top:0;left:60%;right:0;bottom:0;overflow-y:visible;overflow-x:hidden}.jsonGroupComponent{display:block;margin:10px;padding:10px;padding-bottom:5px}.jsonGroupComponent .jsonGroupComponentTitle{display:block;font-size:16px;color:#5db0d7;border-bottom:1px solid #5db0d7;padding-bottom:5px;margin-bottom:5px;text-transform:capitalize}.jsonGroupComponent ul{margin:0px;padding:0px;list-style:none}.jsonGroupComponent ul li:nth-child(even){background:#222}.jsonGroupComponent ul li:nth-child(odd){background:#222}.jsonItemComponentKey{color:#f0640d}.jsonItemComponentValue{white-space:pre-wrap}.jsonItemImageHolder{width:50%;margin:auto}.jsonItemImageHolder .jsonItemImage{margin:5px;display:block;border:1px solid #606060;width:100%}.jsonItemImageHolder .jsonItemImage img{width:100%;display:block;margin:auto;max-width:256px;background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px}.jsonItemImageHolder .jsonItemImage span{margin:0px;padding:5px;word-wrap:break-word;display:inline-block;width:100%;box-sizing:border-box}[commandName=onOpenSourceClicked]:hover{color:#f9f9f9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.jsonVisualStateItemComponent{text-align:center;padding:10px}.jsonVisualStateItemComponent img{background-image:-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.25, #c9c9c9), color-stop(0.25, transparent)),-webkit-gradient(linear, 0 100%, 100% 0, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9)),-webkit-gradient(linear, 0 0, 100% 100%, color-stop(0.75, transparent), color-stop(0.75, #c9c9c9));background-image:-moz-linear-gradient(45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(-45deg, #d9d9d9 25%, transparent 25%),-moz-linear-gradient(45deg, transparent 75%, #d9d9d9 75%),-moz-linear-gradient(-45deg, transparent 75%, #d9d9d9 75%);-webkit-background-size:50px 51px;-moz-background-size:50px 50px;background-size:50px 50px;background-position:0 0,25px 0,25px -25px,0px 25px;border:1px solid #606060;margin:5px;width:100%;max-width:512px;max-height:800px}.jsonVisualStateItemComponent span{display:block}.jsonContentComponent{position:absolute;top:0;left:0;right:0;bottom:0;padding:10px;overflow-y:visible;overflow-x:hidden}.jsonItemComponentValue{word-break:break-all;white-space:normal}.jsonSourceItemComponentOpen{font-weight:bold;color:#5db0d7;text-decoration:underline}.sourceCodeMenuComponentContainer{position:absolute;left:0;top:0;bottom:48px;right:40%}.sourceCodeMenuComponentFooter{position:absolute;left:0;right:40%;bottom:0;padding:0 15px}.sourceCodeMenuComponent{font-family:"Montserrat",sans-serif;font-size:13px;font-weight:300;line-height:40px;flex:1 100%;display:flex;flex-flow:row wrap;height:42px;outline:0 none;border-bottom:2px solid #222;box-sizing:border-box;list-style:none;margin:0;background:#2c2c2c;display:-webkit-box;display:-moz-box;display:-ms-flexbox;display:-webkit-flex;display:flex;-webkit-flex-flow:row wrap;flex-flow:row wrap;justify-content:flex-end}.sourceCodeMenuComponent .resultViewMenuOpen{display:none;visibility:hidden}.sourceCodeMenuComponent a{outline:0 none;text-decoration:none;display:block;padding:0 20px 0 20px;color:#ccc;background:#2c2c2c;box-sizing:border-box;height:100%}.sourceCodeMenuComponent a.active{background:#222;color:#fff;font-weight:400;border-bottom:2px solid #f0640d}.sourceCodeMenuComponent a:hover{background:#222;color:#c9c9c9;cursor:pointer;transition:color .3s;-webkit-transition:color .3s;-moz-transition:color .3s}.sourceCodeMenuComponent a:hover.active{color:#f0640d;transition:color 0;-webkit-transition:color 0;-moz-transition:color 0}.sourceCodeMenuComponent a.clearSearch{display:inline-block;padding:0px;margin-left:-30px;margin-right:20px;z-index:9000;color:#f9f9f9}.sourceCodeMenuComponent a.clearSearch:hover{background:#2c2c2c;color:#f0640d}.sourceCodeMenuComponent input{border:0;font-family:"Montserrat",sans-serif;font-weight:300;padding:0 20px 0 20px;background:#464646;color:#f9f9f9;height:100%;position:relative;top:-1px;box-sizing:border-box}.sourceCodeMenuComponent input:focus{border:0;outline:0 none}.sourceCodeMenuComponent .clearSearch{position:relative;background:rgba(0,0,0,0);display:inline;padding:0px;margin-left:-30px;z-index:9000;color:#f0640d}.sourceCodeMenuComponent .clearSearch:hover{background:rgba(0,0,0,0) !important}.sourceCodeMenuComponent ::-webkit-input-placeholder{color:#ccc}.sourceCodeMenuComponent :-moz-placeholder{color:#ccc}.sourceCodeMenuComponent ::-moz-placeholder{color:#ccc}.sourceCodeMenuComponent :-ms-input-placeholder{color:#ccc}.sourceCodeComponent{position:absolute;top:42px;left:0;bottom:48px;right:40%;background:#222;z-index:9000;overflow-x:visible;overflow:auto}.sourceCodeComponent .sourceCodeComponentTitle{font-size:16px;font-weight:800;line-height:50px;color:#f0640d;padding:1em;margin:.5em 0}',""])},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",a=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),a&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),a&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,a,r,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(a)for(var o=0;o<this.length;o++){var m=this[o][0];null!=m&&(i[m]=!0)}for(var c=0;c<e.length;c++){var u=[].concat(e[c]);a&&i[u[0]]||(void 0!==s&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=s),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),r&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=r):u[4]="".concat(r)),t.push(u))}},t}},81:e=>{e.exports=function(e){return e[1]}}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var s=t[a]={id:a,exports:{}};return e[a](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var a={};(()=>{n.r(a),n.d(a,{EmbeddedFrontend:()=>Lt,Spector:()=>Bt});class e{static isBuildableProgram(e){return!!e&&!!e[this.rebuildProgramFunctionName]}static rebuildProgram(e,t,n,a,r){this.isBuildableProgram(e)&&e[this.rebuildProgramFunctionName](t,n,a,r)}}var t;e.rebuildProgramFunctionName="__SPECTOR_rebuildProgram",function(e){e[e.noLog=0]="noLog",e[e.error=1]="error",e[e.warning=2]="warning",e[e.info=3]="info"}(t||(t={}));class r{static error(e,...t){this.level>0&&console.error(e,t)}static warn(e,...t){this.level>1&&console.warn(e,t)}static info(e,...t){this.level>2&&console.log(e,t)}}r.level=t.warning;class s{constructor(){this.callbacks=[],this.counter=-1}add(e,t){return this.counter++,t&&(e=e.bind(t)),this.callbacks[this.counter]=e,this.counter}remove(e){delete this.callbacks[e]}clear(){this.callbacks={}}trigger(e){for(const t in this.callbacks)this.callbacks.hasOwnProperty(t)&&this.callbacks[t](e)}}class i{constructor(){if(window.performance&&window.performance.now)this.nowFunction=this.dateBasedPerformanceNow.bind(this);else{const e=new Date;this.nowFunction=e.getTime.bind(e)}}dateBasedPerformanceNow(){return performance.timing&&performance.timing.navigationStart?performance.timing.navigationStart+performance.now():performance.now()}static get now(){return i.instance.nowFunction()}}i.instance=new i;class o{constructor(e){this.options=e}appendAnalysis(e){e.analyses=e.analyses||[];const t=this.getAnalysis(e);e.analyses.push(t)}getAnalysis(e){const t={analyserName:this.analyserName};return this.appendToAnalysis(e,t),t}}class m extends o{get analyserName(){return m.analyserName}appendToAnalysis(e,t){if(!e.commands)return;const n={};for(const t of e.commands)n[t.name]=n[t.name]||0,n[t.name]++;const a=Object.keys(n).map((e=>[e,n[e]]));a.sort(((e,t)=>{const n=t[1]-e[1];return 0===n?e[0].localeCompare(t[0]):n}));for(const e of a)t[e[0]]=e[1]}}m.analyserName="Commands";const c=["drawArrays","drawElements","drawArraysInstanced","drawArraysInstancedANGLE","drawElementsInstanced","drawElementsInstancedANGLE","drawRangeElements","multiDrawArraysWEBGL","multiDrawElementsWEBGL","multiDrawArraysInstancedWEBGL","multiDrawElementsInstancedWEBGL","multiDrawArraysInstancedBaseInstanceWEBGL","multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL","drawArraysInstancedBaseInstanceWEBGL","drawElementsInstancedBaseVertexBaseInstanceWEBGL"];class u extends o{get analyserName(){return u.analyserName}appendToAnalysis(e,t){if(e.commands){t.total=e.commands.length,t.draw=0,t.clear=0;for(const n of e.commands)"clear"===n.name?t.clear++:c.indexOf(n.name)>-1&&t.draw++}}}u.analyserName="CommandsSummary";class l{static isWebGlConstant(e){return null!==E[e]&&void 0!==E[e]}static stringifyWebGlConstant(e,t){if(null==e)return"";if(0===e){return this.zeroMeaningByCommand[t]||"0"}if(1===e){return this.oneMeaningByCommand[t]||"1"}const n=E[e];return n?n.name:e+""}}l.DEPTH_BUFFER_BIT={name:"DEPTH_BUFFER_BIT",value:256,description:"Passed to clear to clear the current depth buffer."},l.STENCIL_BUFFER_BIT={name:"STENCIL_BUFFER_BIT",value:1024,description:"Passed to clear to clear the current stencil buffer."},l.COLOR_BUFFER_BIT={name:"COLOR_BUFFER_BIT",value:16384,description:"Passed to clear to clear the current color buffer."},l.POINTS={name:"POINTS",value:0,description:"Passed to drawElements or drawArrays to draw single points."},l.LINES={name:"LINES",value:1,description:"Passed to drawElements or drawArrays to draw lines. Each vertex connects to the one after it."},l.LINE_LOOP={name:"LINE_LOOP",value:2,description:"Passed to drawElements or drawArrays to draw lines. Each set of two vertices is treated as a separate line segment."},l.LINE_STRIP={name:"LINE_STRIP",value:3,description:"Passed to drawElements or drawArrays to draw a connected group of line segments from the first vertex to the last."},l.TRIANGLES={name:"TRIANGLES",value:4,description:"Passed to drawElements or drawArrays to draw triangles. Each set of three vertices creates a separate triangle."},l.TRIANGLE_STRIP={name:"TRIANGLE_STRIP",value:5,description:"Passed to drawElements or drawArrays to draw a connected group of triangles."},l.TRIANGLE_FAN={name:"TRIANGLE_FAN",value:6,description:"Passed to drawElements or drawArrays to draw a connected group of triangles. Each vertex connects to the previous and the first vertex in the fan."},l.ZERO={name:"ZERO",value:0,description:"Passed to blendFunc or blendFuncSeparate to turn off a component."},l.ONE={name:"ONE",value:1,description:"Passed to blendFunc or blendFuncSeparate to turn on a component."},l.SRC_COLOR={name:"SRC_COLOR",value:768,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source elements color."},l.ONE_MINUS_SRC_COLOR={name:"ONE_MINUS_SRC_COLOR",value:769,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source elements color."},l.SRC_ALPHA={name:"SRC_ALPHA",value:770,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the source's alpha."},l.ONE_MINUS_SRC_ALPHA={name:"ONE_MINUS_SRC_ALPHA",value:771,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the source's alpha."},l.DST_ALPHA={name:"DST_ALPHA",value:772,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's alpha."},l.ONE_MINUS_DST_ALPHA={name:"ONE_MINUS_DST_ALPHA",value:773,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's alpha."},l.DST_COLOR={name:"DST_COLOR",value:774,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the destination's color."},l.ONE_MINUS_DST_COLOR={name:"ONE_MINUS_DST_COLOR",value:775,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by one minus the destination's color."},l.SRC_ALPHA_SATURATE={name:"SRC_ALPHA_SATURATE",value:776,description:"Passed to blendFunc or blendFuncSeparate to multiply a component by the minimum of source's alpha or one minus the destination's alpha."},l.CONSTANT_COLOR={name:"CONSTANT_COLOR",value:32769,description:"Passed to blendFunc or blendFuncSeparate to specify a constant color blend function."},l.ONE_MINUS_CONSTANT_COLOR={name:"ONE_MINUS_CONSTANT_COLOR",value:32770,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant color blend function."},l.CONSTANT_ALPHA={name:"CONSTANT_ALPHA",value:32771,description:"Passed to blendFunc or blendFuncSeparate to specify a constant alpha blend function."},l.ONE_MINUS_CONSTANT_ALPHA={name:"ONE_MINUS_CONSTANT_ALPHA",value:32772,description:"Passed to blendFunc or blendFuncSeparate to specify one minus a constant alpha blend function."},l.FUNC_ADD={name:"FUNC_ADD",value:32774,description:"Passed to blendEquation or blendEquationSeparate to set an addition blend function."},l.FUNC_SUBSTRACT={name:"FUNC_SUBSTRACT",value:32778,description:"Passed to blendEquation or blendEquationSeparate to specify a subtraction blend function (source - destination)."},l.FUNC_REVERSE_SUBTRACT={name:"FUNC_REVERSE_SUBTRACT",value:32779,description:"Passed to blendEquation or blendEquationSeparate to specify a reverse subtraction blend function (destination - source)."},l.BLEND_EQUATION={name:"BLEND_EQUATION",value:32777,description:"Passed to getParameter to get the current RGB blend function."},l.BLEND_EQUATION_RGB={name:"BLEND_EQUATION_RGB",value:32777,description:"Passed to getParameter to get the current RGB blend function. Same as BLEND_EQUATION"},l.BLEND_EQUATION_ALPHA={name:"BLEND_EQUATION_ALPHA",value:34877,description:"Passed to getParameter to get the current alpha blend function. Same as BLEND_EQUATION"},l.BLEND_DST_RGB={name:"BLEND_DST_RGB",value:32968,description:"Passed to getParameter to get the current destination RGB blend function."},l.BLEND_SRC_RGB={name:"BLEND_SRC_RGB",value:32969,description:"Passed to getParameter to get the current destination RGB blend function."},l.BLEND_DST_ALPHA={name:"BLEND_DST_ALPHA",value:32970,description:"Passed to getParameter to get the current destination alpha blend function."},l.BLEND_SRC_ALPHA={name:"BLEND_SRC_ALPHA",value:32971,description:"Passed to getParameter to get the current source alpha blend function."},l.BLEND_COLOR={name:"BLEND_COLOR",value:32773,description:"Passed to getParameter to return a the current blend color."},l.ARRAY_BUFFER_BINDING={name:"ARRAY_BUFFER_BINDING",value:34964,description:"Passed to getParameter to get the array buffer binding."},l.ELEMENT_ARRAY_BUFFER_BINDING={name:"ELEMENT_ARRAY_BUFFER_BINDING",value:34965,description:"Passed to getParameter to get the current element array buffer."},l.LINE_WIDTH={name:"LINE_WIDTH",value:2849,description:"Passed to getParameter to get the current lineWidth (set by the lineWidth method)."},l.ALIASED_POINT_SIZE_RANGE={name:"ALIASED_POINT_SIZE_RANGE",value:33901,description:"Passed to getParameter to get the current size of a point drawn with gl.POINTS"},l.ALIASED_LINE_WIDTH_RANGE={name:"ALIASED_LINE_WIDTH_RANGE",value:33902,description:"Passed to getParameter to get the range of available widths for a line. Returns a length-2 array with the lo value at 0, and hight at 1."},l.CULL_FACE_MODE={name:"CULL_FACE_MODE",value:2885,description:"Passed to getParameter to get the current value of cullFace. Should return FRONT, BACK, or FRONT_AND_BACK"},l.FRONT_FACE={name:"FRONT_FACE",value:2886,description:"Passed to getParameter to determine the current value of frontFace. Should return CW or CCW."},l.DEPTH_RANGE={name:"DEPTH_RANGE",value:2928,description:"Passed to getParameter to return a length-2 array of floats giving the current depth range."},l.DEPTH_WRITEMASK={name:"DEPTH_WRITEMASK",value:2930,description:"Passed to getParameter to determine if the depth write mask is enabled."},l.DEPTH_CLEAR_VALUE={name:"DEPTH_CLEAR_VALUE",value:2931,description:"Passed to getParameter to determine the current depth clear value."},l.DEPTH_FUNC={name:"DEPTH_FUNC",value:2932,description:"Passed to getParameter to get the current depth function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},l.STENCIL_CLEAR_VALUE={name:"STENCIL_CLEAR_VALUE",value:2961,description:"Passed to getParameter to get the value the stencil will be cleared to."},l.STENCIL_FUNC={name:"STENCIL_FUNC",value:2962,description:"Passed to getParameter to get the current stencil function. Returns NEVER, ALWAYS, LESS, EQUAL, LEQUAL, GREATER, GEQUAL, or NOTEQUAL."},l.STENCIL_FAIL={name:"STENCIL_FAIL",value:2964,description:"Passed to getParameter to get the current stencil fail function. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},l.STENCIL_PASS_DEPTH_FAIL={name:"STENCIL_PASS_DEPTH_FAIL",value:2965,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test fail. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},l.STENCIL_PASS_DEPTH_PASS={name:"STENCIL_PASS_DEPTH_PASS",value:2966,description:"Passed to getParameter to get the current stencil fail function should the depth buffer test pass. Should return KEEP, REPLACE, INCR, DECR, INVERT, INCR_WRAP, or DECR_WRAP."},l.STENCIL_REF={name:"STENCIL_REF",value:2967,description:"Passed to getParameter to get the reference value used for stencil tests."},l.STENCIL_VALUE_MASK={name:"STENCIL_VALUE_MASK",value:2963,description:" "},l.STENCIL_WRITEMASK={name:"STENCIL_WRITEMASK",value:2968,description:" "},l.STENCIL_BACK_FUNC={name:"STENCIL_BACK_FUNC",value:34816,description:" "},l.STENCIL_BACK_FAIL={name:"STENCIL_BACK_FAIL",value:34817,description:" "},l.STENCIL_BACK_PASS_DEPTH_FAIL={name:"STENCIL_BACK_PASS_DEPTH_FAIL",value:34818,description:" "},l.STENCIL_BACK_PASS_DEPTH_PASS={name:"STENCIL_BACK_PASS_DEPTH_PASS",value:34819,description:" "},l.STENCIL_BACK_REF={name:"STENCIL_BACK_REF",value:36003,description:" "},l.STENCIL_BACK_VALUE_MASK={name:"STENCIL_BACK_VALUE_MASK",value:36004,description:" "},l.STENCIL_BACK_WRITEMASK={name:"STENCIL_BACK_WRITEMASK",value:36005,description:" "},l.VIEWPORT={name:"VIEWPORT",value:2978,description:"Returns an Int32Array with four elements for the current viewport dimensions."},l.SCISSOR_BOX={name:"SCISSOR_BOX",value:3088,description:"Returns an Int32Array with four elements for the current scissor box dimensions."},l.COLOR_CLEAR_VALUE={name:"COLOR_CLEAR_VALUE",value:3106,description:" "},l.COLOR_WRITEMASK={name:"COLOR_WRITEMASK",value:3107,description:" "},l.UNPACK_ALIGNMENT={name:"UNPACK_ALIGNMENT",value:3317,description:" "},l.PACK_ALIGNMENT={name:"PACK_ALIGNMENT",value:3333,description:" "},l.MAX_TEXTURE_SIZE={name:"MAX_TEXTURE_SIZE",value:3379,description:" "},l.MAX_VIEWPORT_DIMS={name:"MAX_VIEWPORT_DIMS",value:3386,description:" "},l.SUBPIXEL_BITS={name:"SUBPIXEL_BITS",value:3408,description:" "},l.RED_BITS={name:"RED_BITS",value:3410,description:" "},l.GREEN_BITS={name:"GREEN_BITS",value:3411,description:" "},l.BLUE_BITS={name:"BLUE_BITS",value:3412,description:" "},l.ALPHA_BITS={name:"ALPHA_BITS",value:3413,description:" "},l.DEPTH_BITS={name:"DEPTH_BITS",value:3414,description:" "},l.STENCIL_BITS={name:"STENCIL_BITS",value:3415,description:" "},l.POLYGON_OFFSET_UNITS={name:"POLYGON_OFFSET_UNITS",value:10752,description:" "},l.POLYGON_OFFSET_FACTOR={name:"POLYGON_OFFSET_FACTOR",value:32824,description:" "},l.TEXTURE_BINDING_2D={name:"TEXTURE_BINDING_2D",value:32873,description:" "},l.SAMPLE_BUFFERS={name:"SAMPLE_BUFFERS",value:32936,description:" "},l.SAMPLES={name:"SAMPLES",value:32937,description:" "},l.SAMPLE_COVERAGE_VALUE={name:"SAMPLE_COVERAGE_VALUE",value:32938,description:" "},l.SAMPLE_COVERAGE_INVERT={name:"SAMPLE_COVERAGE_INVERT",value:32939,description:" "},l.COMPRESSED_TEXTURE_FORMATS={name:"COMPRESSED_TEXTURE_FORMATS",value:34467,description:" "},l.VENDOR={name:"VENDOR",value:7936,description:" "},l.RENDERER={name:"RENDERER",value:7937,description:" "},l.VERSION={name:"VERSION",value:7938,description:" "},l.IMPLEMENTATION_COLOR_READ_TYPE={name:"IMPLEMENTATION_COLOR_READ_TYPE",value:35738,description:" "},l.IMPLEMENTATION_COLOR_READ_FORMAT={name:"IMPLEMENTATION_COLOR_READ_FORMAT",value:35739,description:" "},l.BROWSER_DEFAULT_WEBGL={name:"BROWSER_DEFAULT_WEBGL",value:37444,description:" "},l.STATIC_DRAW={name:"STATIC_DRAW",value:35044,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and not change often."},l.STREAM_DRAW={name:"STREAM_DRAW",value:35040,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to not be used often."},l.DYNAMIC_DRAW={name:"DYNAMIC_DRAW",value:35048,description:"Passed to bufferData as a hint about whether the contents of the buffer are likely to be used often and change often."},l.ARRAY_BUFFER={name:"ARRAY_BUFFER",value:34962,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},l.ELEMENT_ARRAY_BUFFER={name:"ELEMENT_ARRAY_BUFFER",value:34963,description:"Passed to bindBuffer or bufferData to specify the type of buffer being used."},l.BUFFER_SIZE={name:"BUFFER_SIZE",value:34660,description:"Passed to getBufferParameter to get a buffer's size."},l.BUFFER_USAGE={name:"BUFFER_USAGE",value:34661,description:"Passed to getBufferParameter to get the hint for the buffer passed in when it was created."},l.CURRENT_VERTEX_ATTRIB={name:"CURRENT_VERTEX_ATTRIB",value:34342,description:"Passed to getVertexAttrib to read back the current vertex attribute."},l.VERTEX_ATTRIB_ARRAY_ENABLED={name:"VERTEX_ATTRIB_ARRAY_ENABLED",value:34338,description:" "},l.VERTEX_ATTRIB_ARRAY_SIZE={name:"VERTEX_ATTRIB_ARRAY_SIZE",value:34339,description:" "},l.VERTEX_ATTRIB_ARRAY_STRIDE={name:"VERTEX_ATTRIB_ARRAY_STRIDE",value:34340,description:" "},l.VERTEX_ATTRIB_ARRAY_TYPE={name:"VERTEX_ATTRIB_ARRAY_TYPE",value:34341,description:" "},l.VERTEX_ATTRIB_ARRAY_NORMALIZED={name:"VERTEX_ATTRIB_ARRAY_NORMALIZED",value:34922,description:" "},l.VERTEX_ATTRIB_ARRAY_POINTER={name:"VERTEX_ATTRIB_ARRAY_POINTER",value:34373,description:" "},l.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING={name:"VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",value:34975,description:" "},l.CULL_FACE={name:"CULL_FACE",value:2884,description:"Passed to enable/disable to turn on/off culling. Can also be used with getParameter to find the current culling method."},l.FRONT={name:"FRONT",value:1028,description:"Passed to cullFace to specify that only front faces should be drawn."},l.BACK={name:"BACK",value:1029,description:"Passed to cullFace to specify that only back faces should be drawn."},l.FRONT_AND_BACK={name:"FRONT_AND_BACK",value:1032,description:"Passed to cullFace to specify that front and back faces should be drawn."},l.BLEND={name:"BLEND",value:3042,description:"Passed to enable/disable to turn on/off blending. Can also be used with getParameter to find the current blending method."},l.DEPTH_TEST={name:"DEPTH_TEST",value:2929,description:"Passed to enable/disable to turn on/off the depth test. Can also be used with getParameter to query the depth test."},l.DITHER={name:"DITHER",value:3024,description:"Passed to enable/disable to turn on/off dithering. Can also be used with getParameter to find the current dithering method."},l.POLYGON_OFFSET_FILL={name:"POLYGON_OFFSET_FILL",value:32823,description:"Passed to enable/disable to turn on/off the polygon offset. Useful for rendering hidden-line images, decals, and or solids with highlighted edges. Can also be used with getParameter to query the scissor test."},l.SAMPLE_ALPHA_TO_COVERAGE={name:"SAMPLE_ALPHA_TO_COVERAGE",value:32926,description:"Passed to enable/disable to turn on/off the alpha to coverage. Used in multi-sampling alpha channels."},l.SAMPLE_COVERAGE={name:"SAMPLE_COVERAGE",value:32928,description:"Passed to enable/disable to turn on/off the sample coverage. Used in multi-sampling."},l.SCISSOR_TEST={name:"SCISSOR_TEST",value:3089,description:"Passed to enable/disable to turn on/off the scissor test. Can also be used with getParameter to query the scissor test."},l.STENCIL_TEST={name:"STENCIL_TEST",value:2960,description:"Passed to enable/disable to turn on/off the stencil test. Can also be used with getParameter to query the stencil test."},l.NO_ERROR={name:"NO_ERROR",value:0,description:"Returned from getError."},l.INVALID_ENUM={name:"INVALID_ENUM",value:1280,description:"Returned from getError."},l.INVALID_VALUE={name:"INVALID_VALUE",value:1281,description:"Returned from getError."},l.INVALID_OPERATION={name:"INVALID_OPERATION",value:1282,description:"Returned from getError."},l.OUT_OF_MEMORY={name:"OUT_OF_MEMORY",value:1285,description:"Returned from getError."},l.CONTEXT_LOST_WEBGL={name:"CONTEXT_LOST_WEBGL",value:37442,description:"Returned from getError."},l.CW={name:"CW",value:2304,description:"Passed to frontFace to specify the front face of a polygon is drawn in the clockwise direction"},l.CCW={name:"CCW",value:2305,description:"Passed to frontFace to specify the front face of a polygon is drawn in the counter clockwise direction"},l.DONT_CARE={name:"DONT_CARE",value:4352,description:"There is no preference for this behavior."},l.FASTEST={name:"FASTEST",value:4353,description:"The most efficient behavior should be used."},l.NICEST={name:"NICEST",value:4354,description:"The most correct or the highest quality option should be used."},l.GENERATE_MIPMAP_HINT={name:"GENERATE_MIPMAP_HINT",value:33170,description:"Hint for the quality of filtering when generating mipmap images with WebGLRenderingContext.generateMipmap()."},l.BYTE={name:"BYTE",value:5120,description:" "},l.UNSIGNED_BYTE={name:"UNSIGNED_BYTE",value:5121,description:" "},l.SHORT={name:"SHORT",value:5122,description:" "},l.UNSIGNED_SHORT={name:"UNSIGNED_SHORT",value:5123,description:" "},l.INT={name:"INT",value:5124,description:" "},l.UNSIGNED_INT={name:"UNSIGNED_INT",value:5125,description:" "},l.FLOAT={name:"FLOAT",value:5126,description:" "},l.DEPTH_COMPONENT={name:"DEPTH_COMPONENT",value:6402,description:" "},l.ALPHA={name:"ALPHA",value:6406,description:" "},l.RGB={name:"RGB",value:6407,description:" "},l.RGBA={name:"RGBA",value:6408,description:" "},l.LUMINANCE={name:"LUMINANCE",value:6409,description:" "},l.LUMINANCE_ALPHA={name:"LUMINANCE_ALPHA",value:6410,description:" "},l.UNSIGNED_SHORT_4_4_4_4={name:"UNSIGNED_SHORT_4_4_4_4",value:32819,description:" "},l.UNSIGNED_SHORT_5_5_5_1={name:"UNSIGNED_SHORT_5_5_5_1",value:32820,description:" "},l.UNSIGNED_SHORT_5_6_5={name:"UNSIGNED_SHORT_5_6_5",value:33635,description:" "},l.FRAGMENT_SHADER={name:"FRAGMENT_SHADER",value:35632,description:"Passed to createShader to define a fragment shader."},l.VERTEX_SHADER={name:"VERTEX_SHADER",value:35633,description:"Passed to createShader to define a vertex shader"},l.COMPILE_STATUS={name:"COMPILE_STATUS",value:35713,description:"Passed to getShaderParamter to get the status of the compilation. Returns false if the shader was not compiled. You can then query getShaderInfoLog to find the exact error"},l.DELETE_STATUS={name:"DELETE_STATUS",value:35712,description:"Passed to getShaderParamter to determine if a shader was deleted via deleteShader. Returns true if it was, false otherwise."},l.LINK_STATUS={name:"LINK_STATUS",value:35714,description:"Passed to getProgramParameter after calling linkProgram to determine if a program was linked correctly. Returns false if there were errors. Use getProgramInfoLog to find the exact error."},l.VALIDATE_STATUS={name:"VALIDATE_STATUS",value:35715,description:"Passed to getProgramParameter after calling validateProgram to determine if it is valid. Returns false if errors were found."},l.ATTACHED_SHADERS={name:"ATTACHED_SHADERS",value:35717,description:"Passed to getProgramParameter after calling attachShader to determine if the shader was attached correctly. Returns false if errors occurred."},l.ACTIVE_ATTRIBUTES={name:"ACTIVE_ATTRIBUTES",value:35721,description:"Passed to getProgramParameter to get the number of attributes active in a program."},l.ACTIVE_UNIFORMS={name:"ACTIVE_UNIFORMS",value:35718,description:"Passed to getProgramParamter to get the number of uniforms active in a program."},l.MAX_VERTEX_ATTRIBS={name:"MAX_VERTEX_ATTRIBS",value:34921,description:" "},l.MAX_VERTEX_UNIFORM_VECTORS={name:"MAX_VERTEX_UNIFORM_VECTORS",value:36347,description:" "},l.MAX_VARYING_VECTORS={name:"MAX_VARYING_VECTORS",value:36348,description:" "},l.MAX_COMBINED_TEXTURE_IMAGE_UNITS={name:"MAX_COMBINED_TEXTURE_IMAGE_UNITS",value:35661,description:" "},l.MAX_VERTEX_TEXTURE_IMAGE_UNITS={name:"MAX_VERTEX_TEXTURE_IMAGE_UNITS",value:35660,description:" "},l.MAX_TEXTURE_IMAGE_UNITS={name:"MAX_TEXTURE_IMAGE_UNITS",value:34930,description:"Implementation dependent number of maximum texture units. At least 8."},l.MAX_FRAGMENT_UNIFORM_VECTORS={name:"MAX_FRAGMENT_UNIFORM_VECTORS",value:36349,description:" "},l.SHADER_TYPE={name:"SHADER_TYPE",value:35663,description:" "},l.SHADING_LANGUAGE_VERSION={name:"SHADING_LANGUAGE_VERSION",value:35724,description:" "},l.CURRENT_PROGRAM={name:"CURRENT_PROGRAM",value:35725,description:" "},l.NEVER={name:"NEVER",value:512,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will never pass. i.e. Nothing will be drawn."},l.ALWAYS={name:"ALWAYS",value:519,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will always pass. i.e. Pixels will be drawn in the order they are drawn."},l.LESS={name:"LESS",value:513,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than the stored value."},l.EQUAL={name:"EQUAL",value:514,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is equals to the stored value."},l.LEQUAL={name:"LEQUAL",value:515,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is less than or equal to the stored value."},l.GREATER={name:"GREATER",value:516,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than the stored value."},l.GEQUAL={name:"GEQUAL",value:518,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is greater than or equal to the stored value."},l.NOTEQUAL={name:"NOTEQUAL",value:517,description:"Passed to depthFunction or stencilFunction to specify depth or stencil tests will pass if the new depth value is not equal to the stored value."},l.KEEP={name:"KEEP",value:7680,description:" "},l.REPLACE={name:"REPLACE",value:7681,description:" "},l.INCR={name:"INCR",value:7682,description:" "},l.DECR={name:"DECR",value:7683,description:" "},l.INVERT={name:"INVERT",value:5386,description:" "},l.INCR_WRAP={name:"INCR_WRAP",value:34055,description:" "},l.DECR_WRAP={name:"DECR_WRAP",value:34056,description:" "},l.NEAREST={name:"NEAREST",value:9728,description:" "},l.LINEAR={name:"LINEAR",value:9729,description:" "},l.NEAREST_MIPMAP_NEAREST={name:"NEAREST_MIPMAP_NEAREST",value:9984,description:" "},l.LINEAR_MIPMAP_NEAREST={name:"LINEAR_MIPMAP_NEAREST",value:9985,description:" "},l.NEAREST_MIPMAP_LINEAR={name:"NEAREST_MIPMAP_LINEAR",value:9986,description:" "},l.LINEAR_MIPMAP_LINEAR={name:"LINEAR_MIPMAP_LINEAR",value:9987,description:" "},l.TEXTURE_MAG_FILTER={name:"TEXTURE_MAG_FILTER",value:10240,description:" "},l.TEXTURE_MIN_FILTER={name:"TEXTURE_MIN_FILTER",value:10241,description:" "},l.TEXTURE_WRAP_S={name:"TEXTURE_WRAP_S",value:10242,description:" "},l.TEXTURE_WRAP_T={name:"TEXTURE_WRAP_T",value:10243,description:" "},l.TEXTURE_2D={name:"TEXTURE_2D",value:3553,description:" "},l.TEXTURE={name:"TEXTURE",value:5890,description:" "},l.TEXTURE_CUBE_MAP={name:"TEXTURE_CUBE_MAP",value:34067,description:" "},l.TEXTURE_BINDING_CUBE_MAP={name:"TEXTURE_BINDING_CUBE_MAP",value:34068,description:" "},l.TEXTURE_CUBE_MAP_POSITIVE_X={name:"TEXTURE_CUBE_MAP_POSITIVE_X",value:34069,description:" "},l.TEXTURE_CUBE_MAP_NEGATIVE_X={name:"TEXTURE_CUBE_MAP_NEGATIVE_X",value:34070,description:" "},l.TEXTURE_CUBE_MAP_POSITIVE_Y={name:"TEXTURE_CUBE_MAP_POSITIVE_Y",value:34071,description:" "},l.TEXTURE_CUBE_MAP_NEGATIVE_Y={name:"TEXTURE_CUBE_MAP_NEGATIVE_Y",value:34072,description:" "},l.TEXTURE_CUBE_MAP_POSITIVE_Z={name:"TEXTURE_CUBE_MAP_POSITIVE_Z",value:34073,description:" "},l.TEXTURE_CUBE_MAP_NEGATIVE_Z={name:"TEXTURE_CUBE_MAP_NEGATIVE_Z",value:34074,description:" "},l.MAX_CUBE_MAP_TEXTURE_SIZE={name:"MAX_CUBE_MAP_TEXTURE_SIZE",value:34076,description:" "},l.TEXTURE0={name:"TEXTURE0",value:33984,description:"A texture unit."},l.TEXTURE1={name:"TEXTURE1",value:33985,description:"A texture unit."},l.TEXTURE2={name:"TEXTURE2",value:33986,description:"A texture unit."},l.TEXTURE3={name:"TEXTURE3",value:33987,description:"A texture unit."},l.TEXTURE4={name:"TEXTURE4",value:33988,description:"A texture unit."},l.TEXTURE5={name:"TEXTURE5",value:33989,description:"A texture unit."},l.TEXTURE6={name:"TEXTURE6",value:33990,description:"A texture unit."},l.TEXTURE7={name:"TEXTURE7",value:33991,description:"A texture unit."},l.TEXTURE8={name:"TEXTURE8",value:33992,description:"A texture unit."},l.TEXTURE9={name:"TEXTURE9",value:33993,description:"A texture unit."},l.TEXTURE10={name:"TEXTURE10",value:33994,description:"A texture unit."},l.TEXTURE11={name:"TEXTURE11",value:33995,description:"A texture unit."},l.TEXTURE12={name:"TEXTURE12",value:33996,description:"A texture unit."},l.TEXTURE13={name:"TEXTURE13",value:33997,description:"A texture unit."},l.TEXTURE14={name:"TEXTURE14",value:33998,description:"A texture unit."},l.TEXTURE15={name:"TEXTURE15",value:33999,description:"A texture unit."},l.TEXTURE16={name:"TEXTURE16",value:34e3,description:"A texture unit."},l.TEXTURE17={name:"TEXTURE17",value:34001,description:"A texture unit."},l.TEXTURE18={name:"TEXTURE18",value:34002,description:"A texture unit."},l.TEXTURE19={name:"TEXTURE19",value:34003,description:"A texture unit."},l.TEXTURE20={name:"TEXTURE20",value:34004,description:"A texture unit."},l.TEXTURE21={name:"TEXTURE21",value:34005,description:"A texture unit."},l.TEXTURE22={name:"TEXTURE22",value:34006,description:"A texture unit."},l.TEXTURE23={name:"TEXTURE23",value:34007,description:"A texture unit."},l.TEXTURE24={name:"TEXTURE24",value:34008,description:"A texture unit."},l.TEXTURE25={name:"TEXTURE25",value:34009,description:"A texture unit."},l.TEXTURE26={name:"TEXTURE26",value:34010,description:"A texture unit."},l.TEXTURE27={name:"TEXTURE27",value:34011,description:"A texture unit."},l.TEXTURE28={name:"TEXTURE28",value:34012,description:"A texture unit."},l.TEXTURE29={name:"TEXTURE29",value:34013,description:"A texture unit."},l.TEXTURE30={name:"TEXTURE30",value:34014,description:"A texture unit."},l.TEXTURE31={name:"TEXTURE31",value:34015,description:"A texture unit."},l.ACTIVE_TEXTURE={name:"ACTIVE_TEXTURE",value:34016,description:"The current active texture unit."},l.REPEAT={name:"REPEAT",value:10497,description:" "},l.CLAMP_TO_EDGE={name:"CLAMP_TO_EDGE",value:33071,description:" "},l.MIRRORED_REPEAT={name:"MIRRORED_REPEAT",value:33648,description:" "},l.FLOAT_VEC2={name:"FLOAT_VEC2",value:35664,description:" "},l.FLOAT_VEC3={name:"FLOAT_VEC3",value:35665,description:" "},l.FLOAT_VEC4={name:"FLOAT_VEC4",value:35666,description:" "},l.INT_VEC2={name:"INT_VEC2",value:35667,description:" "},l.INT_VEC3={name:"INT_VEC3",value:35668,description:" "},l.INT_VEC4={name:"INT_VEC4",value:35669,description:" "},l.BOOL={name:"BOOL",value:35670,description:" "},l.BOOL_VEC2={name:"BOOL_VEC2",value:35671,description:" "},l.BOOL_VEC3={name:"BOOL_VEC3",value:35672,description:" "},l.BOOL_VEC4={name:"BOOL_VEC4",value:35673,description:" "},l.FLOAT_MAT2={name:"FLOAT_MAT2",value:35674,description:" "},l.FLOAT_MAT3={name:"FLOAT_MAT3",value:35675,description:" "},l.FLOAT_MAT4={name:"FLOAT_MAT4",value:35676,description:" "},l.SAMPLER_2D={name:"SAMPLER_2D",value:35678,description:" "},l.SAMPLER_CUBE={name:"SAMPLER_CUBE",value:35680,description:" "},l.LOW_FLOAT={name:"LOW_FLOAT",value:36336,description:" "},l.MEDIUM_FLOAT={name:"MEDIUM_FLOAT",value:36337,description:" "},l.HIGH_FLOAT={name:"HIGH_FLOAT",value:36338,description:" "},l.LOW_INT={name:"LOW_INT",value:36339,description:" "},l.MEDIUM_INT={name:"MEDIUM_INT",value:36340,description:" "},l.HIGH_INT={name:"HIGH_INT",value:36341,description:" "},l.FRAMEBUFFER={name:"FRAMEBUFFER",value:36160,description:" "},l.RENDERBUFFER={name:"RENDERBUFFER",value:36161,description:" "},l.RGBA4={name:"RGBA4",value:32854,description:" "},l.RGB5_A1={name:"RGB5_A1",value:32855,description:" "},l.RGB565={name:"RGB565",value:36194,description:" "},l.DEPTH_COMPONENT16={name:"DEPTH_COMPONENT16",value:33189,description:" "},l.STENCIL_INDEX={name:"STENCIL_INDEX",value:6401,description:" "},l.STENCIL_INDEX8={name:"STENCIL_INDEX8",value:36168,description:" "},l.DEPTH_STENCIL={name:"DEPTH_STENCIL",value:34041,description:" "},l.RENDERBUFFER_WIDTH={name:"RENDERBUFFER_WIDTH",value:36162,description:" "},l.RENDERBUFFER_HEIGHT={name:"RENDERBUFFER_HEIGHT",value:36163,description:" "},l.RENDERBUFFER_INTERNAL_FORMAT={name:"RENDERBUFFER_INTERNAL_FORMAT",value:36164,description:" "},l.RENDERBUFFER_RED_SIZE={name:"RENDERBUFFER_RED_SIZE",value:36176,description:" "},l.RENDERBUFFER_GREEN_SIZE={name:"RENDERBUFFER_GREEN_SIZE",value:36177,description:" "},l.RENDERBUFFER_BLUE_SIZE={name:"RENDERBUFFER_BLUE_SIZE",value:36178,description:" "},l.RENDERBUFFER_ALPHA_SIZE={name:"RENDERBUFFER_ALPHA_SIZE",value:36179,description:" "},l.RENDERBUFFER_DEPTH_SIZE={name:"RENDERBUFFER_DEPTH_SIZE",value:36180,description:" "},l.RENDERBUFFER_STENCIL_SIZE={name:"RENDERBUFFER_STENCIL_SIZE",value:36181,description:" "},l.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",value:36048,description:" "},l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME={name:"FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",value:36049,description:" "},l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",value:36050,description:" "},l.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",value:36051,description:" "},l.COLOR_ATTACHMENT0={name:"COLOR_ATTACHMENT0",value:36064,description:" "},l.DEPTH_ATTACHMENT={name:"DEPTH_ATTACHMENT",value:36096,description:" "},l.STENCIL_ATTACHMENT={name:"STENCIL_ATTACHMENT",value:36128,description:" "},l.DEPTH_STENCIL_ATTACHMENT={name:"DEPTH_STENCIL_ATTACHMENT",value:33306,description:" "},l.NONE={name:"NONE",value:0,description:" "},l.FRAMEBUFFER_COMPLETE={name:"FRAMEBUFFER_COMPLETE",value:36053,description:" "},l.FRAMEBUFFER_INCOMPLETE_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_ATTACHMENT",value:36054,description:" "},l.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT={name:"FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",value:36055,description:" "},l.FRAMEBUFFER_INCOMPLETE_DIMENSIONS={name:"FRAMEBUFFER_INCOMPLETE_DIMENSIONS",value:36057,description:" "},l.FRAMEBUFFER_UNSUPPORTED={name:"FRAMEBUFFER_UNSUPPORTED",value:36061,description:" "},l.FRAMEBUFFER_BINDING={name:"FRAMEBUFFER_BINDING",value:36006,description:" "},l.RENDERBUFFER_BINDING={name:"RENDERBUFFER_BINDING",value:36007,description:" "},l.MAX_RENDERBUFFER_SIZE={name:"MAX_RENDERBUFFER_SIZE",value:34024,description:" "},l.INVALID_FRAMEBUFFER_OPERATION={name:"INVALID_FRAMEBUFFER_OPERATION",value:1286,description:" "},l.UNPACK_FLIP_Y_WEBGL={name:"UNPACK_FLIP_Y_WEBGL",value:37440,description:" "},l.UNPACK_PREMULTIPLY_ALPHA_WEBGL={name:"UNPACK_PREMULTIPLY_ALPHA_WEBGL",value:37441,description:" "},l.UNPACK_COLORSPACE_CONVERSION_WEBGL={name:"UNPACK_COLORSPACE_CONVERSION_WEBGL",value:37443,description:" "},l.READ_BUFFER={name:"READ_BUFFER",value:3074,description:" "},l.UNPACK_ROW_LENGTH={name:"UNPACK_ROW_LENGTH",value:3314,description:" "},l.UNPACK_SKIP_ROWS={name:"UNPACK_SKIP_ROWS",value:3315,description:" "},l.UNPACK_SKIP_PIXELS={name:"UNPACK_SKIP_PIXELS",value:3316,description:" "},l.PACK_ROW_LENGTH={name:"PACK_ROW_LENGTH",value:3330,description:" "},l.PACK_SKIP_ROWS={name:"PACK_SKIP_ROWS",value:3331,description:" "},l.PACK_SKIP_PIXELS={name:"PACK_SKIP_PIXELS",value:3332,description:" "},l.TEXTURE_BINDING_3D={name:"TEXTURE_BINDING_3D",value:32874,description:" "},l.UNPACK_SKIP_IMAGES={name:"UNPACK_SKIP_IMAGES",value:32877,description:" "},l.UNPACK_IMAGE_HEIGHT={name:"UNPACK_IMAGE_HEIGHT",value:32878,description:" "},l.MAX_3D_TEXTURE_SIZE={name:"MAX_3D_TEXTURE_SIZE",value:32883,description:" "},l.MAX_ELEMENTS_VERTICES={name:"MAX_ELEMENTS_VERTICES",value:33e3,description:" "},l.MAX_ELEMENTS_INDICES={name:"MAX_ELEMENTS_INDICES",value:33001,description:" "},l.MAX_TEXTURE_LOD_BIAS={name:"MAX_TEXTURE_LOD_BIAS",value:34045,description:" "},l.MAX_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_FRAGMENT_UNIFORM_COMPONENTS",value:35657,description:" "},l.MAX_VERTEX_UNIFORM_COMPONENTS={name:"MAX_VERTEX_UNIFORM_COMPONENTS",value:35658,description:" "},l.MAX_ARRAY_TEXTURE_LAYERS={name:"MAX_ARRAY_TEXTURE_LAYERS",value:35071,description:" "},l.MIN_PROGRAM_TEXEL_OFFSET={name:"MIN_PROGRAM_TEXEL_OFFSET",value:35076,description:" "},l.MAX_PROGRAM_TEXEL_OFFSET={name:"MAX_PROGRAM_TEXEL_OFFSET",value:35077,description:" "},l.MAX_VARYING_COMPONENTS={name:"MAX_VARYING_COMPONENTS",value:35659,description:" "},l.FRAGMENT_SHADER_DERIVATIVE_HINT={name:"FRAGMENT_SHADER_DERIVATIVE_HINT",value:35723,description:" "},l.RASTERIZER_DISCARD={name:"RASTERIZER_DISCARD",value:35977,description:" "},l.VERTEX_ARRAY_BINDING={name:"VERTEX_ARRAY_BINDING",value:34229,description:" "},l.MAX_VERTEX_OUTPUT_COMPONENTS={name:"MAX_VERTEX_OUTPUT_COMPONENTS",value:37154,description:" "},l.MAX_FRAGMENT_INPUT_COMPONENTS={name:"MAX_FRAGMENT_INPUT_COMPONENTS",value:37157,description:" "},l.MAX_SERVER_WAIT_TIMEOUT={name:"MAX_SERVER_WAIT_TIMEOUT",value:37137,description:" "},l.MAX_ELEMENT_INDEX={name:"MAX_ELEMENT_INDEX",value:36203,description:" "},l.RED={name:"RED",value:6403,description:" "},l.RGB8={name:"RGB8",value:32849,description:" "},l.RGBA8={name:"RGBA8",value:32856,description:" "},l.RGB10_A2={name:"RGB10_A2",value:32857,description:" "},l.TEXTURE_3D={name:"TEXTURE_3D",value:32879,description:" "},l.TEXTURE_WRAP_R={name:"TEXTURE_WRAP_R",value:32882,description:" "},l.TEXTURE_MIN_LOD={name:"TEXTURE_MIN_LOD",value:33082,description:" "},l.TEXTURE_MAX_LOD={name:"TEXTURE_MAX_LOD",value:33083,description:" "},l.TEXTURE_BASE_LEVEL={name:"TEXTURE_BASE_LEVEL",value:33084,description:" "},l.TEXTURE_MAX_LEVEL={name:"TEXTURE_MAX_LEVEL",value:33085,description:" "},l.TEXTURE_COMPARE_MODE={name:"TEXTURE_COMPARE_MODE",value:34892,description:" "},l.TEXTURE_COMPARE_FUNC={name:"TEXTURE_COMPARE_FUNC",value:34893,description:" "},l.SRGB={name:"SRGB",value:35904,description:" "},l.SRGB8={name:"SRGB8",value:35905,description:" "},l.SRGB8_ALPHA8={name:"SRGB8_ALPHA8",value:35907,description:" "},l.COMPARE_REF_TO_TEXTURE={name:"COMPARE_REF_TO_TEXTURE",value:34894,description:" "},l.RGBA32F={name:"RGBA32F",value:34836,description:" "},l.RGB32F={name:"RGB32F",value:34837,description:" "},l.RGBA16F={name:"RGBA16F",value:34842,description:" "},l.RGB16F={name:"RGB16F",value:34843,description:" "},l.TEXTURE_2D_ARRAY={name:"TEXTURE_2D_ARRAY",value:35866,description:" "},l.TEXTURE_BINDING_2D_ARRAY={name:"TEXTURE_BINDING_2D_ARRAY",value:35869,description:" "},l.R11F_G11F_B10F={name:"R11F_G11F_B10F",value:35898,description:" "},l.RGB9_E5={name:"RGB9_E5",value:35901,description:" "},l.RGBA32UI={name:"RGBA32UI",value:36208,description:" "},l.RGB32UI={name:"RGB32UI",value:36209,description:" "},l.RGBA16UI={name:"RGBA16UI",value:36214,description:" "},l.RGB16UI={name:"RGB16UI",value:36215,description:" "},l.RGBA8UI={name:"RGBA8UI",value:36220,description:" "},l.RGB8UI={name:"RGB8UI",value:36221,description:" "},l.RGBA32I={name:"RGBA32I",value:36226,description:" "},l.RGB32I={name:"RGB32I",value:36227,description:" "},l.RGBA16I={name:"RGBA16I",value:36232,description:" "},l.RGB16I={name:"RGB16I",value:36233,description:" "},l.RGBA8I={name:"RGBA8I",value:36238,description:" "},l.RGB8I={name:"RGB8I",value:36239,description:" "},l.RED_INTEGER={name:"RED_INTEGER",value:36244,description:" "},l.RGB_INTEGER={name:"RGB_INTEGER",value:36248,description:" "},l.RGBA_INTEGER={name:"RGBA_INTEGER",value:36249,description:" "},l.R8={name:"R8",value:33321,description:" "},l.RG8={name:"RG8",value:33323,description:" "},l.R16F={name:"R16F",value:33325,description:" "},l.R32F={name:"R32F",value:33326,description:" "},l.RG16F={name:"RG16F",value:33327,description:" "},l.RG32F={name:"RG32F",value:33328,description:" "},l.R8I={name:"R8I",value:33329,description:" "},l.R8UI={name:"R8UI",value:33330,description:" "},l.R16I={name:"R16I",value:33331,description:" "},l.R16UI={name:"R16UI",value:33332,description:" "},l.R32I={name:"R32I",value:33333,description:" "},l.R32UI={name:"R32UI",value:33334,description:" "},l.RG8I={name:"RG8I",value:33335,description:" "},l.RG8UI={name:"RG8UI",value:33336,description:" "},l.RG16I={name:"RG16I",value:33337,description:" "},l.RG16UI={name:"RG16UI",value:33338,description:" "},l.RG32I={name:"RG32I",value:33339,description:" "},l.RG32UI={name:"RG32UI",value:33340,description:" "},l.R8_SNORM={name:"R8_SNORM",value:36756,description:" "},l.RG8_SNORM={name:"RG8_SNORM",value:36757,description:" "},l.RGB8_SNORM={name:"RGB8_SNORM",value:36758,description:" "},l.RGBA8_SNORM={name:"RGBA8_SNORM",value:36759,description:" "},l.RGB10_A2UI={name:"RGB10_A2UI",value:36975,description:" "},l.TEXTURE_IMMUTABLE_FORMAT={name:"TEXTURE_IMMUTABLE_FORMAT",value:37167,description:" "},l.TEXTURE_IMMUTABLE_LEVELS={name:"TEXTURE_IMMUTABLE_LEVELS",value:33503,description:" "},l.UNSIGNED_INT_2_10_10_10_REV={name:"UNSIGNED_INT_2_10_10_10_REV",value:33640,description:" "},l.UNSIGNED_INT_10F_11F_11F_REV={name:"UNSIGNED_INT_10F_11F_11F_REV",value:35899,description:" "},l.UNSIGNED_INT_5_9_9_9_REV={name:"UNSIGNED_INT_5_9_9_9_REV",value:35902,description:" "},l.FLOAT_32_UNSIGNED_INT_24_8_REV={name:"FLOAT_32_UNSIGNED_INT_24_8_REV",value:36269,description:" "},l.UNSIGNED_INT_24_8={name:"UNSIGNED_INT_24_8",value:34042,description:" "},l.HALF_FLOAT={name:"HALF_FLOAT",value:5131,description:" "},l.RG={name:"RG",value:33319,description:" "},l.RG_INTEGER={name:"RG_INTEGER",value:33320,description:" "},l.INT_2_10_10_10_REV={name:"INT_2_10_10_10_REV",value:36255,description:" "},l.CURRENT_QUERY={name:"CURRENT_QUERY",value:34917,description:" "},l.QUERY_RESULT={name:"QUERY_RESULT",value:34918,description:" "},l.QUERY_RESULT_AVAILABLE={name:"QUERY_RESULT_AVAILABLE",value:34919,description:" "},l.ANY_SAMPLES_PASSED={name:"ANY_SAMPLES_PASSED",value:35887,description:" "},l.ANY_SAMPLES_PASSED_CONSERVATIVE={name:"ANY_SAMPLES_PASSED_CONSERVATIVE",value:36202,description:" "},l.MAX_DRAW_BUFFERS={name:"MAX_DRAW_BUFFERS",value:34852,description:" "},l.DRAW_BUFFER0={name:"DRAW_BUFFER0",value:34853,description:" "},l.DRAW_BUFFER1={name:"DRAW_BUFFER1",value:34854,description:" "},l.DRAW_BUFFER2={name:"DRAW_BUFFER2",value:34855,description:" "},l.DRAW_BUFFER3={name:"DRAW_BUFFER3",value:34856,description:" "},l.DRAW_BUFFER4={name:"DRAW_BUFFER4",value:34857,description:" "},l.DRAW_BUFFER5={name:"DRAW_BUFFER5",value:34858,description:" "},l.DRAW_BUFFER6={name:"DRAW_BUFFER6",value:34859,description:" "},l.DRAW_BUFFER7={name:"DRAW_BUFFER7",value:34860,description:" "},l.DRAW_BUFFER8={name:"DRAW_BUFFER8",value:34861,description:" "},l.DRAW_BUFFER9={name:"DRAW_BUFFER9",value:34862,description:" "},l.DRAW_BUFFER10={name:"DRAW_BUFFER10",value:34863,description:" "},l.DRAW_BUFFER11={name:"DRAW_BUFFER11",value:34864,description:" "},l.DRAW_BUFFER12={name:"DRAW_BUFFER12",value:34865,description:" "},l.DRAW_BUFFER13={name:"DRAW_BUFFER13",value:34866,description:" "},l.DRAW_BUFFER14={name:"DRAW_BUFFER14",value:34867,description:" "},l.DRAW_BUFFER15={name:"DRAW_BUFFER15",value:34868,description:" "},l.MAX_COLOR_ATTACHMENTS={name:"MAX_COLOR_ATTACHMENTS",value:36063,description:" "},l.COLOR_ATTACHMENT1={name:"COLOR_ATTACHMENT1",value:36065,description:" "},l.COLOR_ATTACHMENT2={name:"COLOR_ATTACHMENT2",value:36066,description:" "},l.COLOR_ATTACHMENT3={name:"COLOR_ATTACHMENT3",value:36067,description:" "},l.COLOR_ATTACHMENT4={name:"COLOR_ATTACHMENT4",value:36068,description:" "},l.COLOR_ATTACHMENT5={name:"COLOR_ATTACHMENT5",value:36069,description:" "},l.COLOR_ATTACHMENT6={name:"COLOR_ATTACHMENT6",value:36070,description:" "},l.COLOR_ATTACHMENT7={name:"COLOR_ATTACHMENT7",value:36071,description:" "},l.COLOR_ATTACHMENT8={name:"COLOR_ATTACHMENT8",value:36072,description:" "},l.COLOR_ATTACHMENT9={name:"COLOR_ATTACHMENT9",value:36073,description:" "},l.COLOR_ATTACHMENT10={name:"COLOR_ATTACHMENT10",value:36074,description:" "},l.COLOR_ATTACHMENT11={name:"COLOR_ATTACHMENT11",value:36075,description:" "},l.COLOR_ATTACHMENT12={name:"COLOR_ATTACHMENT12",value:36076,description:" "},l.COLOR_ATTACHMENT13={name:"COLOR_ATTACHMENT13",value:36077,description:" "},l.COLOR_ATTACHMENT14={name:"COLOR_ATTACHMENT14",value:36078,description:" "},l.COLOR_ATTACHMENT15={name:"COLOR_ATTACHMENT15",value:36079,description:" "},l.SAMPLER_3D={name:"SAMPLER_3D",value:35679,description:" "},l.SAMPLER_2D_SHADOW={name:"SAMPLER_2D_SHADOW",value:35682,description:" "},l.SAMPLER_2D_ARRAY={name:"SAMPLER_2D_ARRAY",value:36289,description:" "},l.SAMPLER_2D_ARRAY_SHADOW={name:"SAMPLER_2D_ARRAY_SHADOW",value:36292,description:" "},l.SAMPLER_CUBE_SHADOW={name:"SAMPLER_CUBE_SHADOW",value:36293,description:" "},l.INT_SAMPLER_2D={name:"INT_SAMPLER_2D",value:36298,description:" "},l.INT_SAMPLER_3D={name:"INT_SAMPLER_3D",value:36299,description:" "},l.INT_SAMPLER_CUBE={name:"INT_SAMPLER_CUBE",value:36300,description:" "},l.INT_SAMPLER_2D_ARRAY={name:"INT_SAMPLER_2D_ARRAY",value:36303,description:" "},l.UNSIGNED_INT_SAMPLER_2D={name:"UNSIGNED_INT_SAMPLER_2D",value:36306,description:" "},l.UNSIGNED_INT_SAMPLER_3D={name:"UNSIGNED_INT_SAMPLER_3D",value:36307,description:" "},l.UNSIGNED_INT_SAMPLER_CUBE={name:"UNSIGNED_INT_SAMPLER_CUBE",value:36308,description:" "},l.UNSIGNED_INT_SAMPLER_2D_ARRAY={name:"UNSIGNED_INT_SAMPLER_2D_ARRAY",value:36311,description:" "},l.MAX_SAMPLES={name:"MAX_SAMPLES",value:36183,description:" "},l.SAMPLER_BINDING={name:"SAMPLER_BINDING",value:35097,description:" "},l.PIXEL_PACK_BUFFER={name:"PIXEL_PACK_BUFFER",value:35051,description:" "},l.PIXEL_UNPACK_BUFFER={name:"PIXEL_UNPACK_BUFFER",value:35052,description:" "},l.PIXEL_PACK_BUFFER_BINDING={name:"PIXEL_PACK_BUFFER_BINDING",value:35053,description:" "},l.PIXEL_UNPACK_BUFFER_BINDING={name:"PIXEL_UNPACK_BUFFER_BINDING",value:35055,description:" "},l.COPY_READ_BUFFER={name:"COPY_READ_BUFFER",value:36662,description:" "},l.COPY_WRITE_BUFFER={name:"COPY_WRITE_BUFFER",value:36663,description:" "},l.COPY_READ_BUFFER_BINDING={name:"COPY_READ_BUFFER_BINDING",value:36662,description:" "},l.COPY_WRITE_BUFFER_BINDING={name:"COPY_WRITE_BUFFER_BINDING",value:36663,description:" "},l.FLOAT_MAT2x3={name:"FLOAT_MAT2x3",value:35685,description:" "},l.FLOAT_MAT2x4={name:"FLOAT_MAT2x4",value:35686,description:" "},l.FLOAT_MAT3x2={name:"FLOAT_MAT3x2",value:35687,description:" "},l.FLOAT_MAT3x4={name:"FLOAT_MAT3x4",value:35688,description:" "},l.FLOAT_MAT4x2={name:"FLOAT_MAT4x2",value:35689,description:" "},l.FLOAT_MAT4x3={name:"FLOAT_MAT4x3",value:35690,description:" "},l.UNSIGNED_INT_VEC2={name:"UNSIGNED_INT_VEC2",value:36294,description:" "},l.UNSIGNED_INT_VEC3={name:"UNSIGNED_INT_VEC3",value:36295,description:" "},l.UNSIGNED_INT_VEC4={name:"UNSIGNED_INT_VEC4",value:36296,description:" "},l.UNSIGNED_NORMALIZED={name:"UNSIGNED_NORMALIZED",value:35863,description:" "},l.SIGNED_NORMALIZED={name:"SIGNED_NORMALIZED",value:36764,description:" "},l.VERTEX_ATTRIB_ARRAY_INTEGER={name:"VERTEX_ATTRIB_ARRAY_INTEGER",value:35069,description:" "},l.VERTEX_ATTRIB_ARRAY_DIVISOR={name:"VERTEX_ATTRIB_ARRAY_DIVISOR",value:35070,description:" "},l.TRANSFORM_FEEDBACK_BUFFER_MODE={name:"TRANSFORM_FEEDBACK_BUFFER_MODE",value:35967,description:" "},l.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",value:35968,description:" "},l.TRANSFORM_FEEDBACK_VARYINGS={name:"TRANSFORM_FEEDBACK_VARYINGS",value:35971,description:" "},l.TRANSFORM_FEEDBACK_BUFFER_START={name:"TRANSFORM_FEEDBACK_BUFFER_START",value:35972,description:" "},l.TRANSFORM_FEEDBACK_BUFFER_SIZE={name:"TRANSFORM_FEEDBACK_BUFFER_SIZE",value:35973,description:" "},l.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN={name:"TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",value:35976,description:" "},l.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS={name:"MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",value:35978,description:" "},l.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS={name:"MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",value:35979,description:" "},l.INTERLEAVED_ATTRIBS={name:"INTERLEAVED_ATTRIBS",value:35980,description:" "},l.SEPARATE_ATTRIBS={name:"SEPARATE_ATTRIBS",value:35981,description:" "},l.TRANSFORM_FEEDBACK_BUFFER={name:"TRANSFORM_FEEDBACK_BUFFER",value:35982,description:" "},l.TRANSFORM_FEEDBACK_BUFFER_BINDING={name:"TRANSFORM_FEEDBACK_BUFFER_BINDING",value:35983,description:" "},l.TRANSFORM_FEEDBACK={name:"TRANSFORM_FEEDBACK",value:36386,description:" "},l.TRANSFORM_FEEDBACK_PAUSED={name:"TRANSFORM_FEEDBACK_PAUSED",value:36387,description:" "},l.TRANSFORM_FEEDBACK_ACTIVE={name:"TRANSFORM_FEEDBACK_ACTIVE",value:36388,description:" "},l.TRANSFORM_FEEDBACK_BINDING={name:"TRANSFORM_FEEDBACK_BINDING",value:36389,description:" "},l.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",value:33296,description:" "},l.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",value:33297,description:" "},l.FRAMEBUFFER_ATTACHMENT_RED_SIZE={name:"FRAMEBUFFER_ATTACHMENT_RED_SIZE",value:33298,description:" "},l.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE={name:"FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",value:33299,description:" "},l.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE={name:"FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",value:33300,description:" "},l.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE={name:"FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",value:33301,description:" "},l.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE={name:"FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",value:33302,description:" "},l.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE={name:"FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",value:33303,description:" "},l.FRAMEBUFFER_DEFAULT={name:"FRAMEBUFFER_DEFAULT",value:33304,description:" "},l.DEPTH24_STENCIL8={name:"DEPTH24_STENCIL8",value:35056,description:" "},l.DRAW_FRAMEBUFFER_BINDING={name:"DRAW_FRAMEBUFFER_BINDING",value:36006,description:" "},l.READ_FRAMEBUFFER={name:"READ_FRAMEBUFFER",value:36008,description:" "},l.DRAW_FRAMEBUFFER={name:"DRAW_FRAMEBUFFER",value:36009,description:" "},l.READ_FRAMEBUFFER_BINDING={name:"READ_FRAMEBUFFER_BINDING",value:36010,description:" "},l.RENDERBUFFER_SAMPLES={name:"RENDERBUFFER_SAMPLES",value:36011,description:" "},l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER={name:"FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",value:36052,description:" "},l.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE={name:"FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",value:36182,description:" "},l.UNIFORM_BUFFER={name:"UNIFORM_BUFFER",value:35345,description:" "},l.UNIFORM_BUFFER_BINDING={name:"UNIFORM_BUFFER_BINDING",value:35368,description:" "},l.UNIFORM_BUFFER_START={name:"UNIFORM_BUFFER_START",value:35369,description:" "},l.UNIFORM_BUFFER_SIZE={name:"UNIFORM_BUFFER_SIZE",value:35370,description:" "},l.MAX_VERTEX_UNIFORM_BLOCKS={name:"MAX_VERTEX_UNIFORM_BLOCKS",value:35371,description:" "},l.MAX_FRAGMENT_UNIFORM_BLOCKS={name:"MAX_FRAGMENT_UNIFORM_BLOCKS",value:35373,description:" "},l.MAX_COMBINED_UNIFORM_BLOCKS={name:"MAX_COMBINED_UNIFORM_BLOCKS",value:35374,description:" "},l.MAX_UNIFORM_BUFFER_BINDINGS={name:"MAX_UNIFORM_BUFFER_BINDINGS",value:35375,description:" "},l.MAX_UNIFORM_BLOCK_SIZE={name:"MAX_UNIFORM_BLOCK_SIZE",value:35376,description:" "},l.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS={name:"MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",value:35377,description:" "},l.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS={name:"MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",value:35379,description:" "},l.UNIFORM_BUFFER_OFFSET_ALIGNMENT={name:"UNIFORM_BUFFER_OFFSET_ALIGNMENT",value:35380,description:" "},l.ACTIVE_UNIFORM_BLOCKS={name:"ACTIVE_UNIFORM_BLOCKS",value:35382,description:" "},l.UNIFORM_TYPE={name:"UNIFORM_TYPE",value:35383,description:" "},l.UNIFORM_SIZE={name:"UNIFORM_SIZE",value:35384,description:" "},l.UNIFORM_BLOCK_INDEX={name:"UNIFORM_BLOCK_INDEX",value:35386,description:" "},l.UNIFORM_OFFSET={name:"UNIFORM_OFFSET",value:35387,description:" "},l.UNIFORM_ARRAY_STRIDE={name:"UNIFORM_ARRAY_STRIDE",value:35388,description:" "},l.UNIFORM_MATRIX_STRIDE={name:"UNIFORM_MATRIX_STRIDE",value:35389,description:" "},l.UNIFORM_IS_ROW_MAJOR={name:"UNIFORM_IS_ROW_MAJOR",value:35390,description:" "},l.UNIFORM_BLOCK_BINDING={name:"UNIFORM_BLOCK_BINDING",value:35391,description:" "},l.UNIFORM_BLOCK_DATA_SIZE={name:"UNIFORM_BLOCK_DATA_SIZE",value:35392,description:" "},l.UNIFORM_BLOCK_ACTIVE_UNIFORMS={name:"UNIFORM_BLOCK_ACTIVE_UNIFORMS",value:35394,description:" "},l.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES={name:"UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",value:35395,description:" "},l.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",value:35396,description:" "},l.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER={name:"UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",value:35398,description:" "},l.OBJECT_TYPE={name:"OBJECT_TYPE",value:37138,description:" "},l.SYNC_CONDITION={name:"SYNC_CONDITION",value:37139,description:" "},l.SYNC_STATUS={name:"SYNC_STATUS",value:37140,description:" "},l.SYNC_FLAGS={name:"SYNC_FLAGS",value:37141,description:" "},l.SYNC_FENCE={name:"SYNC_FENCE",value:37142,description:" "},l.SYNC_GPU_COMMANDS_COMPLETE={name:"SYNC_GPU_COMMANDS_COMPLETE",value:37143,description:" "},l.UNSIGNALED={name:"UNSIGNALED",value:37144,description:" "},l.SIGNALED={name:"SIGNALED",value:37145,description:" "},l.ALREADY_SIGNALED={name:"ALREADY_SIGNALED",value:37146,description:" "},l.TIMEOUT_EXPIRED={name:"TIMEOUT_EXPIRED",value:37147,description:" "},l.CONDITION_SATISFIED={name:"CONDITION_SATISFIED",value:37148,description:" "},l.WAIT_FAILED={name:"WAIT_FAILED",value:37149,description:" "},l.SYNC_FLUSH_COMMANDS_BIT={name:"SYNC_FLUSH_COMMANDS_BIT",value:1,description:" "},l.COLOR={name:"COLOR",value:6144,description:" "},l.DEPTH={name:"DEPTH",value:6145,description:" "},l.STENCIL={name:"STENCIL",value:6146,description:" "},l.MIN={name:"MIN",value:32775,description:" "},l.MAX={name:"MAX",value:32776,description:" "},l.DEPTH_COMPONENT24={name:"DEPTH_COMPONENT24",value:33190,description:" "},l.STREAM_READ={name:"STREAM_READ",value:35041,description:" "},l.STREAM_COPY={name:"STREAM_COPY",value:35042,description:" "},l.STATIC_READ={name:"STATIC_READ",value:35045,description:" "},l.STATIC_COPY={name:"STATIC_COPY",value:35046,description:" "},l.DYNAMIC_READ={name:"DYNAMIC_READ",value:35049,description:" "},l.DYNAMIC_COPY={name:"DYNAMIC_COPY",value:35050,description:" "},l.DEPTH_COMPONENT32F={name:"DEPTH_COMPONENT32F",value:36012,description:" "},l.DEPTH32F_STENCIL8={name:"DEPTH32F_STENCIL8",value:36013,description:" "},l.INVALID_INDEX={name:"INVALID_INDEX",value:4294967295,description:" "},l.TIMEOUT_IGNORED={name:"TIMEOUT_IGNORED",value:-1,description:" "},l.MAX_CLIENT_WAIT_TIMEOUT_WEBGL={name:"MAX_CLIENT_WAIT_TIMEOUT_WEBGL",value:37447,description:" "},l.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE={name:"VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",value:35070,description:"Describes the frequency divisor used for instanced rendering.",extensionName:"ANGLE_instanced_arrays"},l.UNMASKED_VENDOR_WEBGL={name:"UNMASKED_VENDOR_WEBGL",value:37445,description:"Passed to getParameter to get the vendor string of the graphics driver.",extensionName:"ANGLE_instanced_arrays"},l.UNMASKED_RENDERER_WEBGL={name:"UNMASKED_RENDERER_WEBGL",value:37446,description:"Passed to getParameter to get the renderer string of the graphics driver.",extensionName:"WEBGL_debug_renderer_info"},l.MAX_TEXTURE_MAX_ANISOTROPY_EXT={name:"MAX_TEXTURE_MAX_ANISOTROPY_EXT",value:34047,description:"Returns the maximum available anisotropy.",extensionName:"EXT_texture_filter_anisotropic"},l.TEXTURE_MAX_ANISOTROPY_EXT={name:"TEXTURE_MAX_ANISOTROPY_EXT",value:34046,description:"Passed to texParameter to set the desired maximum anisotropy for a texture.",extensionName:"EXT_texture_filter_anisotropic"},l.COMPRESSED_RGB_S3TC_DXT1_EXT={name:"COMPRESSED_RGB_S3TC_DXT1_EXT",value:33776,description:"A DXT1-compressed image in an RGB image format.",extensionName:"WEBGL_compressed_texture_s3tc"},l.COMPRESSED_RGBA_S3TC_DXT1_EXT={name:"COMPRESSED_RGBA_S3TC_DXT1_EXT",value:33777,description:"A DXT1-compressed image in an RGB image format with a simple on/off alpha value.",extensionName:"WEBGL_compressed_texture_s3tc"},l.COMPRESSED_RGBA_S3TC_DXT3_EXT={name:"COMPRESSED_RGBA_S3TC_DXT3_EXT",value:33778,description:"A DXT3-compressed image in an RGBA image format. Compared to a 32-bit RGBA texture, it offers 4:1 compression.",extensionName:"WEBGL_compressed_texture_s3tc"},l.COMPRESSED_RGBA_S3TC_DXT5_EXT={name:"COMPRESSED_RGBA_S3TC_DXT5_EXT",value:33779,description:"A DXT5-compressed image in an RGBA image format. It also provides a 4:1 compression, but differs to the DXT3 compression in how the alpha compression is done.",extensionName:"WEBGL_compressed_texture_s3tc"},l.COMPRESSED_R11_EAC={name:"COMPRESSED_R11_EAC",value:37488,description:"One-channel (red) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_SIGNED_R11_EAC={name:"COMPRESSED_SIGNED_R11_EAC",value:37489,description:"One-channel (red) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_RG11_EAC={name:"COMPRESSED_RG11_EAC",value:37490,description:"Two-channel (red and green) unsigned format compression.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_SIGNED_RG11_EAC={name:"COMPRESSED_SIGNED_RG11_EAC",value:37491,description:"Two-channel (red and green) signed format compression.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_RGB8_ETC2={name:"COMPRESSED_RGB8_ETC2",value:37492,description:"Compresses RBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_RGBA8_ETC2_EAC={name:"COMPRESSED_RGBA8_ETC2_EAC",value:37493,description:"Compresses RGBA8 data. The RGB part is encoded the same as RGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_SRGB8_ETC2={name:"COMPRESSED_SRGB8_ETC2",value:37494,description:"Compresses sRBG8 data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC={name:"COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",value:37495,description:"Compresses sRGBA8 data. The sRGB part is encoded the same as SRGB_ETC2, but the alpha part is encoded separately.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37496,description:"Similar to RGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2={name:"COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",value:37497,description:"Similar to SRGB8_ETC, but with ability to punch through the alpha channel, which means to make it completely opaque or transparent.",extensionName:"WEBGL_compressed_texture_etc"},l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_4BPPV1_IMG",value:35840,description:"RGB compression in 4-bit mode. One block for each 4×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",value:35842,description:"RGBA compression in 4-bit mode. One block for each 4×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGB_PVRTC_2BPPV1_IMG",value:35841,description:"RGB compression in 2-bit mode. One block for each 8×4 pixels.",extensionName:"WEBGL_compressed_texture_pvrtc"},l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG={name:"COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",value:35843,description:"RGBA compression in 2-bit mode. One block for each 8×4 pixe",extensionName:"WEBGL_compressed_texture_pvrtc"},l.COMPRESSED_RGB_ETC1_WEBGL={name:"COMPRESSED_RGB_ETC1_WEBGL",value:36196,description:"Compresses 24-bit RGB data with no alpha channel.",extensionName:"WEBGL_compressed_texture_etc1"},l.COMPRESSED_RGB_ATC_WEBGL={name:"COMPRESSED_RGB_ATC_WEBGL",value:35986,description:"Compresses RGB textures with no alpha channel.",extensionName:"WEBGL_compressed_texture_atc"},l.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",value:35986,description:"Compresses RGBA textures using explicit alpha encoding (useful when alpha transitions are sharp).",extensionName:"WEBGL_compressed_texture_atc"},l.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL={name:"COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",value:34798,description:"Compresses RGBA textures using interpolated alpha encoding (useful when alpha transitions are gradient).",extensionName:"WEBGL_compressed_texture_atc"},l.UNSIGNED_INT_24_8_WEBGL={name:"UNSIGNED_INT_24_8_WEBGL",value:34042,description:"Unsigned integer type for 24-bit depth texture data.",extensionName:"WEBGL_depth_texture"},l.HALF_FLOAT_OES={name:"HALF_FLOAT_OES",value:36193,description:"Half floating-point type (16-bit).",extensionName:"OES_texture_half_float"},l.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT={name:"FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",value:33297,description:" ",extensionName:"WEBGL_color_buffer_float"},l.UNSIGNED_NORMALIZED_EXT={name:"UNSIGNED_NORMALIZED_EXT",value:35863,description:" ",extensionName:"WEBGL_color_buffer_float"},l.MIN_EXT={name:"MIN_EXT",value:32775,description:"Produces the minimum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},l.MAX_EXT={name:"MAX_EXT",value:32776,description:"Produces the maximum color components of the source and destination colors.",extensionName:"EXT_blend_minmax"},l.SRGB_EXT={name:"SRGB_EXT",value:35904,description:"Unsized sRGB format that leaves the precision up to the driver.",extensionName:"EXT_sRGB"},l.SRGB_ALPHA_EXT={name:"SRGB_ALPHA_EXT",value:35906,description:"Unsized sRGB format with unsized alpha component.",extensionName:"EXT_sRGB"},l.SRGB8_ALPHA8_EXT={name:"SRGB8_ALPHA8_EXT",value:35907,description:"Sized (8-bit) sRGB and alpha formats.",extensionName:"EXT_sRGB"},l.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT={name:"FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",value:33296,description:"Returns the framebuffer color encoding.",extensionName:"EXT_sRGB"},l.FRAGMENT_SHADER_DERIVATIVE_HINT_OES={name:"FRAGMENT_SHADER_DERIVATIVE_HINT_OES",value:35723,description:"Indicates the accuracy of the derivative calculation for the GLSL built-in functions: dFdx, dFdy, and fwidth.",extensionName:"OES_standard_derivatives"},l.COLOR_ATTACHMENT0_WEBGL={name:"COLOR_ATTACHMENT0_WEBGL",value:36064,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT1_WEBGL={name:"COLOR_ATTACHMENT1_WEBGL",value:36065,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT2_WEBGL={name:"COLOR_ATTACHMENT2_WEBGL",value:36066,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT3_WEBGL={name:"COLOR_ATTACHMENT3_WEBGL",value:36067,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT4_WEBGL={name:"COLOR_ATTACHMENT4_WEBGL",value:36068,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT5_WEBGL={name:"COLOR_ATTACHMENT5_WEBGL",value:36069,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT6_WEBGL={name:"COLOR_ATTACHMENT6_WEBGL",value:36070,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT7_WEBGL={name:"COLOR_ATTACHMENT7_WEBGL",value:36071,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT8_WEBGL={name:"COLOR_ATTACHMENT8_WEBGL",value:36072,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT9_WEBGL={name:"COLOR_ATTACHMENT9_WEBGL",value:36073,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT10_WEBGL={name:"COLOR_ATTACHMENT10_WEBGL",value:36074,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT11_WEBGL={name:"COLOR_ATTACHMENT11_WEBGL",value:36075,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT12_WEBGL={name:"COLOR_ATTACHMENT12_WEBGL",value:36076,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT13_WEBGL={name:"COLOR_ATTACHMENT13_WEBGL",value:36077,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT14_WEBGL={name:"COLOR_ATTACHMENT14_WEBGL",value:36078,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.COLOR_ATTACHMENT15_WEBGL={name:"COLOR_ATTACHMENT15_WEBGL",value:36079,description:"Framebuffer color attachment point",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER0_WEBGL={name:"DRAW_BUFFER0_WEBGL",value:34853,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER1_WEBGL={name:"DRAW_BUFFER1_WEBGL",value:34854,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER2_WEBGL={name:"DRAW_BUFFER2_WEBGL",value:34855,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER3_WEBGL={name:"DRAW_BUFFER3_WEBGL",value:34856,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER4_WEBGL={name:"DRAW_BUFFER4_WEBGL",value:34857,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER5_WEBGL={name:"DRAW_BUFFER5_WEBGL",value:34858,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER6_WEBGL={name:"DRAW_BUFFER6_WEBGL",value:34859,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER7_WEBGL={name:"DRAW_BUFFER7_WEBGL",value:34860,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER8_WEBGL={name:"DRAW_BUFFER8_WEBGL",value:34861,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER9_WEBGL={name:"DRAW_BUFFER9_WEBGL",value:34862,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER10_WEBGL={name:"DRAW_BUFFER10_WEBGL",value:34863,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER11_WEBGL={name:"DRAW_BUFFER11_WEBGL",value:34864,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER12_WEBGL={name:"DRAW_BUFFER12_WEBGL",value:34865,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER13_WEBGL={name:"DRAW_BUFFER13_WEBGL",value:34866,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER14_WEBGL={name:"DRAW_BUFFER14_WEBGL",value:34867,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.DRAW_BUFFER15_WEBGL={name:"DRAW_BUFFER15_WEBGL",value:34868,description:"Draw buffer",extensionName:"WEBGL_draw_buffers"},l.MAX_COLOR_ATTACHMENTS_WEBGL={name:"MAX_COLOR_ATTACHMENTS_WEBGL",value:36063,description:"Maximum number of framebuffer color attachment points",extensionName:"WEBGL_draw_buffers"},l.MAX_DRAW_BUFFERS_WEBGL={name:"MAX_DRAW_BUFFERS_WEBGL",value:34852,description:"Maximum number of draw buffers",extensionName:"WEBGL_draw_buffers"},l.VERTEX_ARRAY_BINDING_OES={name:"VERTEX_ARRAY_BINDING_OES",value:34229,description:"The bound vertex array object (VAO).",extensionName:"VERTEX_ARRAY_BINDING_OES"},l.QUERY_COUNTER_BITS_EXT={name:"QUERY_COUNTER_BITS_EXT",value:34916,description:"The number of bits used to hold the query result for the given target.",extensionName:"EXT_disjoint_timer_query"},l.CURRENT_QUERY_EXT={name:"CURRENT_QUERY_EXT",value:34917,description:"The currently active query.",extensionName:"EXT_disjoint_timer_query"},l.QUERY_RESULT_EXT={name:"QUERY_RESULT_EXT",value:34918,description:"The query result.",extensionName:"EXT_disjoint_timer_query"},l.QUERY_RESULT_AVAILABLE_EXT={name:"QUERY_RESULT_AVAILABLE_EXT",value:34919,description:"A Boolean indicating whether or not a query result is available.",extensionName:"EXT_disjoint_timer_query"},l.TIME_ELAPSED_EXT={name:"TIME_ELAPSED_EXT",value:35007,description:"Elapsed time (in nanoseconds).",extensionName:"EXT_disjoint_timer_query"},l.TIMESTAMP_EXT={name:"TIMESTAMP_EXT",value:36392,description:"The current time.",extensionName:"EXT_disjoint_timer_query"},l.GPU_DISJOINT_EXT={name:"GPU_DISJOINT_EXT",value:36795,description:"A Boolean indicating whether or not the GPU performed any disjoint operation.",extensionName:"EXT_disjoint_timer_query"},l.zeroMeaningByCommand={getError:"NO_ERROR",blendFunc:"ZERO",blendFuncSeparate:"ZERO",readBuffer:"NONE",getFramebufferAttachmentParameter:"NONE",texParameterf:"NONE",texParameteri:"NONE",drawArrays:"POINTS",drawElements:"POINTS",drawArraysInstanced:"POINTS",drawArraysInstancedAngle:"POINTS",drawBuffers:"POINTS",drawElementsInstanced:"POINTS",drawRangeElements:"POINTS"},l.oneMeaningByCommand={blendFunc:"ONE",blendFuncSeparate:"ONE",drawArrays:"LINES",drawElements:"LINES",drawArraysInstanced:"LINES",drawArraysInstancedAngle:"LINES",drawBuffers:"LINES",drawElementsInstanced:"LINES",drawRangeElements:"LINES"};const d={},E={};!function(){for(const e in l)if(l.hasOwnProperty(e)){const t=l[e];d[t.name]=t,E[t.value]=t}}();class p extends o{get analyserName(){return p.analyserName}appendToAnalysis(e,t){if(!e.commands)return;const n={total:0,totalTriangles:0,totalTriangleStrip:0,totalTriangleFan:0,totalLines:0,totalLineStrip:0,totalLineLoop:0,totalPoints:0};for(const t of e.commands)"drawArrays"===t.name&&t.commandArguments.length>=3||"drawArraysInstanced"===t.name&&t.commandArguments.length>=3||"drawArraysInstancedANGLE"===t.name&&t.commandArguments.length>=3?this.appendToPrimitives(n,t.commandArguments[0],t.commandArguments[2]):"drawElements"===t.name&&t.commandArguments.length>=2||"drawElementsInstanced"===t.name&&t.commandArguments.length>=2||"drawElementsInstancedANGLE"===t.name&&t.commandArguments.length>=2?this.appendToPrimitives(n,t.commandArguments[0],t.commandArguments[1]):"drawRangeElements"===t.name&&t.commandArguments.length>=4&&this.appendToPrimitives(n,t.commandArguments[0],t.commandArguments[3]);t.total=n.total,t.triangles=n.totalTriangles,t.triangleStrip=n.totalTriangleStrip,t.triangleFan=n.totalTriangleFan,t.lines=n.totalLines,t.lineStrip=n.totalLineStrip,t.lineLoop=n.totalLineLoop,t.points=n.totalPoints}appendToPrimitives(e,t,n){t===l.POINTS.value?e.totalPoints+=n:t===l.LINES.value?e.totalLines+=n:t===l.LINE_STRIP.value?e.totalLineStrip+=n:t===l.LINE_LOOP.value?e.totalLineLoop+=n:t===l.TRIANGLES.value?e.totalTriangles+=n:t===l.TRIANGLE_STRIP.value?e.totalTriangleStrip+=n:t===l.TRIANGLE_FAN.value&&(e.totalTriangleFan+=n),e.total+=n}}p.analyserName="Primitives";class _{constructor(e){this.contextInformation=e,this.analysers=[],this.initAnalysers()}appendAnalyses(e){for(const t in this.analysers)this.analysers.hasOwnProperty(t)&&this.analysers[t].appendAnalysis(e)}initAnalysers(){this.analysers.push(new m(this.contextInformation),new u(this.contextInformation),new p(this.contextInformation))}}class h{static getWebGlObjectTag(e){return e[h.SPECTOROBJECTTAGKEY]}static attachWebGlObjectTag(e,t){t.displayText=h.stringifyWebGlObjectTag(t),e[h.SPECTOROBJECTTAGKEY]=t}static stringifyWebGlObjectTag(e){return e?`${e.typeName} - ID: ${e.id}`:"No tag available."}}h.SPECTOROBJECTTAGKEY="__SPECTOR_Object_TAG";class T{constructor(){this.id=0}get type(){return window[this.typeName]||null}tagWebGlObject(e){if(!this.type)return;let t;if(!e)return t;if(t=h.getWebGlObjectTag(e),t)return t;if(e instanceof this.type){const n=this.getNextId();return t={typeName:this.typeName,id:n},h.attachWebGlObjectTag(e,t),t}return t}getNextId(){return this.id++}}class C{constructor(e){this.options=e}createCapture(e,t,n){const a=class{static getStackTrace(e=0,t=0){const n=[];try{throw new Error("Errorator.")}catch(e){if(e.stack){const t=e.stack.split("\n");for(let e=0,a=t.length;e<a;e++)t[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)?n.push(t[e]):0===t[e].indexOf("    at ")?(t[e]=t[e].replace("    at ",""),n.push(t[e])):-1!==t[e].indexOf("/<@http")?(t[e]=t[e].substring(t[e].indexOf("/<@http")+3),n.push(t[e])):-1!==t[e].indexOf("@http")&&(t[e]=t[e].replace("@http"," (http"),t[e]=t[e]+")",n.push(t[e]))}else if(e.message){const t=e.message.split("\n");for(let e=0,a=t.length;e<a;e++)if(t[e].match(/^\s*[A-Za-z0-9\-_\$]+\(/)){let a=t[e];t[e+1]&&(a+=" at "+t[e+1],e++),n.push(a)}}}if(!n){let e=arguments.callee.caller;for(;e;){const t=e.toString(),a=t.substring(t.indexOf("function")+8,t.indexOf(""))||"anonymous";n.push(a),e=e.caller}}if(n){n.shift();for(let t=0;t<e&&n.length>0;t++)n.shift();for(let e=0;e<t&&n.length>0;e++)n.pop()}return n}}.getStackTrace(4,1),r=0===e.name.indexOf("uniform")?this.stringifyUniform(e.arguments):this.stringify(e.arguments,e.result),s={id:t,startTime:e.startTime,commandEndTime:e.endTime,endTime:0,name:e.name,commandArguments:e.arguments,result:e.result,stackTrace:a,status:0,marker:n,text:r};this.transformCapture(s);for(let e=0;e<s.commandArguments.length;e++){const t=s.commandArguments[e];t&&t.length&&t.length>50&&(s.commandArguments[e]="Array Length: "+t.length)}if(s.commandArguments){const e=[];for(let t=0;t<s.commandArguments.length;t++){const n=s.commandArguments[t];void 0===n?e.push(void 0):null===n?e.push(null):e.push(JSON.parse(this.stringifyJSON(n)))}s.commandArguments=e}return s.result&&(s.result=JSON.parse(this.stringifyJSON(s.result))),s}stringifyJSON(e){try{return JSON.stringify(e)}catch(e){return null}}transformCapture(e){}stringify(e,t){let n=this.spiedCommandName;return e&&e.length>0&&(n+=": "+this.stringifyArgs(e).join(", ")),null!=t&&(n+=" -> "+this.stringifyResult(t)),n}stringifyUniform(e){let t=this.spiedCommandName;if(e&&e.length>0){const n=[];n.push(this.stringifyValue(e[0]));for(let t=1;t<e.length;t++)if("number"==typeof e[t]){const a=e[t]+"";n.push(a)}else{const a=this.stringifyValue(e[t]);n.push(a)}t+=": "+n.join(", ")}return t}stringifyArgs(e){const t=[];for(let n=0;n<e.length;n++){const a=e[n],r=this.stringifyValue(a);t.push(r)}return t}stringifyResult(e){if(e)return this.stringifyValue(e)}stringifyValue(e){if(null===e)return"null";if(void 0===e)return"undefined";const t=h.getWebGlObjectTag(e);return t?t.displayText:"number"==typeof e&&l.isWebGlConstant(e)?l.stringifyWebGlConstant(e,this.spiedCommandName):"string"==typeof e?e:e instanceof HTMLImageElement?e.src:e instanceof ArrayBuffer?"[--("+e.byteLength+")--]":e.length?"[..("+e.length+")..]":e.byteLength?"[..("+e.byteLength+")..]":e}}class R extends C{get spiedCommandName(){return R.commandName}stringifyArgs(e){var t,n;const a=[];for(let r=0;r<e.length;r++){const s=e[r];if(r>0&&"number"==typeof s)a.push(null!==(n=null===(t=e[r])||void 0===t?void 0:t.toFixed(0))&&void 0!==n?n:"0");else{const e=this.stringifyValue(s);a.push(e)}}return a}}R.commandName="bufferSubData";class A{static storeOriginFunction(e,t){if(!e)return;if(!e[t])return;const n=this.getOriginFunctionName(t);e[n]||(e[n]=e[t])}static resetOriginFunction(e,t){if(!e)return;if(!e[t])return;const n=this.getOriginFunctionName(t);e[n]&&(e[t]=e[n],delete e[n])}static storePrototypeOriginFunction(e,t){if(!e)return;if(!e.prototype[t])return;const n=this.getOriginFunctionName(t);e.prototype[n]||(e.prototype[n]=e.prototype[t])}static executePrototypeOriginFunction(e,t,n,a){if(!e)return;const r=this.getOriginFunctionName(n);return t.prototype[r]?(e[r]||(e[r]=t.prototype[r]),this.executeFunction(e,r,a)):void 0}static executeOriginFunction(e,t,n){if(!e)return;const a=this.getOriginFunctionName(t);return e[a]?this.executeFunction(e,a,n):void 0}static executeFunction(e,t,n){const a=n;if(void 0===a||0===a.length)return e[t]();switch(a.length){case 1:return e[t](a[0]);case 2:return e[t](a[0],a[1]);case 3:return e[t](a[0],a[1],a[2]);case 4:return e[t](a[0],a[1],a[2],a[3]);case 5:return e[t](a[0],a[1],a[2],a[3],a[4]);case 6:return e[t](a[0],a[1],a[2],a[3],a[4],a[5]);case 7:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6]);case 8:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7]);case 9:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8]);case 10:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9]);case 11:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10]);case 12:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11]);case 13:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12]);case 14:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13]);case 15:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14]);case 16:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15]);case 17:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16]);case 18:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17]);case 19:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18]);case 20:return e[t](a[0],a[1],a[2],a[3],a[4],a[5],a[6],a[7],a[8],a[9],a[10],a[11],a[12],a[13],a[14],a[15],a[16],a[17],a[18],a[19]);default:return e[t].apply(e,a)}}static getOriginFunctionName(e){return this.originFunctionPrefix+e}}A.originFunctionPrefix="__SPECTOR_Origin_";class S extends C{get spiedCommandName(){return S.commandName}stringifyArgs(e){const t=[];if(e.length>0){const n=e[0],a=this.stringifyValue(n);t.push(a)}if(e.length>1){const n=""+e[1];t.push(n)}return e.length>2&&t.push(e[2]),t}}S.commandName="bindAttribLocation";class g extends C{get spiedCommandName(){return g.commandName}stringifyArgs(e){const t=[],n=this.options.context.getParameter(l.READ_FRAMEBUFFER_BINDING.value),a=this.options.tagWebGlObject(n);t.push("READ FROM: "+this.stringifyValue(a));const r=this.options.context.getParameter(l.DRAW_FRAMEBUFFER_BINDING.value),s=this.options.tagWebGlObject(r);t.push("WRITE TO: "+this.stringifyValue(s));for(let n=0;n<8;n++)t.push(e[n]);return(e[8]&l.DEPTH_BUFFER_BIT.value)===l.DEPTH_BUFFER_BIT.value&&t.push(l.DEPTH_BUFFER_BIT.name),(e[8]&l.STENCIL_BUFFER_BIT.value)===l.STENCIL_BUFFER_BIT.value&&t.push(l.STENCIL_BUFFER_BIT.name),(e[8]&l.COLOR_BUFFER_BIT.value)===l.COLOR_BUFFER_BIT.value&&t.push(l.COLOR_BUFFER_BIT.name),t.push(l.stringifyWebGlConstant(e[9],"blitFrameBuffer")),t}}g.commandName="blitFrameBuffer";class f extends C{get spiedCommandName(){return f.commandName}stringifyArgs(e){const t=[];return(e[0]&l.DEPTH_BUFFER_BIT.value)===l.DEPTH_BUFFER_BIT.value&&t.push(l.DEPTH_BUFFER_BIT.name),(e[0]&l.STENCIL_BUFFER_BIT.value)===l.STENCIL_BUFFER_BIT.value&&t.push(l.STENCIL_BUFFER_BIT.name),(e[0]&l.COLOR_BUFFER_BIT.value)===l.COLOR_BUFFER_BIT.value&&t.push(l.COLOR_BUFFER_BIT.name),t}}f.commandName="clear";const N=["lineWidth"];class v extends C{constructor(e,t){super(e),this.internalSpiedCommandName=t,this.isDeprecated=N.indexOf(this.spiedCommandName)>-1}get spiedCommandName(){return this.internalSpiedCommandName}transformCapture(e){this.isDeprecated&&(e.status=50)}}class I extends C{get spiedCommandName(){return I.commandName}stringifyArgs(e){const t=[];return t.push(e[0]),t}}I.commandName="disableVertexAttribArray";class F extends C{get spiedCommandName(){return F.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArrays")),t.push(e[1]),t.push(e[2]),t}}F.commandName="drawArrays";class x extends C{get spiedCommandName(){return x.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArraysInstanced")),t.push(e[1]),t.push(e[2]),t.push(e[3]),t}}x.commandName="drawArraysInstanced";class O extends C{get spiedCommandName(){return O.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArraysInstancedANGLE")),t.push(e[1]),t.push(e[2]),t.push(e[3]),t}}O.commandName="drawArraysInstancedANGLE";class L extends C{get spiedCommandName(){return L.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawElements")),t.push(e[1]),t.push(l.stringifyWebGlConstant(e[2],"drawElements")),t.push(e[3]),t}}L.commandName="drawElements";class B extends C{get spiedCommandName(){return B.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawElementsInstancedANGLE")),t.push(e[1]),t.push(l.stringifyWebGlConstant(e[2],"drawElementsInstancedANGLE")),t.push(e[3]),t.push(e[4]),t}}B.commandName="drawElementsInstancedANGLE";class M extends C{get spiedCommandName(){return M.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawElementsInstanced")),t.push(e[1]),t.push(l.stringifyWebGlConstant(e[2],"drawElementsInstanced")),t.push(e[3]),t.push(e[4]),t}}M.commandName="drawElementsInstanced";class b extends C{get spiedCommandName(){return b.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawRangeElements")),t.push(e[1]),t.push(e[2]),t.push(e[3]),t.push(l.stringifyWebGlConstant(e[4],"drawRangeElements")),t.push(e[5]),t}}b.commandName="drawRangeElements";class P extends C{get spiedCommandName(){return P.commandName}stringifyResult(e){if(e)return`name: ${e.name}, size: ${e.size}, type: ${e.type}`}}P.commandName="getActiveAttrib";class U extends C{get spiedCommandName(){return U.commandName}stringifyResult(e){if(e)return`name: ${e.name}, size: ${e.size}, type: ${e.type}`}}U.commandName="getActiveUniform";class D extends C{get spiedCommandName(){return D.commandName}stringifyResult(e){var t;if(null!=e)return null!==(t=null==e?void 0:e.toFixed(0))&&void 0!==t?t:"0"}}D.commandName="getAttribLocation";class y extends C{get spiedCommandName(){return y.commandName}stringifyResult(e){return e?"true":"false"}}y.commandName="getExtension";class G extends C{get spiedCommandName(){return G.commandName}stringifyResult(e){if(!e)return"null";const t=h.getWebGlObjectTag(e);return t?t.displayText:e}}G.commandName="getParameter";class w extends C{get spiedCommandName(){return w.commandName}stringifyResult(e){if(e)return`min: ${e.rangeMin}, max: ${e.rangeMax}, precision: ${e.precision}`}}w.commandName="getShaderPrecisionFormat";class V extends C{get spiedCommandName(){return V.commandName}stringifyResult(e){if(e)return`name: ${e.name}, size: ${e.size}, type: ${e.type}`}}V.commandName="getTransformFeedbackVarying";class X extends C{get spiedCommandName(){return X.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"multiDrawArraysInstancedBaseInstanceWEBGL")),t.push(`drawCount=${e[9]}`),t.push(e[2]),t.push(e[4]),t.push(e[6]),t.push(e[8]),t}}X.commandName="multiDrawArraysInstancedBaseInstanceWEBGL";class W extends C{get spiedCommandName(){return W.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArrays")),t.push(`drawCount=${e[7]}`),t.push(e[2]),t.push(e[4]),t.push(e[6]),t}}W.commandName="multiDrawArraysInstancedWEBGL";class H extends C{get spiedCommandName(){return H.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArrays")),t.push(`drawCount=${e[5]}`),t.push(e[2]),t.push(e[4]),t}}H.commandName="multiDrawArraysWEBGL";class k extends C{get spiedCommandName(){return k.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArrays")),t.push(l.stringifyWebGlConstant(e[3],"drawArrays")),t.push(`drawCount=${e[11]}`),t.push(e[2]),t.push(e[4]),t.push(e[6]),t.push(e[8]),t.push(e[10]),t}}k.commandName="multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL";class Y extends C{get spiedCommandName(){return Y.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArrays")),t.push(l.stringifyWebGlConstant(e[3],"drawArrays")),t.push(`drawCount=${e[8]}`),t.push(e[2]),t.push(e[5]),t.push(e[7]),t}}Y.commandName="multiDrawElementsInstancedWEBGL";class K extends C{get spiedCommandName(){return K.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArrays")),t.push(l.stringifyWebGlConstant(e[3],"drawArrays")),t.push(`drawCount=${e[6]}`),t.push(e[2]),t.push(e[5]),t}}K.commandName="multiDrawElementsWEBGL";class j extends C{get spiedCommandName(){return j.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawArraysInstanced")),t.push(e[1]),t.push(e[2]),t.push(e[3]),t.push(`baseInstance = ${e[4]}`),t}}j.commandName="drawArraysInstancedBaseInstanceWEBGL";class z extends C{get spiedCommandName(){return z.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"drawElementsInstanced")),t.push(e[1]),t.push(l.stringifyWebGlConstant(e[2],"drawElementsInstanced")),t.push(e[3]),t.push(e[4]),t.push(`baseVertex = ${e[5]}`),t.push(`baseInstance = ${e[6]}`),t}}z.commandName="drawElementsInstancedBaseVertexBaseInstanceWEBGL";class q extends C{get spiedCommandName(){return q.commandName}stringifyArgs(e){var t,n;const a=[];for(let r=0;r<4;r++)a.push(null!==(n=null===(t=e[r])||void 0===t?void 0:t.toFixed(0))&&void 0!==n?n:"0");return a}}function Z(e){return null==e?"":`${e.toFixed(0)} (0b${(e>>>0).toString(2)})`}q.commandName="scissor";class $ extends C{get spiedCommandName(){return $.commandName}stringifyArgs(e){const t=[];return t.push(Z(e[0])),t}}$.commandName="stencilMask";class Q extends C{get spiedCommandName(){return Q.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"stencilMaskSeparate")),t.push(Z(e[1])),t}}Q.commandName="stencilMaskSeparate";class J extends C{get spiedCommandName(){return J.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"stencilFunc")),t.push(Z(e[1])),t.push(Z(e[2])),t}}J.commandName="stencilFunc";class ee extends C{get spiedCommandName(){return ee.commandName}stringifyArgs(e){const t=[];return t.push(l.stringifyWebGlConstant(e[0],"stencilFuncSeparate")),t.push(l.stringifyWebGlConstant(e[1],"stencilFuncSeparate")),t.push(Z(e[2])),t.push(Z(e[3])),t}}ee.commandName="stencilFuncSeparate";class te extends C{get spiedCommandName(){return te.commandName}stringifyArgs(e){const t=[];return t.push(e[0]),t.push(e[1]),t.push(l.stringifyWebGlConstant(e[2],"vertexAttribPointer")),t.push(e[3]),t.push(e[4]),t.push(e[5]),t}}te.commandName="vertexAttribPointer";class ne extends C{get spiedCommandName(){return ne.commandName}stringifyArgs(e){const t=[];for(let n=0;n<4;n++)t.push(e[n].toFixed(0));return t}}ne.commandName="viewport";class ae extends C{get spiedCommandName(){return ae.commandName}stringifyArgs(e){const t=[];return t.push(e[0]),t}}ae.commandName="enableVertexAttribArray";class re{constructor(e){this.spiedCommandName=e.spiedCommandName,this.spiedCommandRunningContext=e.spiedCommandRunningContext,this.spiedCommand=this.spiedCommandRunningContext[this.spiedCommandName],A.storeOriginFunction(this.spiedCommandRunningContext,this.spiedCommandName),this.callback=e.callback,this.commandOptions={context:e.context,contextVersion:e.contextVersion,extensions:e.extensions,toggleCapture:e.toggleCapture},this.initCustomCommands(),this.initCommand()}spy(){this.spiedCommandRunningContext[this.spiedCommandName]=this.overloadedCommand}unSpy(){this.spiedCommandRunningContext[this.spiedCommandName]=this.spiedCommand}createCapture(e,t,n){return this.command.createCapture(e,t,n)}initCommand(){re.customCommandsConstructors[this.spiedCommandName]?this.command=re.customCommandsConstructors[this.spiedCommandName](this.commandOptions):this.command=new v(this.commandOptions,this.spiedCommandName),this.overloadedCommand=this.getSpy()}getSpy(){const e=this;return function(){const t=i.now,n=A.executeOriginFunction(e.spiedCommandRunningContext,e.spiedCommandName,arguments),a=i.now,r={name:e.spiedCommandName,arguments,result:n,startTime:t,endTime:a};return e.callback(e,r),n}}initCustomCommands(){re.customCommandsConstructors||(re.customCommandsConstructors={[S.commandName]:e=>new S(e),[g.commandName]:e=>new g(e),[R.commandName]:e=>new R(e),[f.commandName]:e=>new f(e),[I.commandName]:e=>new I(e),[F.commandName]:e=>new F(e),[x.commandName]:e=>new x(e),[O.commandName]:e=>new O(e),[L.commandName]:e=>new L(e),[M.commandName]:e=>new M(e),[B.commandName]:e=>new B(e),[b.commandName]:e=>new b(e),[P.commandName]:e=>new P(e),[U.commandName]:e=>new U(e),[D.commandName]:e=>new D(e),[y.commandName]:e=>new y(e),[G.commandName]:e=>new G(e),[w.commandName]:e=>new w(e),[V.commandName]:e=>new V(e),[X.commandName]:e=>new X(e),[W.commandName]:e=>new W(e),[H.commandName]:e=>new H(e),[k.commandName]:e=>new k(e),[Y.commandName]:e=>new Y(e),[K.commandName]:e=>new K(e),[j.commandName]:e=>new j(e),[z.commandName]:e=>new z(e),[q.commandName]:e=>new q(e),[$.commandName]:e=>new $(e),[Q.commandName]:e=>new Q(e),[J.commandName]:e=>new J(e),[ee.commandName]:e=>new ee(e),[te.commandName]:e=>new te(e),[ne.commandName]:e=>new ne(e),[ae.commandName]:e=>new ae(e)})}}class se{constructor(e){this.options=e,this.context=e.context,this.contextVersion=e.contextVersion,this.extensions=e.extensions,this.toggleCapture=e.toggleCapture,this.consumeCommands=this.getConsumeCommands(),this.changeCommandsByState=this.getChangeCommandsByState(),this.commandNameToStates=this.getCommandNameToStates()}get requireStartAndStopStates(){return!0}startCapture(e,t,n){return this.quickCapture=t,this.fullCapture=n,this.capturedCommandsByState={},e&&this.requireStartAndStopStates&&(this.currentState={},this.readFromContextNoSideEffects()),this.copyCurrentStateToPrevious(),this.currentState={},this.previousState}stopCapture(){return this.requireStartAndStopStates&&this.readFromContextNoSideEffects(),this.analyse(void 0),this.currentState}registerCallbacks(e){for(const t in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(t))for(const n of this.changeCommandsByState[t])e[n]=e[n]||[],e[n].push(this.onChangeCommand.bind(this));for(const t of this.consumeCommands)e[t]=e[t]||[],e[t].push(this.onConsumeCommand.bind(this))}getStateData(){return this.currentState}getConsumeCommands(){return[]}getChangeCommandsByState(){return{}}copyCurrentStateToPrevious(){this.currentState&&(this.previousState=this.currentState)}onChangeCommand(e){const t=this.commandNameToStates[e.name];for(const n of t){if(!this.isValidChangeCommand(e,n))return;this.capturedCommandsByState[n]=this.capturedCommandsByState[n]||[],this.capturedCommandsByState[n].push(e)}}isValidChangeCommand(e,t){return!0}onConsumeCommand(e){this.isValidConsumeCommand(e)&&(this.readFromContextNoSideEffects(),this.analyse(e),this.storeCommandIds(),e[this.stateName]=this.currentState,this.startCapture(!1,this.quickCapture,this.fullCapture))}isValidConsumeCommand(e){return this.lastCommandName=null==e?void 0:e.name,!0}analyse(e){for(const t in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(t)){const n=this.capturedCommandsByState[t],a=n.length-1;if(a>=0)if(e){for(let t=0;t<a;t++){const a=n[t];a.consumeCommandId=e.id,this.changeCommandCaptureStatus(a,30)}const r=this.isStateEnableNoSideEffects(t,e.commandArguments),s=n[a];s.consumeCommandId=e.id,this.areStatesEquals(this.currentState[t],this.previousState[t])?this.changeCommandCaptureStatus(s,30):r?this.changeCommandCaptureStatus(s,40):this.changeCommandCaptureStatus(s,20)}else for(let e=0;e<n.length;e++){const t=n[e];this.changeCommandCaptureStatus(t,10)}}}storeCommandIds(){const e=["unusedCommandIds","disabledCommandIds","redundantCommandIds","validCommandIds"];for(const t of e)this.currentState[t]=[];for(const e in this.capturedCommandsByState)if(this.capturedCommandsByState.hasOwnProperty(e)){const t=this.capturedCommandsByState[e];for(const e of t)switch(e.status){case 10:this.currentState.unusedCommandIds.push(e.id);break;case 20:this.currentState.disabledCommandIds.push(e.id);break;case 30:this.currentState.redundantCommandIds.push(e.id);break;case 40:this.currentState.validCommandIds.push(e.id)}}for(const t of e)this.currentState[t].length||delete this.currentState[t]}changeCommandCaptureStatus(e,t){return e.status<t&&(e.status=t,!0)}areStatesEquals(e,t){if(typeof e!=typeof t)return!1;if(e&&!t)return!1;if(t&&!e)return!1;if(null==e)return!0;if(e.length&&t.length&&"string"!=typeof e){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return e===t}isStateEnable(e,t){return!0}getSpectorData(e){if(e)return{__SPECTOR_Object_TAG:h.getWebGlObjectTag(e)||this.options.tagWebGlObject(e),__SPECTOR_Object_CustomData:e.__SPECTOR_Object_CustomData,__SPECTOR_Metadata:e.__SPECTOR_Metadata}}readFromContextNoSideEffects(){this.toggleCapture(!1),this.readFromContext(),this.toggleCapture(!0)}isStateEnableNoSideEffects(e,t){this.toggleCapture(!1);const n=this.isStateEnable(e,t);return this.toggleCapture(!0),n}getCommandNameToStates(){const e={};for(const t in this.changeCommandsByState)if(this.changeCommandsByState.hasOwnProperty(t))for(const n of this.changeCommandsByState[t])e[n]=e[n]||[],e[n].push(t);return e}}class ie extends se{getWebgl1Parameters(){return[]}getWebgl2Parameters(){return[]}getChangeCommandsByState(){this.parameters=[],this.parameters.push(this.getWebgl1Parameters()),this.contextVersion>1&&this.parameters.push(this.getWebgl2Parameters());const e={};for(let t=1;t<=this.contextVersion&&!(t>this.parameters.length);t++)if(this.parameters[t-1])for(const n of this.parameters[t-1])if(n.changeCommands)for(const t of n.changeCommands)e[n.constant.name]=e[n.constant.name]||[],e[n.constant.name].push(t);return e}readFromContext(){for(let e=1;e<=this.contextVersion&&!(e>this.parameters.length);e++)for(const t of this.parameters[e-1]){const e=this.readParameterFromContext(t);if(null==e){const n=this.stringifyParameterValue(e,t);this.currentState[t.constant.name]=n;continue}const n=h.getWebGlObjectTag(e);if(n)this.currentState[t.constant.name]=n;else{const n=this.stringifyParameterValue(e,t);this.currentState[t.constant.name]=n}}}readParameterFromContext(e){return e.constant.extensionName&&!this.extensions[e.constant.extensionName]?`Extension ${e.constant.extensionName} is unavailable.`:this.context.getParameter(e.constant.value)}stringifyParameterValue(e,t){if(null===e)return"null";if(void 0===e)return"undefined";if(30===t.returnType)return Z(e);if("number"==typeof e&&l.isWebGlConstant(e)){if(20===t.returnType){const n=t.changeCommands&&t.changeCommands[0]||"";return l.stringifyWebGlConstant(e,n)}return e}if(e.length&&"string"!=typeof e){const t=[];for(let n=0;n<e.length;n++)t.push(e[n]);return t}return e}}class oe extends ie{get stateName(){return oe.stateName}getWebgl1Parameters(){return[{constant:l.PACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:l.UNPACK_ALIGNMENT,changeCommands:["pixelStorei"]},{constant:l.UNPACK_COLORSPACE_CONVERSION_WEBGL,returnType:20,changeCommands:["pixelStorei"]},{constant:l.UNPACK_FLIP_Y_WEBGL,changeCommands:["pixelStorei"]},{constant:l.UNPACK_PREMULTIPLY_ALPHA_WEBGL,changeCommands:["pixelStorei"]}]}getWebgl2Parameters(){return[{constant:l.PACK_ROW_LENGTH,changeCommands:["pixelStorei"]},{constant:l.PACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:l.PACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:l.UNPACK_IMAGE_HEIGHT,changeCommands:["pixelStorei"]},{constant:l.UNPACK_SKIP_PIXELS,changeCommands:["pixelStorei"]},{constant:l.UNPACK_SKIP_ROWS,changeCommands:["pixelStorei"]},{constant:l.UNPACK_SKIP_IMAGES,changeCommands:["pixelStorei"]}]}getConsumeCommands(){return["readPixels","texImage2D","texSubImage2D"]}isValidChangeCommand(e,t){return d[t].value===e.commandArguments[0]}}oe.stateName="AlignmentState";class me extends ie{get stateName(){return me.stateName}getWebgl1Parameters(){return[{constant:l.BLEND,changeCommands:["enable","disable"]},{constant:l.BLEND_COLOR,changeCommands:["blendColor"]},{constant:l.BLEND_DST_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:l.BLEND_DST_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:l.BLEND_EQUATION_ALPHA,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:l.BLEND_EQUATION_RGB,returnType:20,changeCommands:["blendEquation","blendEquationSeparate"]},{constant:l.BLEND_SRC_ALPHA,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]},{constant:l.BLEND_SRC_RGB,returnType:20,changeCommands:["blendFunc","blendFuncSeparate"]}]}isValidChangeCommand(e,t){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===l.BLEND.value}getConsumeCommands(){return c}isStateEnable(e,t){return this.context.isEnabled(l.BLEND.value)}}me.stateName="BlendState";class ce extends ie{get stateName(){return ce.stateName}getWebgl1Parameters(){return[{constant:l.COLOR_CLEAR_VALUE,changeCommands:["clearColor"]},{constant:l.DEPTH_CLEAR_VALUE,changeCommands:["clearDepth"]},{constant:l.STENCIL_CLEAR_VALUE,changeCommands:["clearStencil"]}]}getConsumeCommands(){return["clear"]}isStateEnable(e,t){switch(e){case l.COLOR_CLEAR_VALUE.name:return l.COLOR_BUFFER_BIT.value===(t[0]&l.COLOR_BUFFER_BIT.value);case l.DEPTH_CLEAR_VALUE.name:return l.DEPTH_BUFFER_BIT.value===(t[0]&l.DEPTH_BUFFER_BIT.value);case l.STENCIL_CLEAR_VALUE.name:return l.STENCIL_BUFFER_BIT.value===(t[0]&l.STENCIL_BUFFER_BIT.value)}return!1}}ce.stateName="ClearState";class ue extends ie{get stateName(){return ue.stateName}getWebgl1Parameters(){return[{constant:l.COLOR_WRITEMASK,changeCommands:["colorMask"]}]}getConsumeCommands(){return c}}ue.stateName="ColorState";class le extends ie{get stateName(){return le.stateName}getWebgl1Parameters(){return[{constant:l.SAMPLE_COVERAGE_VALUE,changeCommands:["sampleCoverage"]},{constant:l.SAMPLE_COVERAGE_INVERT,changeCommands:["sampleCoverage"]}]}getWebgl2Parameters(){return[{constant:l.SAMPLE_COVERAGE,changeCommands:["enable","disable"]},{constant:l.SAMPLE_ALPHA_TO_COVERAGE,changeCommands:["enable","disable"]}]}isValidChangeCommand(e,t){return"enable"!==e.name&&"disable"!==e.name||(e.commandArguments[0]===l.SAMPLE_COVERAGE.value?t===l.SAMPLE_COVERAGE.name:e.commandArguments[0]===l.SAMPLE_ALPHA_TO_COVERAGE.value&&t===l.SAMPLE_ALPHA_TO_COVERAGE.name)}getConsumeCommands(){return c}isStateEnable(e,t){return 2===this.contextVersion&&this.context.isEnabled(l.SAMPLE_COVERAGE.value)}}le.stateName="CoverageState";class de extends ie{get stateName(){return de.stateName}getWebgl1Parameters(){return[{constant:l.CULL_FACE,changeCommands:["enable","disable"]},{constant:l.CULL_FACE_MODE,returnType:20,changeCommands:["cullFace"]}]}getConsumeCommands(){return c}isValidChangeCommand(e,t){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===l.CULL_FACE.value}isStateEnable(e,t){return this.context.isEnabled(l.CULL_FACE.value)}}de.stateName="CullState";class Ee extends ie{get stateName(){return Ee.stateName}getWebgl1Parameters(){return[{constant:l.DEPTH_TEST,changeCommands:["enable","disable"]},{constant:l.DEPTH_FUNC,returnType:20,changeCommands:["depthFunc"]},{constant:l.DEPTH_RANGE,changeCommands:["depthRange"]},{constant:l.DEPTH_WRITEMASK,changeCommands:["depthMask"]}]}getConsumeCommands(){return c}isValidChangeCommand(e,t){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===l.DEPTH_TEST.value}isStateEnable(e,t){return this.context.isEnabled(l.DEPTH_TEST.value)}}Ee.stateName="DepthState";class pe extends ie{get stateName(){return pe.stateName}getWebgl1Parameters(){return[{constant:l.DITHER,changeCommands:["enable","disable"]},{constant:l.VIEWPORT,changeCommands:["viewPort"]},{constant:l.FRONT_FACE,returnType:20,changeCommands:["frontFace"]},{constant:l.FRAGMENT_SHADER_DERIVATIVE_HINT_OES,changeCommands:["hint"]}]}getWebgl2Parameters(){return[{constant:l.RASTERIZER_DISCARD,changeCommands:["enable","disable"]},{constant:l.FRAGMENT_SHADER_DERIVATIVE_HINT,changeCommands:["hint"]}]}isValidChangeCommand(e,t){return"enable"===e.name||"disable"===e.name?e.commandArguments[0]===l.DITHER.value?t===l.DITHER.name:e.commandArguments[0]===l.RASTERIZER_DISCARD.value&&t===l.RASTERIZER_DISCARD.name:"hint"!==e.name||(e.commandArguments[0]===l.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.value?t===l.FRAGMENT_SHADER_DERIVATIVE_HINT_OES.name:e.commandArguments[0]===l.FRAGMENT_SHADER_DERIVATIVE_HINT.value&&t===l.FRAGMENT_SHADER_DERIVATIVE_HINT.name)}getConsumeCommands(){return c}isStateEnable(e,t){switch(e){case l.DITHER.name:return this.context.isEnabled(l.DITHER.value);case l.RASTERIZER_DISCARD.name:return this.context.isEnabled(l.RASTERIZER_DISCARD.value)}return!0}}pe.stateName="DrawState";class _e extends ie{get stateName(){return _e.stateName}getWebgl1Parameters(){return[{constant:l.GENERATE_MIPMAP_HINT,changeCommands:["hint"]}]}getConsumeCommands(){return["generateMipmap"]}}_e.stateName="MipmapHintState";class he extends ie{get stateName(){return he.stateName}getWebgl1Parameters(){return[{constant:l.POLYGON_OFFSET_FILL,changeCommands:["enable","disable"]},{constant:l.POLYGON_OFFSET_FACTOR,changeCommands:["polygonOffset"]},{constant:l.POLYGON_OFFSET_UNITS,changeCommands:["polygonOffset"]}]}isValidChangeCommand(e,t){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===l.POLYGON_OFFSET_FILL.value}getConsumeCommands(){return c}isStateEnable(e,t){return this.context.isEnabled(l.POLYGON_OFFSET_FILL.value)}}he.stateName="PolygonOffsetState";class Te extends ie{get stateName(){return Te.stateName}getWebgl1Parameters(){return[{constant:l.SCISSOR_TEST,changeCommands:["enable","disable"]},{constant:l.SCISSOR_BOX,changeCommands:["scissor"]}]}isValidChangeCommand(e,t){return"enable"!==e.name&&"disable"!==e.name||e.commandArguments[0]===l.SCISSOR_TEST.value}getConsumeCommands(){return[...c,"clear"]}isStateEnable(e,t){return this.context.isEnabled(l.SCISSOR_TEST.value)}}Te.stateName="ScissorState";class Ce extends ie{get stateName(){return Ce.stateName}getWebgl1Parameters(){return[{constant:l.STENCIL_TEST,changeCommands:["enable","disable"]},{constant:l.STENCIL_BACK_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:l.STENCIL_BACK_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:l.STENCIL_BACK_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:l.STENCIL_BACK_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:l.STENCIL_BACK_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:l.STENCIL_BACK_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:l.STENCIL_BACK_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]},{constant:l.STENCIL_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:l.STENCIL_FUNC,returnType:20,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:l.STENCIL_PASS_DEPTH_FAIL,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:l.STENCIL_PASS_DEPTH_PASS,returnType:20,changeCommands:["stencilOp","stencilOpSeparate"]},{constant:l.STENCIL_REF,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:l.STENCIL_VALUE_MASK,returnType:30,changeCommands:["stencilFunc","stencilFuncSeparate"]},{constant:l.STENCIL_WRITEMASK,returnType:30,changeCommands:["stencilMask","stencilMaskSeparate"]}]}readFromContext(){super.readFromContext();const e=this.context,t=l.FRAMEBUFFER.value,n=l.STENCIL_ATTACHMENT.value;let a=0;e.getParameter(l.FRAMEBUFFER_BINDING.value)?this.context.getFramebufferAttachmentParameter(t,n,l.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value)!==l.NONE.value&&(this.contextVersion>1?a=this.context.getFramebufferAttachmentParameter(t,n,l.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value):this.context.getFramebufferAttachmentParameter(t,n,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value)===l.RENDERBUFFER.value&&(a=e.getRenderbufferParameter(e.RENDERBUFFER,e.RENDERBUFFER_STENCIL_SIZE))):a=this.readParameterFromContext({constant:l.STENCIL_BITS}),this.currentState[l.STENCIL_BITS.name]=""+a}isValidChangeCommand(e,t){return"enable"===e.name||"disable"===e.name?e.commandArguments[0]===l.STENCIL_TEST.value:"stencilOp"===e.name||"stencilOpSeparate"===e.name?Ce.stencilOpStates.indexOf(e.commandArguments[0])>0:"stencilFunc"===e.name||"stencilFuncSeparate"===e.name?Ce.stencilFuncStates.indexOf(e.commandArguments[0])>0:"stencilMask"!==e.name&&"stencilMaskSeparate"!==e.name||Ce.stencilMaskStates.indexOf(e.commandArguments[0])>0}getConsumeCommands(){return c}isStateEnable(e,t){return this.context.isEnabled(l.STENCIL_TEST.value)}}Ce.stateName="StencilState",Ce.stencilOpStates=[l.STENCIL_BACK_FAIL.value,l.STENCIL_BACK_PASS_DEPTH_FAIL.value,l.STENCIL_BACK_PASS_DEPTH_PASS.value,l.STENCIL_FAIL.value,l.STENCIL_PASS_DEPTH_FAIL.value,l.STENCIL_PASS_DEPTH_PASS.value],Ce.stencilFuncStates=[l.STENCIL_BACK_FUNC.value,l.STENCIL_BACK_REF.value,l.STENCIL_BACK_VALUE_MASK.value,l.STENCIL_FUNC.value,l.STENCIL_REF.value,l.STENCIL_VALUE_MASK.value],Ce.stencilMaskStates=[l.STENCIL_BACK_WRITEMASK.value,l.STENCIL_WRITEMASK.value];class Re{static isSupportedCombination(e,t,n){return e=e||l.UNSIGNED_BYTE.value,((t=t||l.RGBA.value)===l.RGB.value||t===l.RGBA.value)&&(n===l.RGB.value||n===l.RGBA.value||n===l.RGBA8.value||n===l.RGBA16F.value||n===l.RGBA32F.value||n===l.RGB16F.value||n===l.RGB32F.value||n===l.R11F_G11F_B10F.value||n===l.SRGB8.value||n===l.SRGB8_ALPHA8.value)&&this.isSupportedComponentType(e)}static readPixels(e,t,n,a,r,s){e.getError(),s===l.UNSIGNED_NORMALIZED.value&&(s=l.UNSIGNED_BYTE.value);const i=a*r*4;let o;if(s===l.UNSIGNED_BYTE.value?o=new Uint8Array(i):(s=l.FLOAT.value,o=new Float32Array(i)),e.readPixels(t,n,a,r,e.RGBA,s,o),e.getError())return;if(s===l.UNSIGNED_BYTE.value)return o;const m=new Uint8Array(a*r*4);for(let e=0;e<r;e++)for(let t=0;t<a;t++)m[e*a*4+4*t+0]=255*Math.min(Math.max(o[e*a*4+4*t+0],0),1),m[e*a*4+4*t+1]=255*Math.min(Math.max(o[e*a*4+4*t+1],0),1),m[e*a*4+4*t+2]=255*Math.min(Math.max(o[e*a*4+4*t+2],0),1),m[e*a*4+4*t+3]=255*Math.min(Math.max(o[e*a*4+4*t+3],0),1);return m}static isSupportedComponentType(e){return e===l.UNSIGNED_BYTE.value||e===l.UNSIGNED_SHORT_4_4_4_4.value||e===l.UNSIGNED_SHORT_5_5_5_1.value||e===l.UNSIGNED_SHORT_5_6_5.value||e===l.HALF_FLOAT.value||e===l.HALF_FLOAT_OES.value||e===l.FLOAT.value}}class Ae extends se{constructor(e){super(e),this.captureFrameBuffer=e.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this.captureContext2D.imageSmoothingEnabled=!0,this.captureContext2D.mozImageSmoothingEnabled=!0,this.captureContext2D.oImageSmoothingEnabled=!0,this.captureContext2D.webkitImageSmoothingEnabled=!0,this.captureContext2D.msImageSmoothingEnabled=!0}get stateName(){return Ae.stateName}getConsumeCommands(){return["clear","clearBufferfv","clearBufferiv","clearBufferuiv","clearBufferfi",...c]}readFromContext(){const e=this.context;this.currentState.Attachments=[];const t=this.context.getParameter(l.FRAMEBUFFER_BINDING.value);if(!t)return this.currentState.FrameBuffer=null,void this.getCapture(e,"Canvas COLOR_ATTACHMENT",0,0,e.drawingBufferWidth,e.drawingBufferHeight,0,0,l.UNSIGNED_BYTE.value);const n=e.getParameter(e.VIEWPORT),a=n[0],r=n[1],s=n[2],i=n[3];this.currentState.FrameBuffer=this.getSpectorData(t);const o=this.context.checkFramebufferStatus(l.FRAMEBUFFER.value);if(this.currentState.FrameBufferStatus=E[o].name,o===l.FRAMEBUFFER_COMPLETE.value)if(this.extensions[l.MAX_DRAW_BUFFERS_WEBGL.extensionName]){const e=this.context.getParameter(l.MAX_DRAW_BUFFERS_WEBGL.value);for(let n=0;n<e;n++)this.readFrameBufferAttachmentFromContext(this.context,t,d["COLOR_ATTACHMENT"+n+"_WEBGL"],a,r,s,i)}else if(this.contextVersion>1){const e=this.context.getParameter(l.MAX_DRAW_BUFFERS.value);for(let n=0;n<e;n++)this.readFrameBufferAttachmentFromContext(this.context,t,d["COLOR_ATTACHMENT"+n],a,r,s,i)}else this.readFrameBufferAttachmentFromContext(this.context,t,d.COLOR_ATTACHMENT0,a,r,s,i)}readFrameBufferAttachmentFromContext(e,t,n,a,r,s,i){const o=l.FRAMEBUFFER.value,m=this.context.getFramebufferAttachmentParameter(o,n.value,l.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(m===l.NONE.value)return;const c=this.context.getFramebufferAttachmentParameter(o,n.value,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(!c)return;const u=this.contextVersion>1?this.context.getFramebufferAttachmentParameter(o,n.value,l.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value):l.UNSIGNED_BYTE.value;m===l.RENDERBUFFER.value?this.readFrameBufferAttachmentFromRenderBuffer(e,t,n,a,r,s,i,o,u,c):m===l.TEXTURE.value&&this.readFrameBufferAttachmentFromTexture(e,t,n,a,r,s,i,o,u,c)}readFrameBufferAttachmentFromRenderBuffer(e,t,n,a,r,s,i,o,m,c){let u=0,d=0;if(c.__SPECTOR_Object_CustomData){const e=c.__SPECTOR_Object_CustomData;if(s=e.width,i=e.height,u=e.samples,d=e.internalFormat,!u&&!Re.isSupportedCombination(m,l.RGBA.value,d))return}else s+=a,i+=r;if(a=r=0,u){const o=e,c=e.createRenderbuffer(),u=e.getParameter(e.RENDERBUFFER_BINDING);e.bindRenderbuffer(e.RENDERBUFFER,c),e.renderbufferStorage(e.RENDERBUFFER,d,s,i),e.bindRenderbuffer(e.RENDERBUFFER,u),e.bindFramebuffer(l.FRAMEBUFFER.value,this.captureFrameBuffer),e.framebufferRenderbuffer(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,l.RENDERBUFFER.value,c);const E=o.getParameter(o.READ_FRAMEBUFFER_BINDING),p=o.getParameter(o.DRAW_FRAMEBUFFER_BINDING);o.bindFramebuffer(o.READ_FRAMEBUFFER,t),o.bindFramebuffer(o.DRAW_FRAMEBUFFER,this.captureFrameBuffer),o.blitFramebuffer(0,0,s,i,0,0,s,i,e.COLOR_BUFFER_BIT,e.NEAREST),o.bindFramebuffer(l.FRAMEBUFFER.value,this.captureFrameBuffer),o.bindFramebuffer(o.READ_FRAMEBUFFER,E),o.bindFramebuffer(o.DRAW_FRAMEBUFFER,p),this.context.checkFramebufferStatus(l.FRAMEBUFFER.value)===l.FRAMEBUFFER_COMPLETE.value&&this.getCapture(e,n.name,a,r,s,i,0,0,m),e.bindFramebuffer(l.FRAMEBUFFER.value,t),e.deleteRenderbuffer(c)}else e.bindFramebuffer(l.FRAMEBUFFER.value,this.captureFrameBuffer),e.framebufferRenderbuffer(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,l.RENDERBUFFER.value,c),this.context.checkFramebufferStatus(l.FRAMEBUFFER.value)===l.FRAMEBUFFER_COMPLETE.value&&this.getCapture(e,n.name,a,r,s,i,0,0,m),e.bindFramebuffer(l.FRAMEBUFFER.value,t)}readFrameBufferAttachmentFromTexture(e,t,n,a,r,s,i,o,m,c){let u=0;this.contextVersion>1&&(u=this.context.getFramebufferAttachmentParameter(o,n.value,l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value));const d=this.context.getFramebufferAttachmentParameter(o,n.value,l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value),p=this.context.getFramebufferAttachmentParameter(o,n.value,l.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);p>0?E[p].name:l.TEXTURE_2D.name;let _=!1,h=m;if(c.__SPECTOR_Object_CustomData){const e=c.__SPECTOR_Object_CustomData;if(s=e.width,i=e.height,h=e.type,_=e.target===l.TEXTURE_2D_ARRAY.name,!Re.isSupportedCombination(e.type,e.format,e.internalFormat))return}else s+=a,i+=r;a=r=0,e.bindFramebuffer(l.FRAMEBUFFER.value,this.captureFrameBuffer),u>0||_?e.framebufferTextureLayer(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,c,d,u):e.framebufferTexture2D(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,p||l.TEXTURE_2D.value,c,d),this.context.checkFramebufferStatus(l.FRAMEBUFFER.value)===l.FRAMEBUFFER_COMPLETE.value&&this.getCapture(e,n.name,a,r,s,i,p,u,h),e.bindFramebuffer(l.FRAMEBUFFER.value,t)}getCapture(e,t,n,a,s,i,o,m,c){const u={attachmentName:t,src:null,textureCubeMapFace:o?E[o].name:null,textureLayer:m};if(!this.quickCapture)try{const t=Re.readPixels(e,n,a,s,i,c);if(t){this.workingCanvas.width=s,this.workingCanvas.height=i;const e=this.workingContext2D.createImageData(Math.ceil(s),Math.ceil(i));if(e.data.set(t),this.workingContext2D.putImageData(e,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{const e=s/i;e<1?(this.captureCanvas.width=Ae.captureBaseSize*e,this.captureCanvas.height=Ae.captureBaseSize):e>1?(this.captureCanvas.width=Ae.captureBaseSize,this.captureCanvas.height=Ae.captureBaseSize/e):(this.captureCanvas.width=Ae.captureBaseSize,this.captureCanvas.height=Ae.captureBaseSize)}this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this.captureContext2D.drawImage(this.workingCanvas,0,0,s,i,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",u.src=this.captureCanvas.toDataURL()}}catch(e){r.warn("Spector can not capture the visual state: "+e)}this.currentState.Attachments.push(u)}analyse(e){}}Ae.stateName="VisualState",Ae.captureBaseSize=256;class Se{constructor(e){this.context=e.context,this.captureFrameBuffer=e.context.createFramebuffer(),this.workingCanvas=document.createElement("canvas"),this.workingContext2D=this.workingCanvas.getContext("2d"),this.captureCanvas=document.createElement("canvas"),this.captureContext2D=this.captureCanvas.getContext("2d"),this._setSmoothing(!0)}appendTextureState(e,t,n=null,a){if(!t)return;const r=t.__SPECTOR_Object_CustomData;if(r&&(this.fullCapture=a,r.type&&(e.textureType=this.getWebGlConstant(r.type)),r.format&&(e.format=this.getWebGlConstant(r.format)),r.internalFormat&&(e.internalFormat=this.getWebGlConstant(r.internalFormat)),e.width=r.width,e.height=r.height,r.depth&&(e.depth=r.depth),n)){const a="NEAREST"===e.samplerMagFilter||"NEAREST"===e.magFilter;e.visual=this.getTextureVisualState(n,t,r,a)}}getTextureVisualState(e,t,n,a){try{const r=this.context,s={};if(!Re.isSupportedCombination(n.type,n.format,n.internalFormat))return s;const i=this.context.getParameter(l.FRAMEBUFFER_BINDING.value);r.bindFramebuffer(l.FRAMEBUFFER.value,this.captureFrameBuffer);try{const i=0,o=n.width,m=n.height;if(e===l.TEXTURE_3D&&n.depth){const e=r;for(let c=0;c<n.depth;c++)c>2&&c<n.depth-3||(e.framebufferTextureLayer(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,t,i,c),s["3D Layer "+c]=this.getCapture(r,0,0,o,m,n.type,a))}else if(e===l.TEXTURE_2D_ARRAY&&n.depth){const e=r;for(let c=0;c<n.depth;c++)c>2&&c<n.depth-3||(e.framebufferTextureLayer(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,t,i,c),s["Layer "+c]=this.getCapture(r,0,0,o,m,n.type,a))}else if(e===l.TEXTURE_CUBE_MAP)for(const e of Se.cubeMapFaces)r.framebufferTexture2D(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,e.value,t,i),s[e.name]=this.getCapture(r,0,0,o,m,n.type,a);else r.framebufferTexture2D(l.FRAMEBUFFER.value,l.COLOR_ATTACHMENT0.value,l.TEXTURE_2D.value,t,i),s[l.TEXTURE_2D.name]=this.getCapture(r,0,0,o,m,n.type,a)}catch(e){}return r.bindFramebuffer(l.FRAMEBUFFER.value,i),s}catch(e){}}getCapture(e,t,n,a,r,s,i){try{if(this.context.checkFramebufferStatus(l.FRAMEBUFFER.value)!==l.FRAMEBUFFER_COMPLETE.value)return;s=s||l.UNSIGNED_BYTE.value;const o=Re.readPixels(e,t,n,a,r,s);if(!o)return;this.workingCanvas.width=a,this.workingCanvas.height=r;const m=this.workingContext2D.createImageData(a,r);if(m.data.set(o),this.workingContext2D.putImageData(m,0,0),this.fullCapture)this.captureCanvas.width=this.workingCanvas.width,this.captureCanvas.height=this.workingCanvas.height;else{const e=a/r;e<1?(this.captureCanvas.width=Ae.captureBaseSize*e,this.captureCanvas.height=Ae.captureBaseSize):e>1?(this.captureCanvas.width=Ae.captureBaseSize,this.captureCanvas.height=Ae.captureBaseSize/e):(this.captureCanvas.width=Ae.captureBaseSize,this.captureCanvas.height=Ae.captureBaseSize)}return this.captureCanvas.width=Math.max(this.captureCanvas.width,1),this.captureCanvas.height=Math.max(this.captureCanvas.height,1),this.captureContext2D.globalCompositeOperation="copy",this.captureContext2D.scale(1,-1),this.captureContext2D.translate(0,-this.captureCanvas.height),this._setSmoothing(!i),this.captureContext2D.drawImage(this.workingCanvas,0,0,a,r,0,0,this.captureCanvas.width,this.captureCanvas.height),this.captureContext2D.setTransform(1,0,0,1,0,0),this.captureContext2D.globalCompositeOperation="source-over",this.captureCanvas.toDataURL()}catch(e){}}getWebGlConstant(e){const t=E[e];return t?t.name:e+""}_setSmoothing(e){this.captureContext2D.imageSmoothingEnabled=e,this.captureContext2D.mozImageSmoothingEnabled=e,this.captureContext2D.oImageSmoothingEnabled=e,this.captureContext2D.webkitImageSmoothingEnabled=e,this.captureContext2D.msImageSmoothingEnabled=e}}Se.captureBaseSize=64,Se.cubeMapFaces=[l.TEXTURE_CUBE_MAP_POSITIVE_X,l.TEXTURE_CUBE_MAP_POSITIVE_Y,l.TEXTURE_CUBE_MAP_POSITIVE_Z,l.TEXTURE_CUBE_MAP_NEGATIVE_X,l.TEXTURE_CUBE_MAP_NEGATIVE_Y,l.TEXTURE_CUBE_MAP_NEGATIVE_Z];class ge{constructor(e){this.context=e.context}getUboValue(e,t,n,a){const r=ge.uboTypes[a];if(!r)return;const s=new r.arrayBufferView(n*r.lengthMultiplier),i=this.context,o=i.getIndexedParameter(l.UNIFORM_BUFFER_BINDING.value,e);if(o){const n=i.getIndexedParameter(l.UNIFORM_BUFFER_START.value,e),a=i.getParameter(l.UNIFORM_BUFFER_BINDING.value);try{i.bindBuffer(l.UNIFORM_BUFFER.value,o),i.getBufferSubData(l.UNIFORM_BUFFER.value,n+t,s)}catch(e){return}a&&i.bindBuffer(l.UNIFORM_BUFFER.value,a)}return Array.prototype.slice.call(s)}}ge.uboTypes={[l.BOOL.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1},[l.BOOL_VEC2.value]:{arrayBufferView:Uint8Array,lengthMultiplier:2},[l.BOOL_VEC3.value]:{arrayBufferView:Uint8Array,lengthMultiplier:3},[l.BOOL_VEC4.value]:{arrayBufferView:Uint8Array,lengthMultiplier:4},[l.INT.value]:{arrayBufferView:Int32Array,lengthMultiplier:1},[l.INT_VEC2.value]:{arrayBufferView:Int32Array,lengthMultiplier:2},[l.INT_VEC3.value]:{arrayBufferView:Int32Array,lengthMultiplier:3},[l.INT_VEC4.value]:{arrayBufferView:Int32Array,lengthMultiplier:4},[l.UNSIGNED_INT.value]:{arrayBufferView:Uint32Array,lengthMultiplier:1},[l.UNSIGNED_INT_VEC2.value]:{arrayBufferView:Uint32Array,lengthMultiplier:2},[l.UNSIGNED_INT_VEC3.value]:{arrayBufferView:Uint32Array,lengthMultiplier:3},[l.UNSIGNED_INT_VEC4.value]:{arrayBufferView:Uint32Array,lengthMultiplier:4},[l.FLOAT.value]:{arrayBufferView:Float32Array,lengthMultiplier:1},[l.FLOAT_VEC2.value]:{arrayBufferView:Float32Array,lengthMultiplier:2},[l.FLOAT_VEC3.value]:{arrayBufferView:Float32Array,lengthMultiplier:3},[l.FLOAT_VEC4.value]:{arrayBufferView:Float32Array,lengthMultiplier:4},[l.FLOAT_MAT2.value]:{arrayBufferView:Float32Array,lengthMultiplier:4},[l.FLOAT_MAT2x3.value]:{arrayBufferView:Float32Array,lengthMultiplier:6},[l.FLOAT_MAT2x4.value]:{arrayBufferView:Float32Array,lengthMultiplier:8},[l.FLOAT_MAT3.value]:{arrayBufferView:Float32Array,lengthMultiplier:9},[l.FLOAT_MAT3x2.value]:{arrayBufferView:Float32Array,lengthMultiplier:6},[l.FLOAT_MAT3x4.value]:{arrayBufferView:Float32Array,lengthMultiplier:12},[l.FLOAT_MAT4.value]:{arrayBufferView:Float32Array,lengthMultiplier:16},[l.FLOAT_MAT4x2.value]:{arrayBufferView:Float32Array,lengthMultiplier:8},[l.FLOAT_MAT4x3.value]:{arrayBufferView:Float32Array,lengthMultiplier:12},[l.SAMPLER_2D.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1},[l.SAMPLER_CUBE.value]:{arrayBufferView:Uint8Array,lengthMultiplier:1}};class fe extends T{get typeName(){return"WebGLBuffer"}}class Ne extends T{get typeName(){return"WebGLFramebuffer"}}class ve extends T{get typeName(){return"WebGLProgram"}static saveInGlobalStore(e){const t=h.getWebGlObjectTag(e);t&&(this.store[t.id]=e)}static getFromGlobalStore(e){return this.store[e]}static updateInGlobalStore(e,t){if(!t)return;const n=this.getFromGlobalStore(e);if(!n)return;const a=h.getWebGlObjectTag(n);a&&(h.attachWebGlObjectTag(t,a),this.store[a.id]=t)}}ve.store={};class Ie extends T{get typeName(){return"WebGLQuery"}}class Fe extends T{get typeName(){return"WebGLRenderbuffer"}}class xe extends T{get typeName(){return"WebGLSampler"}}class Oe extends T{get typeName(){return"WebGLShader"}}class Le extends T{get typeName(){return"WebGLSync"}}class Be extends T{get typeName(){return"WebGLTexture"}}class Me extends T{get typeName(){return"WebGLTransformFeedback"}}class be extends T{get typeName(){return"WebGLUniformLocation"}}class Pe extends T{get typeName(){return"WebGLVertexArrayObject"}}class Ue{static getProgramData(e,t){const n={LINK_STATUS:e.getProgramParameter(t,l.LINK_STATUS.value),VALIDATE_STATUS:e.getProgramParameter(t,l.VALIDATE_STATUS.value)},a=e.getAttachedShaders(t),r=new Array(2);let s=0;for(const t of a){const n=this.readShaderFromContext(e,t);s+=n.source.length,n.shaderType===l.FRAGMENT_SHADER.name?r[1]=n:r[0]=n}return{programStatus:n,shaders:r,length:s}}static readShaderFromContext(e,t){const n=e.getShaderSource(t),a=e.getExtension("WEBGL_debug_shaders"),r=a?a.getTranslatedShaderSource(t):null,s=e.getShaderParameter(t,l.SHADER_TYPE.value)===l.FRAGMENT_SHADER.value;let i=t&&t.__SPECTOR_Metadata&&t.__SPECTOR_Metadata.name?t.__SPECTOR_Metadata.name:this.readNameFromShaderSource(n);return i||(i=s?"Fragment":"Vertex"),{COMPILE_STATUS:e.getShaderParameter(t,l.COMPILE_STATUS.value),shaderType:s?l.FRAGMENT_SHADER.name:l.VERTEX_SHADER.name,name:i,source:n,translatedSource:r}}static readNameFromShaderSource(e){try{let t,n="";const a=/#define[\s]+SHADER_NAME[\s]+([\S]+)(\n|$)/gi;if(t=a.exec(e),null!==t&&(t.index===a.lastIndex&&a.lastIndex++,n=t[1]),""===n){const a=/#define[\s]+SHADER_NAME_B64[\s]+([\S]+)(\n|$)/gi;t=a.exec(e),null!==t&&(t.index===a.lastIndex&&a.lastIndex++,n=t[1]),n&&(n=decodeURIComponent(atob(n)))}return n}catch(e){return null}}}class De extends se{constructor(e){super(e),this.drawCallTextureInputState=new Se(e),this.drawCallUboInputState=new ge(e)}get stateName(){return De.stateName}get requireStartAndStopStates(){return!1}getConsumeCommands(){return c}getChangeCommandsByState(){return{}}readFromContext(){var t,n;const a=this.context.getParameter(l.CURRENT_PROGRAM.value);if(!a)return;this.currentState.frameBuffer=this.readFrameBufferFromContext();const r=a.__SPECTOR_Object_CustomData?a.__SPECTOR_Object_CustomData:Ue.getProgramData(this.context,a);if(this.currentState.programStatus=Object.assign({},r.programStatus),this.currentState.programStatus.program=this.getSpectorData(a),this.currentState.programStatus.RECOMPILABLE=e.isBuildableProgram(a),this.currentState.programStatus.RECOMPILABLE&&ve.saveInGlobalStore(a),this.currentState.shaders=r.shaders,(null===(t=this.lastCommandName)||void 0===t?void 0:t.indexOf("Elements"))>=0){const e=this.context.getParameter(this.context.ELEMENT_ARRAY_BUFFER_BINDING);e&&(this.currentState.elementArray={},this.currentState.elementArray.arrayBuffer=this.getSpectorData(e))}const s=this.context.getProgramParameter(a,l.ACTIVE_ATTRIBUTES.value);this.currentState.attributes=[];for(let e=0;e<s;e++){const t=this.readAttributeFromContext(a,e);this.currentState.attributes.push(t)}const i=this.context.getProgramParameter(a,l.ACTIVE_UNIFORMS.value);this.currentState.uniforms=[];const o=[];for(let e=0;e<i;e++){o.push(e);const t=this.readUniformFromContext(a,e);this.currentState.uniforms.push(t)}if(this.contextVersion>1){const e=this.context.getProgramParameter(a,l.ACTIVE_UNIFORM_BLOCKS.value);this.currentState.uniformBlocks=[];for(let t=0;t<e;t++){const e=this.readUniformBlockFromContext(a,t);this.currentState.uniformBlocks.push(e)}if(this.readUniformsFromContextIntoState(a,o,this.currentState.uniforms,this.currentState.uniformBlocks),this.context.getParameter(l.TRANSFORM_FEEDBACK_ACTIVE.value)){const e=this.context.getProgramParameter(a,l.TRANSFORM_FEEDBACK_BUFFER_MODE.value);this.currentState.transformFeedbackMode=this.getWebGlConstant(e),this.currentState.transformFeedbacks=[];const t=this.context.getProgramParameter(a,l.TRANSFORM_FEEDBACK_VARYINGS.value);for(let e=0;e<t;e++){const t=this.readTransformFeedbackFromContext(a,e);this.currentState.transformFeedbacks.push(t)}}}for(let e=0;e<o.length;e++){const t=this.currentState.uniforms[e],a=null!==(n=t.value)&&void 0!==n?n:t.values;if(null!=a){const e=De.samplerTypes[t.typeValue];if(e)if(a.length){t.textures=[];for(let n=0;n<a.length;n++)t.textures.push(this.readTextureFromContext(a[n].value,e))}else t.texture=this.readTextureFromContext(a,e)}delete t.typeValue}}readFrameBufferFromContext(){const e=this.context.getParameter(l.FRAMEBUFFER_BINDING.value);if(!e)return null;const t={};if(t.frameBuffer=this.getSpectorData(e),this.readFrameBufferAttachmentFromContext(l.DEPTH_ATTACHMENT.value)&&(t.depthAttachment=this.readFrameBufferAttachmentFromContext(l.DEPTH_ATTACHMENT.value)),this.readFrameBufferAttachmentFromContext(l.STENCIL_ATTACHMENT.value)&&(t.stencilAttachment=this.readFrameBufferAttachmentFromContext(l.STENCIL_ATTACHMENT.value)),this.extensions[l.MAX_DRAW_BUFFERS_WEBGL.extensionName]){t.colorAttachments=[];const e=this.context.getParameter(l.MAX_DRAW_BUFFERS_WEBGL.value);for(let n=0;n<e;n++){const e=this.readFrameBufferAttachmentFromContext(d["COLOR_ATTACHMENT"+n+"_WEBGL"].value);e&&t.colorAttachments.push(e)}}else if(this.contextVersion>1){const e=this.context;t.colorAttachments=[];const n=e.getParameter(l.MAX_DRAW_BUFFERS.value);for(let e=0;e<n;e++){const n=this.readFrameBufferAttachmentFromContext(d["COLOR_ATTACHMENT"+e].value);n&&t.colorAttachments.push(n)}}else{const e=this.readFrameBufferAttachmentFromContext(d.COLOR_ATTACHMENT0.value);e&&(t.colorAttachments=[e])}return t}readFrameBufferAttachmentFromContext(e){const t=l.FRAMEBUFFER.value,n=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE.value);if(n===l.NONE.value)return;const a={},r=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME.value);if(n===l.RENDERBUFFER.value){if(a.type="RENDERBUFFER",a.buffer=this.getSpectorData(r),r){const e=r.__SPECTOR_Object_CustomData;e&&(e.internalFormat&&(a.internalFormat=this.getWebGlConstant(e.internalFormat)),a.width=e.width,a.height=e.height,a.msaaSamples=e.samples)}}else if(n===l.TEXTURE.value){a.type="TEXTURE",a.texture=this.getSpectorData(r),a.textureLevel=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL.value);const n=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE.value);a.textureCubeMapFace=this.getWebGlConstant(n),this.drawCallTextureInputState.appendTextureState(a,r,null,this.fullCapture)}return this.extensions.EXT_sRGB&&(a.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT.value))),this.contextVersion>1&&(a.alphaSize=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE.value),a.blueSize=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE.value),a.encoding=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING.value)),a.componentType=this.getWebGlConstant(this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE.value)),a.depthSize=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE.value),a.greenSize=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE.value),a.redSize=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_RED_SIZE.value),a.stencilSize=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE.value),n===l.TEXTURE.value&&(a.textureLayer=this.context.getFramebufferAttachmentParameter(t,e,l.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER.value))),a}readAttributeFromContext(e,t){const n=this.context.getActiveAttrib(e,t),a=this.context.getAttribLocation(e,n.name);if(-1===a)return{name:n.name,size:n.size,type:this.getWebGlConstant(n.type),location:-1};const r=this.context.getVertexAttrib(a,l.CURRENT_VERTEX_ATTRIB.value),s=this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING.value),i={name:n.name,size:n.size,type:this.getWebGlConstant(n.type),location:a,offsetPointer:this.context.getVertexAttribOffset(a,l.VERTEX_ATTRIB_ARRAY_POINTER.value),bufferBinding:this.getSpectorData(s),enabled:this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_ENABLED.value),arraySize:this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_SIZE.value),stride:this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_STRIDE.value),arrayType:this.getWebGlConstant(this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_TYPE.value)),normalized:this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_NORMALIZED.value),vertexAttrib:Array.prototype.slice.call(r)};return this.extensions[l.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.extensionName]?i.divisor=this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE.value):this.contextVersion>1&&(i.integer=this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_INTEGER.value),i.divisor=this.context.getVertexAttrib(a,l.VERTEX_ATTRIB_ARRAY_DIVISOR.value)),this.appendBufferCustomData(i,s),i}readUniformFromContext(e,t){const n=this.context.getActiveUniform(e,t),a=this.context.getUniformLocation(e,n.name);if(a){if(n.size>1&&n.name&&n.name.indexOf("[0]")===n.name.length-3){const t=[];for(let a=0;a<n.size;a++){const r=this.context.getUniformLocation(e,n.name.replace("[0]","["+a+"]"));if(r){let n=this.context.getUniform(e,r);n.length&&(n=Array.prototype.slice.call(n)),t.push({value:n})}}return{name:n.name.replace("[0]",""),size:n.size,type:this.getWebGlConstant(n.type),typeValue:n.type,location:this.getSpectorData(a),values:t}}{let t=this.context.getUniform(e,a);return t.length&&(t=Array.prototype.slice.call(t)),{name:n.name,size:n.size,type:this.getWebGlConstant(n.type),typeValue:n.type,location:this.getSpectorData(a),value:t}}}return{name:n.name,size:n.size,type:this.getWebGlConstant(n.type),typeValue:n.type}}readTextureFromContext(e,t){const n=this.context.getParameter(l.ACTIVE_TEXTURE.value);this.context.activeTexture(l.TEXTURE0.value+e);const a={magFilter:this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_MAG_FILTER.value)),minFilter:this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_MIN_FILTER.value)),wrapS:this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_WRAP_S.value)),wrapT:this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_WRAP_T.value))};if(this.extensions[l.TEXTURE_MAX_ANISOTROPY_EXT.extensionName]&&(a.anisotropy=this.context.getTexParameter(t.value,l.TEXTURE_MAX_ANISOTROPY_EXT.value)),this.contextVersion>1){a.baseLevel=this.context.getTexParameter(t.value,l.TEXTURE_BASE_LEVEL.value),a.immutable=this.context.getTexParameter(t.value,l.TEXTURE_IMMUTABLE_FORMAT.value),a.immutableLevels=this.context.getTexParameter(t.value,l.TEXTURE_IMMUTABLE_LEVELS.value),a.maxLevel=this.context.getTexParameter(t.value,l.TEXTURE_MAX_LEVEL.value);const e=this.context.getParameter(l.SAMPLER_BINDING.value);if(e){a.sampler=this.getSpectorData(e);const t=this.context;a.samplerMaxLod=t.getSamplerParameter(e,l.TEXTURE_MAX_LOD.value),a.samplerMinLod=t.getSamplerParameter(e,l.TEXTURE_MIN_LOD.value),a.samplerCompareFunc=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_COMPARE_FUNC.value)),a.samplerCompareMode=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_COMPARE_MODE.value)),a.samplerWrapS=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_WRAP_S.value)),a.samplerWrapT=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_WRAP_T.value)),a.samplerWrapR=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_WRAP_R.value)),a.samplerMagFilter=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_MAG_FILTER.value)),a.samplerMinFilter=this.getWebGlConstant(t.getSamplerParameter(e,l.TEXTURE_MIN_FILTER.value))}else a.maxLod=this.context.getTexParameter(t.value,l.TEXTURE_MAX_LOD.value),a.minLod=this.context.getTexParameter(t.value,l.TEXTURE_MIN_LOD.value),a.compareFunc=this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_COMPARE_FUNC.value)),a.compareMode=this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_COMPARE_MODE.value)),a.wrapR=this.getWebGlConstant(this.context.getTexParameter(t.value,l.TEXTURE_WRAP_R.value))}const r=this.getTextureStorage(t);if(r){const e=this.quickCapture?null:t;this.drawCallTextureInputState.appendTextureState(a,r,e,this.fullCapture)}return this.context.activeTexture(n),a}getTextureStorage(e){return e===l.TEXTURE_2D?this.context.getParameter(l.TEXTURE_BINDING_2D.value):e===l.TEXTURE_CUBE_MAP?this.context.getParameter(l.TEXTURE_BINDING_CUBE_MAP.value):e===l.TEXTURE_3D?this.context.getParameter(l.TEXTURE_BINDING_3D.value):e===l.TEXTURE_2D_ARRAY?this.context.getParameter(l.TEXTURE_BINDING_2D_ARRAY.value):void 0}readUniformsFromContextIntoState(e,t,n,a){const r=this.context,s=r.getActiveUniforms(e,t,l.UNIFORM_TYPE.value),i=r.getActiveUniforms(e,t,l.UNIFORM_SIZE.value),o=r.getActiveUniforms(e,t,l.UNIFORM_BLOCK_INDEX.value),m=r.getActiveUniforms(e,t,l.UNIFORM_OFFSET.value),c=r.getActiveUniforms(e,t,l.UNIFORM_ARRAY_STRIDE.value),u=r.getActiveUniforms(e,t,l.UNIFORM_MATRIX_STRIDE.value),d=r.getActiveUniforms(e,t,l.UNIFORM_IS_ROW_MAJOR.value);for(let l=0;l<t.length;l++){const t=n[l];if(t.type=this.getWebGlConstant(s[l]),t.size=i[l],t.blockIndice=o[l],t.blockIndice>-1&&(t.blockName=r.getActiveUniformBlockName(e,t.blockIndice)),t.offset=m[l],t.arrayStride=c[l],t.matrixStride=u[l],t.rowMajor=d[l],t.blockIndice>-1){const e=a[o[l]].bindingPoint;t.value=this.drawCallUboInputState.getUboValue(e,t.offset,t.size,s[l])}}}readTransformFeedbackFromContext(e,t){const n=this.context,a=n.getTransformFeedbackVarying(e,t),r=n.getIndexedParameter(l.TRANSFORM_FEEDBACK_BUFFER_BINDING.value,t),s={name:a.name,size:a.size,type:this.getWebGlConstant(a.type),buffer:this.getSpectorData(r),bufferSize:n.getIndexedParameter(l.TRANSFORM_FEEDBACK_BUFFER_SIZE.value,t),bufferStart:n.getIndexedParameter(l.TRANSFORM_FEEDBACK_BUFFER_START.value,t)};return this.appendBufferCustomData(s,r),s}readUniformBlockFromContext(e,t){const n=this.context,a=n.getActiveUniformBlockParameter(e,t,l.UNIFORM_BLOCK_BINDING.value),r=n.getIndexedParameter(l.UNIFORM_BUFFER_BINDING.value,a),s={name:n.getActiveUniformBlockName(e,t),bindingPoint:a,size:n.getActiveUniformBlockParameter(e,t,l.UNIFORM_BLOCK_DATA_SIZE.value),activeUniformCount:n.getActiveUniformBlockParameter(e,t,l.UNIFORM_BLOCK_ACTIVE_UNIFORMS.value),vertex:n.getActiveUniformBlockParameter(e,t,l.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER.value),fragment:n.getActiveUniformBlockParameter(e,t,l.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER.value),buffer:this.getSpectorData(r)};return this.appendBufferCustomData(s,r),s}appendBufferCustomData(e,t){if(t){const n=t.__SPECTOR_Object_CustomData;n&&(n.usage&&(e.bufferUsage=this.getWebGlConstant(n.usage)),e.bufferLength=n.length,n.offset&&(e.bufferOffset=n.offset),n.sourceLength&&(e.bufferSourceLength=n.sourceLength))}}getWebGlConstant(e){const t=E[e];return t?t.name:e}}De.stateName="DrawCall",De.samplerTypes={[l.SAMPLER_2D.value]:l.TEXTURE_2D,[l.SAMPLER_CUBE.value]:l.TEXTURE_CUBE_MAP,[l.SAMPLER_3D.value]:l.TEXTURE_3D,[l.SAMPLER_2D_SHADOW.value]:l.TEXTURE_2D,[l.SAMPLER_2D_ARRAY.value]:l.TEXTURE_2D_ARRAY,[l.SAMPLER_2D_ARRAY_SHADOW.value]:l.TEXTURE_2D_ARRAY,[l.SAMPLER_CUBE_SHADOW.value]:l.TEXTURE_CUBE_MAP,[l.INT_SAMPLER_2D.value]:l.TEXTURE_2D,[l.INT_SAMPLER_3D.value]:l.TEXTURE_3D,[l.INT_SAMPLER_CUBE.value]:l.TEXTURE_CUBE_MAP,[l.INT_SAMPLER_2D_ARRAY.value]:l.TEXTURE_2D_ARRAY,[l.UNSIGNED_INT_SAMPLER_2D.value]:l.TEXTURE_2D,[l.UNSIGNED_INT_SAMPLER_3D.value]:l.TEXTURE_3D,[l.UNSIGNED_INT_SAMPLER_CUBE.value]:l.TEXTURE_CUBE_MAP,[l.UNSIGNED_INT_SAMPLER_2D_ARRAY.value]:l.TEXTURE_2D_ARRAY};class ye{constructor(e){this.contextInformation=e,this.stateTrackers=[],this.onCommandCapturedCallbacks={},this.initStateTrackers()}startCapture(e,t,n){for(const a of this.stateTrackers){const r=a.startCapture(!0,t,n);a.requireStartAndStopStates&&(e.initState[a.stateName]=r)}}stopCapture(e){for(const t of this.stateTrackers){const n=t.stopCapture();t.requireStartAndStopStates&&(e.endState[t.stateName]=n)}}captureState(e){const t=this.onCommandCapturedCallbacks[e.name];if(t)for(const n of t)n(e)}initStateTrackers(){this.stateTrackers.push(new oe(this.contextInformation),new me(this.contextInformation),new ce(this.contextInformation),new ue(this.contextInformation),new le(this.contextInformation),new de(this.contextInformation),new Ee(this.contextInformation),new pe(this.contextInformation),new _e(this.contextInformation),new he(this.contextInformation),new Te(this.contextInformation),new Ce(this.contextInformation),new Ae(this.contextInformation),new De(this.contextInformation));for(const e of this.stateTrackers)e.registerCallbacks(this.onCommandCapturedCallbacks)}}class Ge{constructor(e){this.options=e,this.createCommandNames=this.getCreateCommandNames(),this.updateCommandNames=this.getUpdateCommandNames(),this.deleteCommandNames=this.getDeleteCommandNames(),this.startTime=i.now,this.memoryPerSecond={},this.totalMemory=0,this.frameMemory=0,this.capturing=!1,Ge.initializeByteSizeFormat()}static initializeByteSizeFormat(){this.byteSizePerInternalFormat||(this.byteSizePerInternalFormat={[l.R8.value]:1,[l.R16F.value]:2,[l.R32F.value]:4,[l.R8UI.value]:1,[l.RG8.value]:2,[l.RG16F.value]:4,[l.RG32F.value]:8,[l.ALPHA.value]:1,[l.RGB.value]:3,[l.RGBA.value]:4,[l.LUMINANCE.value]:1,[l.LUMINANCE_ALPHA.value]:2,[l.DEPTH_COMPONENT.value]:1,[l.DEPTH_STENCIL.value]:2,[l.SRGB_EXT.value]:3,[l.SRGB_ALPHA_EXT.value]:4,[l.RGB8.value]:3,[l.SRGB8.value]:3,[l.RGB565.value]:2,[l.R11F_G11F_B10F.value]:4,[l.RGB9_E5.value]:2,[l.RGB16F.value]:6,[l.RGB32F.value]:12,[l.RGB8UI.value]:3,[l.RGBA8.value]:4,[l.RGB5_A1.value]:2,[l.RGBA16F.value]:8,[l.RGBA32F.value]:16,[l.RGBA8UI.value]:4,[l.COMPRESSED_R11_EAC.value]:4,[l.COMPRESSED_SIGNED_R11_EAC.value]:4,[l.COMPRESSED_RG11_EAC.value]:4,[l.COMPRESSED_SIGNED_RG11_EAC.value]:4,[l.COMPRESSED_RGB8_ETC2.value]:4,[l.COMPRESSED_RGBA8_ETC2_EAC.value]:4,[l.COMPRESSED_SRGB8_ETC2.value]:4,[l.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC.value]:4,[l.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]:4,[l.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2.value]:4,[l.COMPRESSED_RGB_S3TC_DXT1_EXT.value]:.5,[l.COMPRESSED_RGBA_S3TC_DXT3_EXT.value]:1,[l.COMPRESSED_RGBA_S3TC_DXT5_EXT.value]:1,[l.COMPRESSED_RGB_PVRTC_4BPPV1_IMG.value]:.5,[l.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG.value]:.5,[l.COMPRESSED_RGB_PVRTC_2BPPV1_IMG.value]:.25,[l.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG.value]:.25,[l.COMPRESSED_RGB_ETC1_WEBGL.value]:.5,[l.COMPRESSED_RGB_ATC_WEBGL.value]:.5,[l.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL.value]:1,[l.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL.value]:1})}registerCallbacks(e){for(const t of this.createCommandNames)e[t]=e[t]||[],e[t].push(this.createWithoutSideEffects.bind(this));for(const t of this.updateCommandNames)e[t]=e[t]||[],e[t].push(this.updateWithoutSideEffects.bind(this));for(const t of this.deleteCommandNames)e[t]=e[t]||[],e[t].push(this.deleteWithoutSideEffects.bind(this))}startCapture(){this.frameMemory=0,this.capturing=!0}stopCapture(){this.frameMemory=0,this.capturing=!1}appendRecordedInformation(e){e.frameMemory[this.objectName]=this.frameMemory,e.memory[this.objectName]=this.memoryPerSecond}create(e){}createWithoutSideEffects(e){this.options.toggleCapture(!1),this.create(e),this.options.toggleCapture(!0)}updateWithoutSideEffects(e){if(!e||0===e.arguments.length)return;this.options.toggleCapture(!1);const t=e.arguments[0],n=this.getBoundInstance(t);if(!n)return void this.options.toggleCapture(!0);if(!h.getWebGlObjectTag(n))return void this.options.toggleCapture(!0);const a=this.getWebGlConstant(t),r=this.update(e,a,n);this.changeMemorySize(r),this.options.toggleCapture(!0)}deleteWithoutSideEffects(e){if(!e||!e.arguments||e.arguments.length<1)return;const t=e.arguments[0];if(!t)return;this.options.toggleCapture(!1);const n=this.delete(t);this.changeMemorySize(-n),this.options.toggleCapture(!0)}changeMemorySize(e){this.totalMemory+=e,this.capturing&&(this.frameMemory+=e);const t=i.now-this.startTime,n=Math.round(t/1e3);this.memoryPerSecond[n]=this.totalMemory}getWebGlConstant(e){const t=E[e];return t?t.name:e+""}getByteSizeForInternalFormat(e){return Ge.byteSizePerInternalFormat[e]||4}}class we extends Ge{get objectName(){return"Buffer"}getCreateCommandNames(){return["createBuffer"]}getUpdateCommandNames(){return["bufferData"]}getDeleteCommandNames(){return["deleteBuffer"]}getBoundInstance(e){const t=this.options.context;return e===l.ARRAY_BUFFER.value?t.getParameter(l.ARRAY_BUFFER_BINDING.value):e===l.ELEMENT_ARRAY_BUFFER.value?t.getParameter(l.ELEMENT_ARRAY_BUFFER_BINDING.value):e===l.COPY_READ_BUFFER.value?t.getParameter(l.COPY_READ_BUFFER_BINDING.value):e===l.COPY_WRITE_BUFFER.value?t.getParameter(l.COPY_WRITE_BUFFER_BINDING.value):e===l.TRANSFORM_FEEDBACK_BUFFER.value?t.getParameter(l.TRANSFORM_FEEDBACK_BUFFER_BINDING.value):e===l.UNIFORM_BUFFER.value?t.getParameter(l.UNIFORM_BUFFER_BINDING.value):e===l.PIXEL_PACK_BUFFER.value?t.getParameter(l.PIXEL_PACK_BUFFER_BINDING.value):e===l.PIXEL_UNPACK_BUFFER.value?t.getParameter(l.PIXEL_UNPACK_BUFFER_BINDING.value):void 0}delete(e){const t=e.__SPECTOR_Object_CustomData;return t?t.length:0}update(e,t,n){const a=this.getCustomData(t,e);if(!a)return 0;const r=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;return n.__SPECTOR_Object_CustomData=a,a.length-r}getCustomData(e,t){const n=this.getLength(t);return t.arguments.length>=4?{target:e,length:n,usage:t.arguments[2],offset:t.arguments[3],sourceLength:t.arguments[1]?t.arguments[1].length:-1}:3===t.arguments.length?{target:e,length:n,usage:t.arguments[2]}:void 0}getLength(e){let t=-1,n=0;return 5===e.arguments.length&&(t=e.arguments[4],n=e.arguments[3]),t<=0&&(t="number"==typeof e.arguments[1]?e.arguments[1]:e.arguments[1]&&(e.arguments[1].byteLength||e.arguments[1].length)||0),t-n}}class Ve extends Ge{get objectName(){return"Renderbuffer"}getCreateCommandNames(){return["createRenderbuffer"]}getUpdateCommandNames(){return["renderbufferStorage","renderbufferStorageMultisample"]}getDeleteCommandNames(){return["deleteRenderbuffer"]}getBoundInstance(e){const t=this.options.context;if(e===l.RENDERBUFFER.value)return t.getParameter(l.RENDERBUFFER_BINDING.value)}delete(e){const t=e.__SPECTOR_Object_CustomData;return t?t.length:0}update(e,t,n){const a=this.getCustomData(e,t);if(!a)return 0;const r=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;return a.length=a.width*a.height*this.getByteSizeForInternalFormat(a.internalFormat),n.__SPECTOR_Object_CustomData=a,a.length-r}getCustomData(e,t){return 4===e.arguments.length?{target:t,internalFormat:e.arguments[1],width:e.arguments[2],height:e.arguments[3],length:0,samples:0}:{target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],length:0,samples:e.arguments[1]}}}class Xe extends Ge{get objectName(){return"Texture2d"}getCreateCommandNames(){return["createTexture"]}getUpdateCommandNames(){return["texImage2D","compressedTexImage2D","texStorage2D"]}getDeleteCommandNames(){return["deleteTexture"]}getBoundInstance(e){const t=this.options.context;return e===l.TEXTURE_2D.value?t.getParameter(l.TEXTURE_BINDING_2D.value):e===l.TEXTURE_CUBE_MAP_POSITIVE_X.value||e===l.TEXTURE_CUBE_MAP_POSITIVE_Y.value||e===l.TEXTURE_CUBE_MAP_POSITIVE_Z.value||e===l.TEXTURE_CUBE_MAP_NEGATIVE_X.value||e===l.TEXTURE_CUBE_MAP_NEGATIVE_Y.value||e===l.TEXTURE_CUBE_MAP_NEGATIVE_Z.value?t.getParameter(l.TEXTURE_BINDING_CUBE_MAP.value):void 0}delete(e){const t=e.__SPECTOR_Object_CustomData;return t?t.target===l.TEXTURE_2D_ARRAY.name||t.target===l.TEXTURE_3D.name?0:t.length:0}update(e,t,n){const a=this.getCustomData(e,t,n);if(!a)return 0;const r=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;if(a.isCompressed){if(e.arguments.length>=7){const t=e.arguments[6];a.length="number"==typeof t?t:null==t?void 0:t.byteLength}}else{const e="TEXTURE_2D"===t?1:6;let n=a.internalFormat;n===l.RGBA.value&&(a.type===l.FLOAT.value&&(n=l.RGBA32F.value),a.type===l.HALF_FLOAT_OES.value&&(n=l.RGBA16F.value)),a.length=a.width*a.height*e*this.getByteSizeForInternalFormat(n)}return a.length=0|a.length,n.__SPECTOR_Object_CustomData=a,a.length-r}getCustomData(e,t,n){return"texImage2D"===e.name?this.getTexImage2DCustomData(e,t,n):"compressedTexImage2D"===e.name?this.getCompressedTexImage2DCustomData(e,t,n):"texStorage2D"===e.name?this.getTexStorage2DCustomData(e,t,n):void 0}getTexStorage2DCustomData(e,t,n){let a;return 5===e.arguments.length&&(a={target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],length:0,isCompressed:!1}),a}getCompressedTexImage2DCustomData(e,t,n){if(0!==e.arguments[1])return;let a;return e.arguments.length>=7&&(a={target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],length:0,isCompressed:!0}),a}getTexImage2DCustomData(e,t,n){if(0!==e.arguments[1])return;let a;return e.arguments.length>=8?a={target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],format:e.arguments[6],type:e.arguments[7],length:0,isCompressed:!1}:6===e.arguments.length&&(a={target:t,internalFormat:e.arguments[2],width:e.arguments[5].width,height:e.arguments[5].height,format:e.arguments[3],type:e.arguments[4],length:0,isCompressed:!1}),a}}class We extends Ge{get objectName(){return"Texture3d"}getCreateCommandNames(){return["createTexture"]}getUpdateCommandNames(){return["texImage3D","compressedTexImage3D","texStorage3D"]}getDeleteCommandNames(){return["deleteTexture"]}getBoundInstance(e){const t=this.options.context;return e===l.TEXTURE_2D_ARRAY.value?t.getParameter(l.TEXTURE_BINDING_2D_ARRAY.value):e===l.TEXTURE_3D.value?t.getParameter(l.TEXTURE_BINDING_3D.value):void 0}delete(e){const t=e.__SPECTOR_Object_CustomData;return t?t.target!==l.TEXTURE_2D_ARRAY.name&&t.target!==l.TEXTURE_3D.name?0:t.length:0}update(e,t,n){if(e.arguments.length>=2&&0!==e.arguments[1])return 0;const a=this.getCustomData(e,t,n);if(!a)return 0;const r=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;if(a.isCompressed){if(e.arguments.length>=7){const t=e.arguments[6];a.length="number"==typeof t?t:null==t?void 0:t.byteLength}}else a.length=a.width*a.height*a.depth*this.getByteSizeForInternalFormat(a.internalFormat);return a.length=0|a.length,n.__SPECTOR_Object_CustomData=a,a.length-r}getCustomData(e,t,n){return"texImage3D"===e.name?this.getTexImage3DCustomData(e,t,n):"compressedTexImage3D"===e.name?this.getCompressedTexImage3DCustomData(e,t,n):"texStorage3D"===e.name?this.getTexStorage3DCustomData(e,t,n):void 0}getTexStorage3DCustomData(e,t,n){let a;return 6===e.arguments.length&&(a={target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],depth:e.arguments[5],length:0,isCompressed:!1}),a}getCompressedTexImage3DCustomData(e,t,n){if(0!==e.arguments[1])return;let a;return e.arguments.length>=8&&(a={target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],depth:e.arguments[5],length:0,isCompressed:!0}),a}getTexImage3DCustomData(e,t,n){if(0!==e.arguments[1])return;let a;return e.arguments.length>=9&&(a={target:t,internalFormat:e.arguments[2],width:e.arguments[3],height:e.arguments[4],depth:e.arguments[5],format:e.arguments[7],type:e.arguments[8],length:0,isCompressed:!1}),a}}class He extends Ge{get objectName(){return"Program"}getCreateCommandNames(){return["createProgram"]}getUpdateCommandNames(){return["linkProgram"]}getDeleteCommandNames(){return["deleteProgram"]}getBoundInstance(e){return e}delete(e){const t=e.__SPECTOR_Object_CustomData;return t?t.length:0}update(e,t,n){if(e.arguments.length>=1&&!e.arguments[0])return 0;const a=this.getCustomData(n);if(!a)return 0;const r=n.__SPECTOR_Object_CustomData?n.__SPECTOR_Object_CustomData.length:0;return n.__SPECTOR_Object_CustomData=a,a.length-r}getCustomData(e){const t=this.options.context;return Ue.getProgramData(t,e)}}class ke{constructor(e){this.contextInformation=e,this.onCommandCallbacks={},this.recorders=[],this.initRecorders()}recordCommand(e){const t=this.onCommandCallbacks[e.name];if(t)for(const n of t)n(e)}startCapture(){for(const e of this.recorders)e.startCapture()}stopCapture(){for(const e of this.recorders)e.stopCapture()}appendRecordedInformation(e){for(const t of this.recorders)t.appendRecordedInformation(e)}initRecorders(){this.recorders.push(new we(this.contextInformation),new Ve(this.contextInformation),new Xe(this.contextInformation),new We(this.contextInformation),new He(this.contextInformation));for(const e of this.recorders)e.registerCallbacks(this.onCommandCallbacks)}}class Ye{constructor(e){this.contextInformation=e,this.webGlObjects=[],this.initWebglObjects()}tagWebGlObjects(e){for(const t of this.webGlObjects){for(let n=0;n<e.arguments.length;n++){const a=e.arguments[n];if(t.tagWebGlObject(a))break}if(t.tagWebGlObject(e.result))break}}tagWebGlObject(e){for(const t of this.webGlObjects){const n=t.tagWebGlObject(e);if(n)return n}}initWebglObjects(){this.webGlObjects.push(new fe,new Ne,new ve,new Ie,new Fe,new xe,new Le,new Be,new Me,new be,new Pe,new Oe)}}class Ke extends se{constructor(e){super(e),this.extensionDefinition=[[{name:"ANGLE_instanced_arrays",description:""},{name:"EXT_blend_minmax",description:""},{name:"EXT_color_buffer_float",description:""},{name:"EXT_color_buffer_half_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_frag_depth",description:""},{name:"EXT_sRGB",description:""},{name:"EXT_shader_texture_lod",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_element_index_uint",description:""},{name:"OES_standard_derivatives",description:""},{name:"OES_texture_float",description:""},{name:"OES_texture_float_linear",description:""},{name:"OES_texture_half_float",description:""},{name:"OES_texture_half_float_linear",description:""},{name:"OES_vertex_array_object",description:""},{name:"WEBGL_color_buffer_float",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_depth_texture",description:""},{name:"WEBGL_draw_buffers",description:""}],[{name:"EXT_color_buffer_float",description:""},{name:"EXT_disjoint_timer_query",description:""},{name:"EXT_disjoint_timer_query_webgl2",description:""},{name:"EXT_texture_filter_anisotropic",description:""},{name:"OES_texture_float_linear",description:""},{name:"WEBGL_compressed_texture_astc",description:""},{name:"WEBGL_compressed_texture_atc",description:""},{name:"WEBGL_compressed_texture_etc",description:""},{name:"WEBGL_compressed_texture_etc1",description:""},{name:"WEBGL_compressed_texture_pvrtc",description:""},{name:"WEBGL_compressed_texture_s3tc",description:""},{name:"WEBGL_multi_draw",description:""},{name:"WEBGL_multi_draw_instanced_base_vertex_base_instance",description:""},{name:"WEBGL_draw_instanced_base_vertex_base_instance",description:""}]],this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}get stateName(){return"Extensions"}getExtensions(){return this.extensions}readFromContext(){const e=1===this.contextVersion?this.extensionDefinition[0]:this.extensionDefinition[1];for(const t of e){const e=this.context.getExtension(t.name);e?(this.currentState[t.name]=!0,this.extensions[t.name]=e):this.currentState[t.name]=!1}}}class je extends ie{get stateName(){return"CompressedTextures"}constructor(e){super(e),this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}getWebgl1Parameters(){return[{constant:l.COMPRESSED_TEXTURE_FORMATS}]}stringifyParameterValue(e,t){const n=[];for(const t of e)n.push(l.stringifyWebGlConstant(t,"getParameter"));return n}}class ze extends ie{get stateName(){return"Capabilities"}constructor(e){super(e),this.currentState=this.startCapture(!0,this.quickCapture,this.fullCapture)}getWebgl1Parameters(){return[{constant:l.RENDERER},{constant:l.VENDOR},{constant:l.VERSION},{constant:l.SHADING_LANGUAGE_VERSION},{constant:l.SAMPLES},{constant:l.SAMPLE_BUFFERS},{constant:l.RED_BITS},{constant:l.GREEN_BITS},{constant:l.BLUE_BITS},{constant:l.ALPHA_BITS},{constant:l.DEPTH_BITS},{constant:l.STENCIL_BITS},{constant:l.SUBPIXEL_BITS},{constant:l.LINE_WIDTH},{constant:l.ALIASED_LINE_WIDTH_RANGE},{constant:l.ALIASED_POINT_SIZE_RANGE},{constant:l.IMPLEMENTATION_COLOR_READ_FORMAT,returnType:20},{constant:l.IMPLEMENTATION_COLOR_READ_TYPE,returnType:20},{constant:l.MAX_COMBINED_TEXTURE_IMAGE_UNITS},{constant:l.MAX_CUBE_MAP_TEXTURE_SIZE},{constant:l.MAX_FRAGMENT_UNIFORM_VECTORS},{constant:l.MAX_RENDERBUFFER_SIZE},{constant:l.MAX_TEXTURE_IMAGE_UNITS},{constant:l.MAX_TEXTURE_SIZE},{constant:l.MAX_VARYING_VECTORS},{constant:l.MAX_VERTEX_ATTRIBS},{constant:l.MAX_VERTEX_TEXTURE_IMAGE_UNITS},{constant:l.MAX_VERTEX_UNIFORM_VECTORS},{constant:l.MAX_VIEWPORT_DIMS},{constant:l.MAX_TEXTURE_MAX_ANISOTROPY_EXT},{constant:l.MAX_COLOR_ATTACHMENTS_WEBGL},{constant:l.MAX_DRAW_BUFFERS_WEBGL}]}getWebgl2Parameters(){return[{constant:l.MAX_3D_TEXTURE_SIZE},{constant:l.MAX_ARRAY_TEXTURE_LAYERS},{constant:l.MAX_CLIENT_WAIT_TIMEOUT_WEBGL},{constant:l.MAX_COLOR_ATTACHMENTS},{constant:l.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS},{constant:l.MAX_COMBINED_UNIFORM_BLOCKS},{constant:l.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS},{constant:l.MAX_DRAW_BUFFERS},{constant:l.MAX_ELEMENT_INDEX},{constant:l.MAX_ELEMENTS_INDICES},{constant:l.MAX_ELEMENTS_VERTICES},{constant:l.MAX_FRAGMENT_INPUT_COMPONENTS},{constant:l.MAX_FRAGMENT_UNIFORM_BLOCKS},{constant:l.MAX_FRAGMENT_UNIFORM_COMPONENTS},{constant:l.MAX_PROGRAM_TEXEL_OFFSET},{constant:l.MAX_SAMPLES},{constant:l.MAX_SERVER_WAIT_TIMEOUT},{constant:l.MAX_TEXTURE_LOD_BIAS},{constant:l.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS},{constant:l.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS},{constant:l.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS},{constant:l.MAX_UNIFORM_BLOCK_SIZE},{constant:l.MAX_UNIFORM_BUFFER_BINDINGS},{constant:l.MAX_VARYING_COMPONENTS},{constant:l.MAX_VERTEX_OUTPUT_COMPONENTS},{constant:l.MAX_VERTEX_UNIFORM_BLOCKS},{constant:l.MAX_VERTEX_UNIFORM_COMPONENTS},{constant:l.MIN_PROGRAM_TEXEL_OFFSET}]}}class qe{constructor(e){this.options=e,this.commandId=0,this.context=e.context,this.version=e.version,this.onMaxCommand=new s,this.capturing=!1,this.globalCapturing=!0,this.contextInformation={context:this.context,contextVersion:this.version,toggleCapture:this.toggleGlobalCapturing.bind(this),tagWebGlObject:this.tagWebGlObject.bind(this),extensions:{}},this.commandSpies={},this.stateSpy=new ye(this.contextInformation),this.recorderSpy=new ke(this.contextInformation),this.webGlObjectSpy=new Ye(this.contextInformation),this.analyser=new _(this.contextInformation),this.initStaticCapture(),e.recordAlways&&this.spy()}spy(){this.spyContext(this.context);const{extensions:e}=this.contextInformation;for(const t in e)e.hasOwnProperty(t)&&this.spyContext(e[t])}unSpy(){for(const e in this.commandSpies)this.commandSpies.hasOwnProperty(e)&&this.commandSpies[e].unSpy()}startCapture(e=0,t=!1,n=!1){const a=i.now;this.maxCommands=e,this.options.recordAlways||this.spy(),this.capturing=!0,this.commandId=0,this.currentCapture={canvas:this.canvasCapture,context:this.contextCapture,commands:[],initState:{},endState:{},startTime:a,listenCommandsStartTime:0,listenCommandsEndTime:0,endTime:0,analyses:[],frameMemory:{},memory:{}},this.currentCapture.canvas.width=this.context.canvas.width,this.currentCapture.canvas.height=this.context.canvas.height,this.currentCapture.canvas.clientWidth=this.context.canvas.clientWidth||this.context.canvas.width,this.currentCapture.canvas.clientHeight=this.context.canvas.clientHeight||this.context.canvas.height,this.stateSpy.startCapture(this.currentCapture,t,n),this.recorderSpy.startCapture(),this.currentCapture.listenCommandsStartTime=i.now}stopCapture(){const e=i.now;return this.options.recordAlways||this.unSpy(),this.capturing=!1,this.stateSpy.stopCapture(this.currentCapture),this.recorderSpy.stopCapture(),this.currentCapture.listenCommandsEndTime=e,this.currentCapture.endTime=i.now,this.recorderSpy.appendRecordedInformation(this.currentCapture),this.analyser.appendAnalyses(this.currentCapture),this.currentCapture}isCapturing(){return this.globalCapturing&&this.capturing}setMarker(e){this.marker=e}clearMarker(){this.marker=null}log(e){this.currentCapture.commands.push({name:"LOG",text:e,commandArguments:[],commandEndTime:i.now,endTime:i.now,stackTrace:[],marker:"",status:40,startTime:i.now,result:void 0,id:this.getNextCommandCaptureId()})}getNextCommandCaptureId(){return this.commandId++}onCommand(e,t){if(this.globalCapturing&&(this.webGlObjectSpy.tagWebGlObjects(t),this.recorderSpy.recordCommand(t),this.isCapturing())){const n=e.createCapture(t,this.getNextCommandCaptureId(),this.marker);this.stateSpy.captureState(n),this.currentCapture.commands.push(n),n.endTime=i.now,this.maxCommands>0&&this.currentCapture.commands.length===this.maxCommands&&this.onMaxCommand.trigger(this)}}spyContext(e){const t=[];for(const n in e)n&&t.push(n);for(let n=0;n<t.length;n++){const a=t[n];if(!~qe.unSpyableMembers.indexOf(a))try{"number"!=typeof e[a]&&this.spyFunction(a,e)}catch(e){r.error("Cant Spy member: "+a),r.error(e)}}}initStaticCapture(){const e=new Ke(this.contextInformation),t=e.getExtensions();for(const e in t)t.hasOwnProperty(e)&&(this.contextInformation.extensions[e]=t[e]);const n=new ze(this.contextInformation),a=new je(this.contextInformation);this.contextCapture={version:this.version,contextAttributes:this.context.getContextAttributes(),capabilities:n.getStateData(),extensions:e.getStateData(),compressedTextures:a.getStateData()},this.canvasCapture={width:this.context.canvas.width,height:this.context.canvas.height,clientWidth:this.context.canvas.clientWidth||this.context.canvas.width,clientHeight:this.context.canvas.clientHeight||this.context.canvas.height,browserAgent:navigator?navigator.userAgent:""}}spyFunction(e,t){if(0!==e.indexOf("__SPECTOR_Origin_")){if(!this.commandSpies[e]){const n=function(e,t){const n={};for(const t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);for(const e in t)n.hasOwnProperty(e)||(n[e]=t[e]);return n}(this.contextInformation,{spiedCommandName:e,spiedCommandRunningContext:t,callback:this.onCommand.bind(this)});this.commandSpies[e]=new re(n)}this.commandSpies[e].spy()}}toggleGlobalCapturing(e){this.globalCapturing=e}tagWebGlObject(e){return this.webGlObjectSpy.tagWebGlObject(e)}}qe.unSpyableMembers=["canvas","drawingBufferWidth","drawingBufferHeight","drawingBufferColorSpace","unpackColorSpace","glp"];class Ze{constructor(e){this.spiedScope=e||window,this.lastFrame=0,this.speedRatio=1,this.willPlayNextFrame=!1,this.onFrameStart=new s,this.onFrameEnd=new s,this.onError=new s,this.lastSixtyFramesDuration=[],this.lastSixtyFramesCurrentIndex=0,this.lastSixtyFramesPreviousStart=0;for(let e=0;e<Ze.fpsWindowSize;e++)this.lastSixtyFramesDuration[e]=0;this.init()}playNextFrame(){this.willPlayNextFrame=!0}changeSpeedRatio(e){this.speedRatio=e}static getRequestAnimationFrameFunctionNames(){return[...Ze.requestAnimationFrameFunctions]}addRequestAnimationFrameFunctionName(e){Ze.requestAnimationFrameFunctions.push(e)}getSpiedScope(){return this.spiedScope}setSpiedScope(e){this.spiedScope=e}getFps(){let e=0;for(let t=0;t<Ze.fpsWindowSize;t++)e+=this.lastSixtyFramesDuration[t];return 0===e?0:6e4/e}init(){for(const e of Ze.requestAnimationFrameFunctions)this.spyRequestAnimationFrame(e,this.spiedScope);for(const e of Ze.setTimerFunctions)this.spySetTimer(e);this.spiedScope.VRDisplay&&this.spiedScope.addEventListener("vrdisplaypresentchange",(e=>{this.spyRequestAnimationFrame("requestAnimationFrame",e.display)}))}spyRequestAnimationFrame(e,t){const n=this;A.storeOriginFunction(t,e),t[e]=function(){const a=arguments[0],r=n.getCallback(n,a,(()=>{n.spiedScope[e](a)})),s=A.executeOriginFunction(t,e,[r]);return s}}spySetTimer(e){const t=this,n=this.spiedScope,a="setTimeout"===e;A.storeOriginFunction(n,e),n[e]=function(){const r=arguments[0],s=arguments[1],i=Array.prototype.slice.call(arguments);Ze.setTimerCommonValues.indexOf(s)>-1&&(i[0]=t.getCallback(t,r,a?()=>{n[e](r)}:null));const o=A.executeOriginFunction(n,e,i);return o}}getCallback(e,t,n=null){return function(){const a=i.now;if(e.lastFrame=++e.lastFrame%e.speedRatio,e.willPlayNextFrame||e.speedRatio&&!e.lastFrame){e.onFrameStart.trigger(e);try{t.apply(e.spiedScope,arguments)}catch(t){e.onError.trigger(t)}e.lastSixtyFramesCurrentIndex=(e.lastSixtyFramesCurrentIndex+1)%Ze.fpsWindowSize,e.lastSixtyFramesDuration[e.lastSixtyFramesCurrentIndex]=a-e.lastSixtyFramesPreviousStart,e.onFrameEnd.trigger(e),e.willPlayNextFrame=!1}else n&&n();e.lastSixtyFramesPreviousStart=a}}}Ze.requestAnimationFrameFunctions=["requestAnimationFrame","msRequestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame"],Ze.setTimerFunctions=["setTimeout","setInterval"],Ze.setTimerCommonValues=[0,15,16,33,32,40],Ze.fpsWindowSize=60;class $e{constructor(e){this.canvas=e,this.onContextRequested=new s,this.init()}init(){const e=this,t=function(){const t=this instanceof HTMLCanvasElement?HTMLCanvasElement:OffscreenCanvas,n=e.canvas?A.executeOriginFunction(this,"getContext",arguments):A.executePrototypeOriginFunction(this,t,"getContext",arguments);if(arguments.length>0&&"2d"===arguments[0])return n;if(n){const t=Array.prototype.slice.call(arguments),a="webgl2"===t[0]||"experimental-webgl2"===t[0]?2:1;e.onContextRequested.trigger({context:n,contextVersion:a})}return n};this.canvas?(A.storeOriginFunction(this.canvas,"getContext"),this.canvas.getContext=t):(A.storePrototypeOriginFunction(HTMLCanvasElement,"getContext"),HTMLCanvasElement.prototype.getContext=t,"undefined"!=typeof OffscreenCanvas&&(A.storePrototypeOriginFunction(OffscreenCanvas,"getContext"),OffscreenCanvas.prototype.getContext=t))}}n(866);class Qe{constructor(e,t){this.placeHolder=e,this.stateStore=t}compose(e){const t=this.stateStore.getStatesToProcess();let n=!1;for(const e in t)if(t.hasOwnProperty(e)){const a=t[e],r=this.stateStore.getLastOperation(a),s=this.stateStore.getComponentInstance(a),i=this.stateStore.getData(a);s.render(i,a,r),n=!0}if(!n)return;const a=this.stateStore.getLastOperation(e);this.composeInContainer(this.placeHolder,Number.MAX_VALUE,e,a)}composeChildren(e,t){if(!t)return;const n=this.stateStore.getChildrenIds(e);let a=0;for(let e=0;e<n.length;e++){const r=n[e],s=this.stateStore.getLastOperation(r);this.composeInContainer(t,a,r,s),50!==s&&a++}}composeInContainer(e,t,n,a){const r=this.stateStore.getComponentInstance(n).composeInContainer(e,t,a);this.composeChildren(n,r)}}class Je{constructor(){this.store={},this.idGenerator=0,this.pendingOperation={}}getLastOperation(e){return this.store[e].lastOperation}getData(e){return this.store[e].data}getComponentInstance(e){return this.store[e].componentInstance}getParentId(e){return this.store[e].parent?this.store[e].parent.id:-1}getChildrenIds(e){const t=[];for(const n of this.store[e].children)t.push(n.id);return t}hasChildren(e){return this.store[e].children.length>0}add(e,t){const n=this.getNewId();return this.pendingOperation[n]=n,this.store[n]={data:e,id:n,parent:null,children:[],componentInstance:t,lastOperation:20},n}update(e,t){this.store[e],this.pendingOperation[e]=e,this.store[e].data=t,this.store[e].lastOperation=40}addChild(e,t,n){const a=this.store[e],r=this.add(t,n);this.pendingOperation[r]=r;const s=this.store[r];return s.parent=a,a.children.push(s),r}insertChildAt(e,t,n,a){const r=this.store[e],s=this.add(n,a);this.pendingOperation[s]=s;const i=this.store[s];return i.parent=r,t>=r.children.length?r.children.push(i):t>=0?r.children.splice(t,0,i):r.children.unshift(i),s}removeChildById(e,t){const n=this.store[e];for(let a=n.children.length-1;a>=0;a--)if(n.children[a].id===t){this.removeChildAt(e,a);break}}removeChildAt(e,t){const n=this.store[e];let a;t>n.children.length-1?(a=n.children[n.children.length-1],n.children[n.children.length-1].parent=null,n.children.splice(n.children.length-1,1)):t>=0?(a=n.children[t],n.children[t].parent=null,n.children.splice(t,1)):(a=n.children[0],n.children[0].parent=null,n.children.splice(0,1)),a.parent=null,this.remove(a.id)}remove(e){const t=this.store[e];t.parent?(this.store[t.parent.id],this.removeChildById(t.parent.id,e)):(this.removeChildren(e),this.store[e].lastOperation=50,this.pendingOperation[e]=e)}removeChildren(e){const t=this.store[e];for(;t.children.length;)this.remove(t.children[0].id)}getStatesToProcess(){return this.pendingOperation}flushPendingOperations(){for(const e in this.pendingOperation)this.pendingOperation[e]&&(50===this.store[e].lastOperation?delete this.store[e]:this.store[e].lastOperation=0);this.pendingOperation={}}getNewId(){return++this.idGenerator}}class et{constructor(e){this.component=e}render(e,t,n){0!==n&&(50!==n?this.domNode=this.component.render(e,t):this.removeNode())}composeInContainer(e,t,n){if(50===n)return this.removeNode(),null;const a=this.cachedCurrentChildrenContainer;if(0===n)return a;const r=this.domNode,s=r.getAttribute("childrencontainer")?r:r.querySelector("[childrenContainer]");if(s&&a){const e=a.children;for(;e.length>0;)s.appendChild(e[0])}if(this.cachedCurrentChildrenContainer=s,t>=e.children.length)e.appendChild(r),this.cachedCurrentDomNode&&40===n&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode));else{const a=e.children[t];e.insertBefore(r,a),40===n&&e.removeChild(a)}return this.cachedCurrentDomNode=this.domNode,s}removeNode(){this.domNode&&this.domNode.parentElement&&(this.domNode.remove?this.domNode.remove():this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode)),this.cachedCurrentDomNode&&this.cachedCurrentDomNode.parentElement&&(this.cachedCurrentDomNode.remove?this.cachedCurrentDomNode.remove():this.cachedCurrentDomNode.parentNode&&this.cachedCurrentDomNode.parentNode.removeChild(this.cachedCurrentDomNode))}}et.idGenerator=0;class tt{constructor(e){this.stateStore=new Je,this.compositor=new Qe(e,this.stateStore),this.willRender=!1,this.rootStateId=-1}addRootState(e,t,n=!1){const a=new et(t),r=this.stateStore.add(e,a);return this.rootStateId=r,this.setForRender(n),r}addChildState(e,t,n,a=!1){const r=this.insertChildState(e,t,Number.MAX_VALUE,n);return this.setForRender(a),r}insertChildState(e,t,n,a,r=!1){const s=new et(a),i=this.stateStore.insertChildAt(e,n,t,s);return this.setForRender(r),i}updateState(e,t,n=!1){this.stateStore.update(e,t),this.setForRender(n)}removeState(e,t=!1){this.stateStore.remove(e),this.setForRender(t)}removeChildrenStates(e,t=!1){this.stateStore.removeChildren(e),this.setForRender(t)}getState(e){return this.stateStore.getData(e)}getGenericState(e){return this.getState(e)}getChildrenState(e){return this.stateStore.getChildrenIds(e).map((t=>this.stateStore.getData(e)))}getChildrenGenericState(e){return this.getChildrenState(e)}hasChildren(e){return this.stateStore.hasChildren(e)}updateAllChildrenState(e,t){const n=this.stateStore.getChildrenIds(e);for(const e of n){const n=this.getGenericState(e);t(n),this.updateState(e,n)}}updateAllChildrenGenericState(e,t){this.updateAllChildrenState(e,t)}setForRender(e){}compose(){}}tt.REFRESHRATEINMILLISECONDS=100;class nt extends class{constructor(){this.dummyTextGeneratorElement=document.createElement("div")}createFromHtml(e){const t=document.createElement("div");return t.innerHTML=e,t.firstElementChild}htmlTemplate(e,...t){const n=e.raw;let a="";return t.forEach(((e,t)=>{let r=n[t];Array.isArray(e)&&(e=e.join("")),r&&r.length>0&&"$"===r[r.length-1]?r=r.slice(0,-1):e=this.htmlEscape(e),a+=r,a+=e})),a+=n[n.length-1],a}htmlEscape(e){return null==e||0===e.length?e:(this.dummyTextGeneratorElement.innerText=e,this.dummyTextGeneratorElement.innerHTML)}}{constructor(){super(),this.events={}}addEventListener(e,t,n=null){return this.events[e]?this.events[e].add(t,n):-1}removeEventListener(e,t){this.events[e]&&this.events[e].remove(t)}renderElementFromTemplate(e,t,n){const a=this.createFromHtml(e);return this.bindCommands(a,t,n),a}bindCommands(e,t,n){e.getAttribute("commandname")&&this.bindCommand(e,t,n);const a=e.querySelectorAll("[commandName]");for(let e=0;e<a.length;e++){const r=a[e];this.bindCommand(r,t,n)}}bindCommand(e,t,n){const a=e.getAttribute("commandname");let r=e.getAttribute("commandeventbinding")||"";0===r.length&&(r="click");const s="true"===e.getAttribute("usecapture"),i="true"===e.getAttribute("stoppropagation");this.createEvent(a),this.mapEventListener(e,r,a,t,n,s,i)}mapEventListener(e,t,n,a,r,s=!1,i=!1){const o=this;i?e.addEventListener(t,(function(e){return e.stopPropagation(),e.preventDefault(),o.triggerEvent(n,this,a,r),!1}),s):e.addEventListener(t,(function(){o.triggerEvent(n,this,a,r)}),s)}createEvent(e){if(!this.events[e]){const t=new s;this.events[e]=t}return this.events[e]}triggerEvent(e,t,n,a){this.events[e].trigger({sender:t,stateId:a,state:n})}}class at extends nt{render(e,n){const a=this.htmlTemplate`<div>
            <div childrenContainer="true" class="captureMenuComponent ${e?"active":""}">
            </div>
            <div class="captureMenuLogComponent ${e.logVisible?"active":""}">
                <span class="${e.logLevel===t.error?"error":""}">${e.logText}<span>
            </div>
        </div>`;return this.renderElementFromTemplate(a,e,n)}}class rt extends nt{constructor(){super(),this.onCanvasSelected=this.createEvent("onCanvasSelected")}render(e,t){const n=document.createElement("li"),a=document.createElement("span");return a.innerText=`Id: ${e.id} - Size: ${e.width}*${e.height}`,n.appendChild(a),this.mapEventListener(n,"click","onCanvasSelected",e,t),n}}class st extends nt{constructor(){super(),this.onCaptureRequested=this.createEvent("onCaptureRequested"),this.onPlayRequested=this.createEvent("onPlayRequested"),this.onPauseRequested=this.createEvent("onPauseRequested"),this.onPlayNextFrameRequested=this.createEvent("onPlayNextFrameRequested")}render(e,t){const n=this.htmlTemplate`
        <div class="captureMenuActionsComponent">
            <div commandName="onCaptureRequested">
            </div>
            $${e?'<div commandName="onPauseRequested">\n                </div>':'<div commandName="onPlayRequested">\n                </div>\n                <div commandName="onPlayNextFrameRequested">\n                </div>'}
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class it extends nt{constructor(){super(),this.onCanvasSelection=this.createEvent("onCanvasSelection")}render(e,t){const n=this.htmlTemplate`
        <div class="canvasListComponent">
            <span commandName="onCanvasSelection">
                ${e.currentCanvasInformation?`${e.currentCanvasInformation.id} (${e.currentCanvasInformation.width}*${e.currentCanvasInformation.height})`:"Choose Canvas..."}
            </span>
            <ul childrenContainer="true" style="${e.showList?"display:block;visibility:visible":"display:none;visibility:hidden"}"></ul>
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class ot extends nt{render(e,t){const n=document.createElement("span");return n.className="fpsCounterComponent",n.innerText=e.toFixed(2)+" Fps",n}}class mt{constructor(e={}){this.options=e,this.rootPlaceHolder=e.rootPlaceHolder||document.body,this.mvx=new tt(this.rootPlaceHolder),this.isTrackingCanvas=!1,this.onCanvasSelected=new s,this.onCaptureRequested=new s,this.onPauseRequested=new s,this.onPlayRequested=new s,this.onPlayNextFrameRequested=new s,this.captureMenuComponent=new at,this.canvasListComponent=new it,this.canvasListItemComponent=new rt,this.actionsComponent=new st,this.fpsCounterComponent=new ot,this.rootStateId=this.mvx.addRootState({visible:!0,logLevel:t.info,logText:mt.SelectCanvasHelpText,logVisible:!this.options.hideLog},this.captureMenuComponent),this.canvasListStateId=this.mvx.addChildState(this.rootStateId,{currentCanvasInformation:null,showList:!1},this.canvasListComponent),this.actionsStateId=this.mvx.addChildState(this.rootStateId,!0,this.actionsComponent),this.fpsStateId=this.mvx.addChildState(this.rootStateId,0,this.fpsCounterComponent),this.actionsComponent.onCaptureRequested.add((()=>{const e=this.getSelectedCanvasInformation();e&&this.updateMenuStateLog(t.info,mt.PleaseWaitHelpText,!0),setTimeout((()=>{this.onCaptureRequested.trigger(e)}),200)})),this.actionsComponent.onPauseRequested.add((()=>{this.onPauseRequested.trigger(this.getSelectedCanvasInformation()),this.mvx.updateState(this.actionsStateId,!1)})),this.actionsComponent.onPlayRequested.add((()=>{this.onPlayRequested.trigger(this.getSelectedCanvasInformation()),this.mvx.updateState(this.actionsStateId,!0)})),this.actionsComponent.onPlayNextFrameRequested.add((()=>{this.onPlayNextFrameRequested.trigger(this.getSelectedCanvasInformation())})),this.canvasListComponent.onCanvasSelection.add((e=>{this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:null,showList:!e.state.showList}),this.updateMenuStateLog(t.info,mt.SelectCanvasHelpText),this.onCanvasSelected.trigger(null),this.isTrackingCanvas&&this.trackPageCanvases(),e.state.showList?this.showMenuStateLog():this.hideMenuStateLog()})),this.canvasListItemComponent.onCanvasSelected.add((e=>{this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:e.state,showList:!1}),this.onCanvasSelected.trigger(e.state),this.updateMenuStateLog(t.info,mt.ActionsHelpText),this.showMenuStateLog()}))}getSelectedCanvasInformation(){return this.mvx.getGenericState(this.canvasListStateId).currentCanvasInformation}trackPageCanvases(){if(this.isTrackingCanvas=!0,document.body){const e=document.body.querySelectorAll("canvas");this.updateCanvasesList(e)}}updateCanvasesList(e){this.updateCanvasesListInformationInternal(e,(e=>({id:e.id,width:e.width,height:e.height,ref:e})))}updateCanvasesListInformation(e){this.updateCanvasesListInformationInternal(e,(e=>({id:e.id,width:e.width,height:e.height,ref:e.ref})))}display(){this.updateMenuStateVisibility(!0)}hide(){this.updateMenuStateVisibility(!1)}captureComplete(e){e?this.updateMenuStateLog(t.error,e):this.updateMenuStateLog(t.info,mt.ActionsHelpText)}setFPS(e){this.mvx.updateState(this.fpsStateId,e)}updateCanvasesListInformationInternal(e,n){this.mvx.removeChildrenStates(this.canvasListStateId);const a=[];for(let t=0;t<e.length;t++){const r=n(e[t]);a.push(r),this.mvx.addChildState(this.canvasListStateId,r,this.canvasListItemComponent)}const r=a.length,s=this.mvx.getGenericState(this.canvasListStateId).showList;if(!s)if(1===r){const e=a[0];this.mvx.updateState(this.canvasListStateId,{currentCanvasInformation:e,showList:s}),this.updateMenuStateLog(t.info,mt.ActionsHelpText),this.onCanvasSelected.trigger(e)}else this.updateMenuStateLog(t.info,mt.SelectCanvasHelpText),this.onCanvasSelected.trigger(null)}hideMenuStateLog(){const e=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:e.visible,logLevel:e.logLevel,logText:e.logText,logVisible:!1})}showMenuStateLog(){const e=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:e.visible,logLevel:e.logLevel,logText:e.logText,logVisible:!this.options.hideLog})}updateMenuStateLog(e,t,n=!1){const a=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:a.visible,logLevel:e,logText:t,logVisible:!this.options.hideLog},n)}updateMenuStateVisibility(e){const t=this.mvx.getGenericState(this.rootStateId);this.mvx.updateState(this.rootStateId,{visible:e,logLevel:t.logLevel,logText:t.logText,logVisible:t.logVisible})}}mt.SelectCanvasHelpText="Please, select a canvas in the list above.",mt.ActionsHelpText="Record with the red button, you can also pause or continue playing the current scene.",mt.PleaseWaitHelpText="Capturing, be patient (this can take up to 3 minutes)...",n(625);class ct extends nt{constructor(){super(),this.onCaptureLoaded=new s}render(e,t){const n=this.htmlTemplate`
        <div class="captureListComponent ${e?"active":""}">
            <div class="openCaptureFile">
                <Span>Drag files here to open a previously saved capture.</span>
            </div>
            <ul childrenContainer="true"></ul>
        </div>`,a=this.renderElementFromTemplate(n,e,t),r=a.querySelector(".openCaptureFile");return r.addEventListener("dragenter",(e=>(this.drag(e),!1)),!1),r.addEventListener("dragover",(e=>(this.drag(e),!1)),!1),r.addEventListener("drop",(e=>{this.drop(e)}),!1),a}drag(e){e.stopPropagation(),e.preventDefault()}drop(e){e.stopPropagation(),e.preventDefault(),this.loadFiles(e)}loadFiles(e){let t=null;if(e&&e.dataTransfer&&e.dataTransfer.files&&(t=e.dataTransfer.files),e&&e.target&&e.target.files&&(t=e.target.files),t&&t.length>0)for(let e=0;e<t.length;e++){const n=t[e].name.toLowerCase().split(".").pop();if(t[e].type,"json"===n){const n=t[e],a=new FileReader;a.onerror=e=>{r.error("Error while reading file: "+n.name+e)},a.onload=e=>{try{const t=JSON.parse(e.target.result);this.onCaptureLoaded.trigger(t)}catch(e){r.error("Error while reading file: "+n.name+e)}},a.readAsText(n)}}}}class ut extends nt{constructor(){super(),this.onCaptureSelected=this.createEvent("onCaptureSelected"),this.onSaveRequested=this.createEvent("onSaveRequested")}render(e,t){const n=document.createElement("li");if(e.active&&(n.className="active"),e.capture.endState.VisualState.Attachments)for(const t of e.capture.endState.VisualState.Attachments){const e=document.createElement("img");e.src=encodeURI(t.src),n.appendChild(e)}else{const t=document.createElement("span");t.innerText=e.capture.endState.VisualState.FrameBufferStatus,n.appendChild(t)}const a=document.createElement("span");a.innerText=new Date(e.capture.startTime).toTimeString().split(" ")[0],n.appendChild(a);const r=document.createElement("a");return r.href="#",r.className="captureListItemSave",this.mapEventListener(r,"click","onSaveRequested",e,t,!1,!0),a.appendChild(r),this.mapEventListener(n,"click","onCaptureSelected",e,t),n}}class lt extends nt{render(e,t){const n=this.htmlTemplate`
        <div class="visualStateListComponent">
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class dt{static scrollIntoView(e){const t=e.getBoundingClientRect();let n=e.parentElement;for(;n&&n.clientHeight===n.offsetHeight;)n=n.parentElement;if(!n)return;const a=n.getBoundingClientRect();t.top<a.top?e.scrollIntoView(!0):t.bottom>a.bottom&&e.scrollIntoView(!1)}}class Et extends nt{constructor(){super(),this.onVisualStateSelected=this.createEvent("onVisualStateSelected")}render(e,t){const n=document.createElement("li");if(e.active&&(n.className="active",setTimeout((()=>{dt.scrollIntoView(n)}),1)),e.VisualState.Attachments)for(const t of e.VisualState.Attachments){if(!t.src)continue;const a=document.createElement("img");if(a.src=encodeURI(t.src),n.appendChild(a),e.VisualState.Attachments.length>1){const e=document.createElement("span");e.innerText=t.attachmentName,n.appendChild(e)}if(t.textureLayer){const e=document.createElement("span");e.innerText="Layer: "+t.textureLayer,n.appendChild(e)}if(t.textureCubeMapFace){const e=document.createElement("span");e.innerText=t.textureCubeMapFace,n.appendChild(e)}}else{const t=document.createElement("span");t.innerText=e.VisualState.FrameBufferStatus,n.appendChild(t)}const a=document.createElement("span");return a.innerText=e.VisualState.FrameBuffer?"Frame buffer: "+e.VisualState.FrameBuffer.__SPECTOR_Object_TAG.id:"Canvas frame buffer",n.appendChild(a),this.mapEventListener(n,"click","onVisualStateSelected",e,t),n}}class pt extends nt{render(e,t){const n=this.htmlTemplate`
        <div class="commandListComponent">
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class _t extends nt{constructor(){super(),this.onCommandSelected=this.createEvent("onCommandSelected"),this.onVertexSelected=this.createEvent("onVertexSelected"),this.onFragmentSelected=this.createEvent("onFragmentSelected")}render(e,t){const n=document.createElement("li");let a="unknown";switch(e.capture.status){case 50:a="deprecated";break;case 10:a="unused";break;case 20:a="disabled";break;case 30:a="redundant";break;case 40:a="valid"}if(e.capture.VisualState&&(n.className=" drawCall"),e.active&&(n.className=" active",setTimeout((()=>{dt.scrollIntoView(n)}),1)),e.capture.marker){const t=document.createElement("span");t.className=a+" marker important",t.innerText=e.capture.marker+" ",t.style.fontWeight="1000",n.appendChild(t)}if("LOG"===e.capture.name){const t=document.createElement("span");t.className=a+" marker important",t.innerText=e.capture.text+" ",t.style.fontWeight="1000",n.appendChild(t)}else{const t=document.createElement("span");let r=e.capture.text;r=r.replace(e.capture.name,`<span class=" ${a} important">${e.capture.name}</span>`),t.innerHTML=r,n.appendChild(t)}if(e.capture.VisualState&&"clear"!==e.capture.name)try{const a=e.capture.DrawCall.shaders[0],r=e.capture.DrawCall.shaders[1],s=document.createElement("a");s.innerText=a.name,s.href="#",n.appendChild(s),this.mapEventListener(s,"click","onVertexSelected",e,t);const i=document.createElement("a");i.innerText=r.name,i.href="#",n.appendChild(i),this.mapEventListener(i,"click","onFragmentSelected",e,t)}catch(e){}return this.mapEventListener(n,"click","onCommandSelected",e,t),n}}class ht extends nt{render(e,t){const n=this.htmlTemplate`
        <div class="commandDetailComponent" childrenContainer="true">
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class Tt extends nt{render(e,t){const n=this.htmlTemplate`
        <div class="jsonContentComponent" childrenContainer="true">
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class Ct extends nt{render(e,t){const n=this.htmlTemplate`
        <div class="jsonGroupComponent">
            <div class="jsonGroupComponentTitle">${e?e.replace(/([A-Z])/g," $1").trim():""}</div>
            <ul childrenContainer="true"></ul>
        </div>`;return this.renderElementFromTemplate(n,e,t)}}class Rt extends nt{render(e,t){const n=this.htmlTemplate`
            <li><span class="jsonItemComponentKey">${e.key}: </span><span class="jsonItemComponentValue">${e.value}</span><li>`;return this.renderElementFromTemplate(n,e,t)}}class At extends nt{render(e,t){const n=this.htmlTemplate`
        <li class="jsonItemImageHolder"><div class="jsonItemImage"><img src="${e.value}" style="${e.pixelated?"image-rendering: pixelated;":""}" /><span>${e.key}</span></div></li>`;return this.renderElementFromTemplate(n,e,t)}}class St extends nt{render(e,t){const n=this.htmlTemplate`
            <li><span class="jsonItemComponentKey">${e.key}: </span>
                <span class="jsonItemComponentValue">${e.value} (<a href="${e.help}" target="_blank" class="jsonSourceItemComponentOpen">Open help page</a>)
                </span>
            <li>`;return this.renderElementFromTemplate(n,e,t)}}class gt extends nt{render(e,t){const n=document.createElement("div");if(n.className="jsonVisualStateItemComponent",e.Attachments)for(const t of e.Attachments){if(!t.src)continue;const a=document.createElement("img");if(a.src=encodeURI(t.src),n.appendChild(a),e.Attachments.length>1){const e=document.createElement("span");e.innerText=t.attachmentName,n.appendChild(e)}}else{const t=document.createElement("span");t.innerText=e.FrameBufferStatus,n.appendChild(t)}const a=document.createElement("span");return a.innerText=e.FrameBuffer?e.FrameBuffer.__SPECTOR_Object_TAG.displayText:"Canvas frame buffer",n.appendChild(a),n}}class ft extends nt{constructor(){super(),this.onCapturesClicked=this.createEvent("onCapturesClicked"),this.onCommandsClicked=this.createEvent("onCommandsClicked"),this.onInformationClicked=this.createEvent("onInformationClicked"),this.onInitStateClicked=this.createEvent("onInitStateClicked"),this.onEndStateClicked=this.createEvent("onEndStateClicked"),this.onCloseClicked=this.createEvent("onCloseClicked"),this.onSearchTextChanged=this.createEvent("onSearchTextChanged"),this.onSearchTextCleared=this.createEvent("onSearchTextCleared")}render(e,t){const n=this.htmlTemplate`<ul class="resultViewMenuComponent">
                <li class="resultViewMenuOpen resultViewMenuSmall"><a href="#" role="button">Menu</a></li>

                <li class="searchContainer">
                    <input type="text" placeHolder="Search..." value="${e.searchText}" commandName="onSearchTextChanged" commandEventBinding="change">
                    <a class="clearSearch" stoppropagation="true" CommandName="onSearchTextCleared">X</a>
                </li>
                <li><a class="${0===e.status?"active":""} href="#" role="button" commandName="onCapturesClicked">Captures</a></li>
                <li><a class="${10===e.status?"active":""} href="#" role="button" commandName="onInformationClicked">Information</a></li>
                <li><a class="${20===e.status?"active":""} href="#" role="button" commandName="onInitStateClicked">Init State</a></li>
                <li>
                    <a class="${40===e.status?"active":""} href="#" role="button" commandName="onCommandsClicked">
                        Commands${e.commandCount>0?" ("+e.commandCount+")":""}
                    </a>
                </li>
                <li><a class="${30===e.status?"active":""} href="#" role="button" commandName="onEndStateClicked">End State</a></li>
                <li><a role="button" commandName="onCloseClicked" stoppropagation="true">Close</a></li>
            </ul>`,a=this.renderElementFromTemplate(n,e,t),r=a.querySelector(".resultViewMenuOpen"),s=a.querySelectorAll("li:not(.resultViewMenuSmall)");return r.addEventListener("click",(e=>{if("true"===r.getAttribute("open")){if(r.setAttribute("open","false"),s)for(let e=0;e<s.length;e++)s[e].style.display="none",s[e].style.visibility="hidden"}else if(r.setAttribute("open","true"),s)for(let e=0;e<s.length;e++)s[e].style.display="block",s[e].style.visibility="visible"})),a}}class Nt extends nt{render(e,t){return this.renderElementFromTemplate('<div childrenContainer="true" class="resultViewContentComponent"></div>',e,t)}}class vt extends nt{render(e,t){const n=this.htmlTemplate`
            <div childrenContainer="true" class="resultViewComponent ${e?"active":""}">
            </div>`;return this.renderElementFromTemplate(n,e,t)}}class It extends nt{constructor(){super(),this.onTranslatedVertexSourceClicked=this.createEvent("onTranslatedVertexSourceClicked"),this.onTranslatedFragmentSourceClicked=this.createEvent("onTranslatedFragmentSourceClicked"),this.onVertexSourceClicked=this.createEvent("onVertexSourceClicked"),this.onFragmentSourceClicked=this.createEvent("onFragmentSourceClicked"),this.onSourceCodeCloseClicked=this.createEvent("onSourceCodeCloseClicked"),this.onSourceCodeChanged=this.createEvent("onSourceCodeChanged"),this.onBeautifyChanged=this.createEvent("onBeautifyChanged")}showError(e){if(!this.editor)return;const t=[];if(e=e||""){const n=/^.*ERROR:\W([0-9]+):([0-9]+):(.*)$/gm;let a=n.exec(e);for(;null!=a;)t.push({row:+a[2]-1,column:a[1],text:a[3]||"Error",type:"error"}),a=n.exec(e)}this.editor.getSession().setAnnotations(t)}render(e,t){const n=e.fragment?e.sourceFragment:e.sourceVertex;let a;a=e.translated?e.fragment?e.translatedSourceFragment:e.translatedSourceVertex:null!=n?n:"";const r=e.beautify?this._indentIfdef(this._beautify(a)):a,s=this.htmlTemplate`
        <div class="sourceCodeComponentContainer">
            <div class="sourceCodeMenuComponentContainer">
                <ul class="sourceCodeMenuComponent">
                    $${e.translatedSourceVertex?this.htmlTemplate`<li><a class="${!e.fragment&&e.translated?"active":""}" href="#" role="button" commandName="onTranslatedVertexSourceClicked">Translated Vertex</a></li>`:""}
                    $${e.translatedSourceFragment?this.htmlTemplate`<li><a class="${e.fragment&&e.translated?"active":""}" href="#" role="button" commandName="onTranslatedFragmentSourceClicked">Translated Fragment</a></li>`:""}
                    <li><a class="${e.fragment||e.translated?"":"active"}" href="#" role="button" commandName="onVertexSourceClicked">Vertex</a></li>
                    <li><a class="${e.fragment&&!e.translated?"active":""}" href="#" role="button" commandName="onFragmentSourceClicked">Fragment</a></li>
                    <li><a href="#" role="button" commandName="onSourceCodeCloseClicked">Close</a></li>
                </ul>
            </div>
            $${this.htmlTemplate`<div class="sourceCodeComponent">${r}</div>`}
            <div class="sourceCodeMenuComponentFooter">
                <p>
                    <label><input type="checkbox" commandName="onBeautifyChanged" ${e.beautify?"checked":""} /> Beautify</label>
                </p>
            </div>
        </div>`,i=this.renderElementFromTemplate(s.replace(/<br>/g,"\n"),e,t);this.editor=ace.edit(i.querySelector(".sourceCodeComponent")),this.editor.setTheme("ace/theme/monokai"),this.editor.getSession().setMode("ace/mode/glsl"),this.editor.setShowPrintMargin(!1);let o=-1;return this.editor.setReadOnly(!e.editable&&!e.translated),this.editor.getSession().on("change",(n=>{-1!==o&&clearTimeout(o),o=setTimeout((()=>{this._triggerCompilation(this.editor,e,i,t)}),1500)})),i}_triggerCompilation(e,t,n,a){t.fragment?t.sourceFragment=e.getValue():t.sourceVertex=e.getValue(),this.triggerEvent("onSourceCodeChanged",n,t,a)}_beautify(e,t=0){let n="";for(let e=0;e<t;e++)n+="    ";const a=e;if("#"===(e=e.trim())[0]){const r=a.indexOf("#"),s=a.indexOf("\n");let i="";-1!==s&&s<r&&(i=n+"\n");const o=e.indexOf("\n"),m=-1!==o?o:e.length,c=e.substr(0,m),u=e.substr(m+1);return i+n+c+"\n"+this._beautify(u,t)}e=this._adaptComments(e);const r=this._getBracket(e),s=r.firstIteration,i=r.lastIteration;let o;if(-1===s)o=e=(e=(e=(e=(e=(e=(e=(e=n+e).replace(/;(?![^\(]*\))\s*(\/\/.*)?/g,(e=>e.trim()+"\n"))).replace(/\s*([*+-/=><\s]*=)\s*/g,(e=>" "+e.trim()+" "))).replace(/\s*(,)\s*/g,(e=>e.trim()+" "))).replace(/\n[ \t]+/g,"\n")).replace(/\n/g,"\n"+n)).replace(/\s+$/g,"")).replace(/\n+$/g,"");else{const a=e.substr(0,s).trim(),r=e.substr(i+1,e.length).trim(),m=e.substr(s+1,i-s-1).trim();o=(""===a?n+"{":this._beautify(a,t)+" {\n")+this._beautify(m,t+1)+"\n"+n+"}\n"+this._beautify(r,t),o=o.replace(/\s*\n+\s*;/g,";")}return o=o.replace(It.semicolonReplacementKeyRegex,";"),o=o.replace(It.openCurlyReplacementKeyRegex,"{"),o=o.replace(It.closeCurlyReplacementKeyRegex,"}"),o}_adaptComments(e){let t=!1,n=!1;for(let a=0;a<e.length;a++){const r=e[a];"/"===r?"*"===e[a-1]?n=!1:"*"===e[a+1]?t||(n=!0,a++):"/"===e[a+1]&&(n||(t=!0,a++)):"\n"===r?t=!1:";"===r?(t||n)&&(e=e.substr(0,a)+It.semicolonReplacementKey+e.substr(a+1)):"{"===r?(t||n)&&(e=e.substr(0,a)+It.openCurlyReplacementKey+e.substr(a+1)):"}"===r&&(t||n)&&(e=e.substr(0,a)+It.closeCurlyReplacementKey+e.substr(a+1))}return e}_getBracket(e,t=-1){const n=e.indexOf("{",t),a=e.substr(n+1).split("");let r=1,s=n,i=0;for(const e of a)if(s++,"{"===e&&r++,"}"===e&&r--,0===r){i=s;break}return n>-1&&0===i?this._getBracket(e,n+1):{firstIteration:n,lastIteration:i}}_indentIfdef(e){let t=0;const n=e.split("\n");for(let e=0;e<n.length;e++){const a=n[e];-1!==a.indexOf("#endif")&&t--,-1!==a.indexOf("#else")&&t--;let r="";for(let e=0;e<t;e++)r+="    ";n[e]=r+a,-1===a.indexOf("#if")&&-1===a.indexOf("#else")||t++}return n.join("\n")}}It.semicolonReplacementKey="[[[semicolonReplacementKey]]]",It.semicolonReplacementKeyRegex=new RegExp("\\[\\[\\[semicolonReplacementKey\\]\\]\\]","g"),It.openCurlyReplacementKey="[[[openCurlyReplacementKey]]]",It.openCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[openCurlyReplacementKey\\]\\]\\]","g"),It.closeCurlyReplacementKey="[[[closeCurlyReplacementKey]]]",It.closeCurlyReplacementKeyRegex=new RegExp("\\[\\[\\[closeCurlyReplacementKey\\]\\]\\]","g");class Ft extends nt{render(e,t){const n=this.htmlTemplate`
                <div childrenContainer="true" class="${e?"informationColumnLeftComponent":"informationColumnRightComponent"}"></div>`;return this.renderElementFromTemplate(n,e,t)}}class xt{static getMDNLink(e){const t=xt.WebGL2Functions[e];if(t)return xt.WebGL2RootUrl+t;const n=xt.WebGLFunctions[e];if(n)return xt.WebGLRootUrl+n;const a=xt.AngleInstancedArraysExtFunctions[e];return a?xt.AngleInstancedArraysExtRootUrl+a:xt.WebGLRootUrl+e}}xt.WebGL2RootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGL2RenderingContext/",xt.WebGLRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/WebGLRenderingContext/",xt.AngleInstancedArraysExtRootUrl="https://developer.mozilla.org/en-US/docs/Web/API/ANGLE_instanced_arrays/",xt.WebGL2Functions={beginQuery:"beginQuery",beginTransformFeedback:"beginTransformFeedback",bindBufferBase:"bindBufferBase",bindBufferRange:"bindBufferRange",bindSampler:"bindSampler",bindTransformFeedback:"bindTransformFeedback",bindVertexArray:"bindVertexArray",blitFramebuffer:"blitFramebuffer",clearBufferfv:"clearBuffer",clearBufferiv:"clearBuffer",clearBufferuiv:"clearBuffer",clearBufferfi:"clearBuffer",clientWaitSync:"clientWaitSync",compressedTexImage3D:"compressedTexImage3D",compressedTexSubImage3D:"compressedTexSubImage3D",copyBufferSubData:"copyBufferSubData",copyTexSubImage3D:"copyTexSubImage3D",createQuery:"createQuery",createSampler:"createSampler",createTransformFeedback:"createTransformFeedback",createVertexArray:"createVertexArray",deleteQuery:"deleteQuery",deleteSampler:"deleteSampler",deleteSync:"deleteSync",deleteTransformFeedback:"deleteTransformFeedback",deleteVertexArray:"deleteVertexArray",drawArraysInstanced:"drawArraysInstanced",drawBuffers:"drawBuffers",drawElementsInstanced:"drawElementsInstanced",drawRangeElements:"drawRangeElements",endQuery:"endQuery",endTransformFeedback:"endTransformFeedback",fenceSync:"fenceSync",framebufferTextureLayer:"framebufferTextureLayer",getActiveUniformBlockName:"getActiveUniformBlockName",getActiveUniformBlockParameter:"getActiveUniformBlockParameter",getActiveUniforms:"getActiveUniforms",getBufferSubData:"getBufferSubData",getFragDataLocation:"getFragDataLocation",getIndexedParameter:"getIndexedParameter",getInternalformatParameter:"getInternalformatParameter",getQuery:"getQuery",getQueryParameter:"getQueryParameter",getSamplerParameter:"getSamplerParameter",getSyncParameter:"getSyncParameter",getTransformFeedbackVarying:"getTransformFeedbackVarying",getUniformBlockIndex:"getUniformBlockIndex",getUniformIndices:"getUniformIndices",invalidateFramebuffer:"invalidateFramebuffer",invalidateSubFramebuffer:"invalidateSubFramebuffer",isQuery:"isQuery",isSampler:"isSampler",isSync:"isSync",isTransformFeedback:"isTransformFeedback",isVertexArray:"isVertexArray",pauseTransformFeedback:"pauseTransformFeedback",readBuffer:"readBuffer",renderbufferStorageMultisample:"renderbufferStorageMultisample",resumeTransformFeedback:"resumeTransformFeedback",samplerParameteri:"samplerParameter",samplerParameterf:"samplerParameter",texImage3D:"texImage3D",texStorage2D:"texStorage2D",texStorage3D:"texStorage3D",texSubImage3D:"texSubImage3D",transformFeedbackVaryings:"transformFeedbackVaryings",uniform1ui:"uniform",uniform2ui:"uniform",uniform3ui:"uniform",uniform4ui:"uniform",uniform1fv:"uniform",uniform2fv:"uniform",uniform3fv:"uniform",uniform4fv:"uniform",uniform1iv:"uniform",uniform2iv:"uniform",uniform3iv:"uniform",uniform4iv:"uniform",uniform1uiv:"uniform",uniform2uiv:"uniform",uniform3uiv:"uniform",uniform4uiv:"uniform",uniformBlockBinding:"uniformBlockBinding",uniformMatrix2fv:"uniformMatrix",uniformMatrix3x2fv:"uniformMatrix",uniformMatrix4x2fv:"uniformMatrix",uniformMatrix2x3fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4x3fv:"uniformMatrix",uniformMatrix2x4fv:"uniformMatrix",uniformMatrix3x4fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttribDivisor:"vertexAttribDivisor",vertexAttribI4i:"vertexAttribI",vertexAttribI4ui:"vertexAttribI",vertexAttribI4iv:"vertexAttribI",vertexAttribI4uiv:"vertexAttribI",vertexAttribIPointer:"vertexAttribIPointer",waitSync:"waitSync"},xt.WebGLFunctions={uniform1f:"uniform",uniform1fv:"uniform",uniform1i:"uniform",uniform1iv:"uniform",uniform2f:"uniform",uniform2fv:"uniform",uniform2i:"uniform",uniform2iv:"uniform",uniform3f:"uniform",uniform3i:"uniform",uniform3iv:"uniform",uniform4f:"uniform",uniform4fv:"uniform",uniform4i:"uniform",uniform4iv:"uniform",uniformMatrix2fv:"uniformMatrix",uniformMatrix3fv:"uniformMatrix",uniformMatrix4fv:"uniformMatrix",vertexAttrib1f:"vertexAttrib",vertexAttrib2f:"vertexAttrib",vertexAttrib3f:"vertexAttrib",vertexAttrib4f:"vertexAttrib",vertexAttrib1fv:"vertexAttrib",vertexAttrib2fv:"vertexAttrib",vertexAttrib3fv:"vertexAttrib",vertexAttrib4fv:"vertexAttrib"},xt.AngleInstancedArraysExtFunctions={drawArraysInstancedANGLE:"drawArraysInstancedANGLE",drawElementsInstancedANGLE:"drawElementsInstancedANGLE",vertexAttribDivisorANGLE:"vertexAttribDivisorANGLE"};class Ot{constructor(e){this.timeSpy=e,this.init()}spyXRSession(e){this.currentXRSession&&this.unspyXRSession();for(const e of Ze.getRequestAnimationFrameFunctionNames())A.resetOriginFunction(this.timeSpy.getSpiedScope(),e);this.timeSpy.spyRequestAnimationFrame("requestAnimationFrame",e),this.currentXRSession=e}unspyXRSession(){if(this.currentXRSession){A.resetOriginFunction(this.currentXRSession,"requestAnimationFrame"),this.currentXRSession=void 0;for(const e of Ze.getRequestAnimationFrameFunctionNames())this.timeSpy.spyRequestAnimationFrame(e,this.timeSpy.getSpiedScope())}}init(){if(!navigator.xr)return;class e extends XRWebGLLayer{constructor(e,t,n){super(e,t,n),this.glContext=t}getContext(){return this.glContext}}class t extends XRWebGLBinding{constructor(e,t){super(e,t),this.glContext=t}createProjectionLayer(e){const t=super.createProjectionLayer(e);return t.glContext=this.glContext,t}}window.XRWebGLLayer=e,window.XRWebGLBinding=t;const n=navigator.xr.requestSession;Object.defineProperty(navigator.xr,"requestSessionInternal",{writable:!0}),navigator.xr.requestSessionInternal=n,Object.defineProperty(navigator.xr,"requestSession",{writable:!0}),navigator.xr.requestSession=(e,t)=>((e,t)=>navigator.xr.requestSessionInternal(e,t).then((e=>{const t=e;return t._updateRenderState=e.updateRenderState,t.updateRenderState=e=>{return n=this,a=void 0,s=function*(){if(e.baseLayer){const n=e.baseLayer;t.glContext=n.getContext()}if(e.layers)for(const n of e.layers){const e=n;e.glContext&&(t.glContext=e.glContext)}return t._updateRenderState(e)},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{m(s.next(e))}catch(e){t(e)}}function o(e){try{m(s.throw(e))}catch(e){t(e)}}function m(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(i,o)}m((s=s.apply(n,a||[])).next())}));var n,a,r,s},this.spyXRSession(t),e.addEventListener("end",(()=>{this.unspyXRSession()})),Promise.resolve(e)})))(e,t)}}const Lt={CaptureMenu:mt,ResultView:class{constructor(e=null){this.rootPlaceHolder=e,this.onSourceCodeChanged=new s,this.rootPlaceHolder=this.rootPlaceHolder||document.body,this.mvx=new tt(this.rootPlaceHolder),this.searchText="",this.currentCommandId=-1,this.visible=!1,this.commandCount=0,this.commandListStateId=-1,this.commandDetailStateId=-1,this.currentCaptureStateId=-1,this.currentCommandStateId=-1,this.currentVisualStateId=-1,this.visualStateListStateId=-1,this.initVisualStateId=-1,this.sourceCodeComponentStateId=-1,this.captureListComponent=new ct,this.captureListItemComponent=new ut,this.visualStateListComponent=new lt,this.visualStateListItemComponent=new Et,this.commandListComponent=new pt,this.commandListItemComponent=new _t,this.commandDetailComponent=new ht,this.jsonContentComponent=new Tt,this.jsonGroupComponent=new Ct,this.jsonItemComponent=new Rt,this.jsonImageItemComponent=new At,this.jsonHelpItemComponent=new St,this.jsonVisualStateItemComponent=new gt,this.resultViewMenuComponent=new ft,this.resultViewContentComponent=new Nt,this.resultViewComponent=new vt,this.sourceCodeComponent=new It,this.informationColumnComponent=new Ft,this.rootStateId=this.mvx.addRootState(null,this.resultViewComponent),this.menuStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewMenuComponent),this.contentStateId=this.mvx.addChildState(this.rootStateId,null,this.resultViewContentComponent),this.captureListStateId=this.mvx.addChildState(this.rootStateId,!1,this.captureListComponent),this.initKeyboardEvents(),this.initMenuComponent(),this.captureListComponent.onCaptureLoaded.add((e=>{this.addCapture(e)})),this.captureListItemComponent.onCaptureSelected.add((e=>{this.selectCapture(e.stateId)})),this.captureListItemComponent.onSaveRequested.add((e=>{this.saveCapture(e.state.capture)})),this.visualStateListItemComponent.onVisualStateSelected.add((e=>{this.selectVisualState(e.stateId)})),this.commandListItemComponent.onCommandSelected.add((e=>{this.selectCommand(e.stateId)})),this.commandListItemComponent.onVertexSelected.add((e=>{this.selectCommand(e.stateId),this.openShader(!1)})),this.commandListItemComponent.onFragmentSelected.add((e=>{this.selectCommand(e.stateId),this.openShader(!0)})),this.sourceCodeComponent.onSourceCodeCloseClicked.add((()=>{this.displayCurrentCapture()})),this.sourceCodeComponent.onTranslatedVertexSourceClicked.add((e=>{const t=this.mvx.getGenericState(this.sourceCodeComponentStateId);t.fragment=!1,t.translated=!0,this.mvx.updateState(this.sourceCodeComponentStateId,t)})),this.sourceCodeComponent.onTranslatedFragmentSourceClicked.add((e=>{const t=this.mvx.getGenericState(this.sourceCodeComponentStateId);t.fragment=!0,t.translated=!0,this.mvx.updateState(this.sourceCodeComponentStateId,t)})),this.sourceCodeComponent.onVertexSourceClicked.add((e=>{const t=this.mvx.getGenericState(this.sourceCodeComponentStateId);t.fragment=!1,t.translated=!1,this.mvx.updateState(this.sourceCodeComponentStateId,t)})),this.sourceCodeComponent.onFragmentSourceClicked.add((e=>{const t=this.mvx.getGenericState(this.sourceCodeComponentStateId);t.fragment=!0,t.translated=!1,this.mvx.updateState(this.sourceCodeComponentStateId,t)})),this.sourceCodeComponent.onSourceCodeChanged.add((e=>{this.onSourceCodeChanged.trigger({programId:e.state.programId,sourceFragment:e.state.sourceFragment,sourceVertex:e.state.sourceVertex,translatedSourceFragment:e.state.translatedSourceFragment,translatedSourceVertex:e.state.translatedSourceVertex})})),this.sourceCodeComponent.onBeautifyChanged.add((e=>{const t=this.mvx.getGenericState(this.sourceCodeComponentStateId);t.beautify=e.sender.checked,this.mvx.updateState(this.sourceCodeComponentStateId,t)})),this.updateViewState()}saveCapture(e){const t=JSON.stringify(e,null,4),n=new Blob([t],{type:"octet/stream"}),a="capture "+new Date(e.startTime).toTimeString().split(" ")[0]+".json";if(navigator.msSaveBlob)navigator.msSaveBlob(n,a);else{const e=document.createElement("a"),t=window.URL.createObjectURL(n);e.setAttribute("href",t),e.setAttribute("download",a),e.click()}}selectCapture(e){this.currentCommandId=-1,this.currentCaptureStateId=e,this.displayCurrentCapture()}selectCommand(e){this.currentCommandStateId=e,this.currentVisualStateId=this.displayCurrentCommand(),this.displayCurrentVisualState()}selectVisualState(e){this.currentVisualStateId=e,this.currentCommandStateId=this.displayCurrentVisualState(),this.displayCurrentCommand()}display(){this.visible=!0,this.updateViewState()}hide(){this.visible=!1,this.updateViewState()}addCapture(e){const t=this.mvx.insertChildState(this.captureListStateId,{capture:e,active:!1},0,this.captureListItemComponent);return this.selectCapture(t),t}showSourceCodeError(e){this.sourceCodeComponent.showError(e)}initKeyboardEvents(){this.rootPlaceHolder.addEventListener("keydown",(e=>{40===this.mvx.getGenericState(this.menuStateId).status&&(38===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.selectPreviousCommand()):40===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.selectNextCommand()):33===e.keyCode?(e.preventDefault(),e.stopPropagation(),this.selectPreviousVisualState()):34===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.selectNextVisualState()))}))}openShader(e){this.mvx.removeChildrenStates(this.contentStateId);const t=this.mvx.getGenericState(this.currentCommandStateId);this.sourceCodeComponentStateId=this.mvx.addChildState(this.contentStateId,{programId:t.capture.DrawCall.programStatus.program.__SPECTOR_Object_TAG.id,nameVertex:t.capture.DrawCall.shaders[0].name,nameFragment:t.capture.DrawCall.shaders[1].name,sourceVertex:t.capture.DrawCall.shaders[0].source,sourceFragment:t.capture.DrawCall.shaders[1].source,translatedSourceVertex:t.capture.DrawCall.shaders[0].translatedSource,translatedSourceFragment:t.capture.DrawCall.shaders[1].translatedSource,fragment:e,translated:!1,editable:t.capture.DrawCall.programStatus.RECOMPILABLE,beautify:!0},this.sourceCodeComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.displayCurrentCommandDetail(t)}selectPreviousCommand(){const e=this.mvx.getGenericState(this.currentCommandStateId);e.previousCommandStateId<0||this.selectCommand(e.previousCommandStateId)}selectNextCommand(){const e=this.mvx.getGenericState(this.currentCommandStateId);e.nextCommandStateId<0||this.selectCommand(e.nextCommandStateId)}selectPreviousVisualState(){const e=this.mvx.getGenericState(this.currentVisualStateId);e.previousVisualStateId<0||this.selectVisualState(e.previousVisualStateId)}selectNextVisualState(){const e=this.mvx.getGenericState(this.currentVisualStateId);e.nextVisualStateId<0||this.selectVisualState(e.nextVisualStateId)}initMenuComponent(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:0}),this.resultViewMenuComponent.onCloseClicked.add((e=>{this.hide()})),this.resultViewMenuComponent.onCapturesClicked.add((e=>{this.displayCaptures()})),this.resultViewMenuComponent.onCommandsClicked.add((e=>{this.displayCurrentCapture()})),this.resultViewMenuComponent.onInformationClicked.add((e=>{this.displayInformation()})),this.resultViewMenuComponent.onInitStateClicked.add((e=>{this.displayInitState()})),this.resultViewMenuComponent.onEndStateClicked.add((e=>{this.displayEndState()})),this.resultViewMenuComponent.onSearchTextChanged.add((e=>{this.search(e.sender.value)})),this.resultViewMenuComponent.onSearchTextCleared.add((e=>{this.mvx.updateState(this.menuStateId,{status:e.state.status,searchText:"",commandCount:e.state.commandCount}),this.search("")}))}onCaptureRelatedAction(e){const t=this.mvx.getGenericState(this.currentCaptureStateId);return this.commandCount=t.capture.commands.length,this.mvx.removeChildrenStates(this.contentStateId),this.mvx.updateState(this.menuStateId,{status:e,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.getGenericState(this.captureListStateId)&&this.mvx.updateState(this.captureListStateId,!1),t.capture}displayCaptures(){this.mvx.updateState(this.menuStateId,{status:0,searchText:this.searchText,commandCount:this.commandCount}),this.mvx.updateState(this.captureListStateId,!0)}displayInformation(){const e=this.onCaptureRelatedAction(10),t=this.mvx.addChildState(this.contentStateId,!0,this.informationColumnComponent),n=this.mvx.addChildState(this.contentStateId,!1,this.informationColumnComponent),a=this.mvx.addChildState(t,null,this.jsonContentComponent);this.displayJSONGroup(a,"Canvas",e.canvas),this.displayJSONGroup(a,"Context",e.context);const r=this.mvx.addChildState(n,null,this.jsonContentComponent);for(const t of e.analyses)"Primitives"===t.analyserName?this.displayJSONGroup(r,"Vertices count",t):this.displayJSONGroup(r,t.analyserName,t);this.displayJSONGroup(r,"Frame Memory Changes",e.frameMemory),this.displayJSONGroup(r,"Total Memory (seconds since application start: bytes)",e.memory)}displayJSON(e,t){t.VisualState&&this.mvx.addChildState(e,t.VisualState,this.jsonVisualStateItemComponent);for(const n in t){if("VisualState"===n||"analyserName"===n||"source"===n||"translatedSource"===n)continue;const a=t[n];if("visual"===n)for(const n in a)a.hasOwnProperty(n)&&a[n]&&this.mvx.addChildState(e,{key:n,value:a[n],pixelated:"NEAREST"===t.samplerMagFilter||"NEAREST"===t.magFilter},this.jsonImageItemComponent);else{const t=this.getJSONAsString(e,n,a);if(null==t)continue;if(this.toFilter(n)&&this.toFilter(a))continue;this.mvx.addChildState(e,{key:n,value:t},this.jsonItemComponent)}a&&a.__SPECTOR_Metadata&&this.displayJSONGroup(e,"Metadata",a.__SPECTOR_Metadata)}}getJSONAsString(e,t,n){if(null===n)return"null";if(void 0===n)return"undefined";if("number"==typeof n)return Math.floor(n)===n?n.toFixed(0):n.toFixed(4);if("string"==typeof n)return n;if("boolean"==typeof n)return n?"true":"false";if(0===n.length)return"Empty Array";if(n.length){const a=[];for(let r=0;r<n.length;r++){const s=this.getJSONAsString(e,`${t}(${r.toFixed(0)})`,n[r]);null!==s&&a.push(s)}return 0===a.length?null:a.join(", ")}return n.help?(this.mvx.addChildState(e,{key:t,value:n.name,help:n.help},this.jsonHelpItemComponent),null):n.__SPECTOR_Object_TAG?n.__SPECTOR_Object_TAG.displayText:n.displayText?n.displayText:("object"==typeof n&&this.displayJSONGroup(e,t,n),null)}displayJSONGroup(e,t,n){if(!n)return;const a=this.mvx.addChildState(e,t,this.jsonGroupComponent);this.displayJSON(a,n),this.mvx.hasChildren(a)||this.mvx.removeState(a)}displayInitState(){const e=this.onCaptureRelatedAction(20),t=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(t,e.initState)}displayEndState(){const e=this.onCaptureRelatedAction(30),t=this.mvx.addChildState(this.contentStateId,null,this.jsonContentComponent);this.displayJSON(t,e.endState)}displayCurrentCapture(){const e=this.onCaptureRelatedAction(40);this.mvx.updateAllChildrenGenericState(this.captureListStateId,(e=>(e.active=!1,e))),this.mvx.updateState(this.currentCaptureStateId,{capture:e,active:!0}),this.createVisualStates(e),this.commandListStateId=this.mvx.addChildState(this.contentStateId,null,this.commandListComponent),this.commandDetailStateId=this.mvx.addChildState(this.contentStateId,null,this.commandDetailComponent),this.createCommands(e)}displayCurrentCommand(){if(40!==this.mvx.getGenericState(this.menuStateId).status)return-1;const e=this.mvx.getGenericState(this.currentCommandStateId),t=e.capture;return this.currentCommandId=t.id,this.mvx.updateAllChildrenGenericState(this.commandListStateId,(e=>(e.active=!1,e))),this.mvx.updateState(this.currentCommandStateId,{capture:t,visualStateId:e.visualStateId,previousCommandStateId:e.previousCommandStateId,nextCommandStateId:e.nextCommandStateId,active:!0}),this.displayCurrentCommandDetail(e)}displayCurrentCommandDetail(e){const t=e.capture;this.mvx.removeChildrenStates(this.commandDetailStateId);const n=this.mvx.getGenericState(e.visualStateId);this.mvx.addChildState(this.commandDetailStateId,n.VisualState,this.jsonVisualStateItemComponent);let a="Unknown";switch(t.status){case 50:a="Deprecated";break;case 10:a="Unused";break;case 20:a="Disabled";break;case 30:a="Redundant";break;case 40:a="Valid"}const r=xt.getMDNLink(t.name);t.result?this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:r,name:t.name},duration:t.commandEndTime-t.startTime,result:t.result,status:a}):"LOG"!==t.name&&this.displayJSONGroup(this.commandDetailStateId,"Global",{name:{help:r,name:t.name},duration:t.commandEndTime-t.startTime,status:a});for(const e in t)"VisualState"!==e&&"result"!==e&&"object"==typeof t[e]&&this.displayJSONGroup(this.commandDetailStateId,e,t[e]);return e.visualStateId}displayCurrentVisualState(){if(40!==this.mvx.getGenericState(this.menuStateId).status)return null;const e=this.mvx.getGenericState(this.currentVisualStateId);return e.commandStateId===Number.MIN_VALUE?this.displayInitState():e.commandStateId===Number.MAX_VALUE&&this.displayEndState(),this.mvx.updateAllChildrenGenericState(this.visualStateListStateId,(e=>(e.active=!1,e))),e.active=!0,this.mvx.updateState(this.currentVisualStateId,e),e.commandStateId}createVisualStates(e){this.visualStateListStateId=this.mvx.addChildState(this.contentStateId,null,this.visualStateListComponent),this.mvx.removeChildrenStates(this.visualStateListStateId),this.initVisualStateId=this.mvx.addChildState(this.visualStateListStateId,{VisualState:e.initState.VisualState,time:e.startTime,commandStateId:Number.MIN_VALUE,active:!1},this.visualStateListItemComponent)}createCommands(e){this.mvx.removeChildrenStates(this.commandListStateId);let t=this.initVisualStateId,n=!1,a=null,r=-1,s=null,i=-1;for(let o=0;o<e.commands.length;o++){const m=e.commands[o];if(this.toFilter(m.marker)&&this.toFilter(m.name)&&m.id!==this.currentCommandId&&("LOG"!==m.name||this.toFilter(m.text)))continue;const c={capture:m,previousCommandStateId:r,nextCommandStateId:-1,visualStateId:void 0,active:!1},u=this.mvx.addChildState(this.commandListStateId,c,this.commandListItemComponent);if(a&&(a=this.mvx.getGenericState(r),a.nextCommandStateId=u,this.mvx.updateState(r,a)),r=u,a=c,m.VisualState){const e={VisualState:m.VisualState,time:m.endTime,commandStateId:u,active:!1,previousVisualStateId:i,nextVisualStateId:-1};t=this.mvx.addChildState(this.visualStateListStateId,e,this.visualStateListItemComponent),s&&(s=this.mvx.getGenericState(i),s.nextVisualStateId=t,this.mvx.updateState(i,s)),s=e,i=t,n=!0}else if(!n){const e=this.mvx.getGenericState(this.initVisualStateId);e.commandStateId=u,e.previousVisualStateId=-1,e.nextVisualStateId=-1,this.mvx.updateState(this.initVisualStateId,e),s=e,i=t,n=!0}c.visualStateId=t,this.mvx.updateState(u,c),(-1===this.currentCommandId&&0===o||this.currentCommandId===m.id)&&(this.currentCommandStateId=u,this.displayCurrentCommand(),this.currentVisualStateId=t,this.displayCurrentVisualState())}}updateViewState(){this.mvx.updateState(this.rootStateId,this.visible)}toFilter(e){return e=(e+="").toLowerCase(),!!(this.searchText&&this.searchText.length>2&&-1===e.indexOf(this.searchText.toLowerCase()))}search(e){switch(this.searchText=e,this.mvx.getGenericState(this.menuStateId).status){case 0:case 40:this.displayCurrentCapture();break;case 30:this.displayEndState();break;case 10:this.displayInformation();break;case 20:this.displayInitState()}this.searchText=""}}};class Bt{constructor(e={}){this.noFrameTimeout=-1,this.options=Object.assign({enableXRCapture:!1},e),this.captureNextFrames=0,this.captureNextCommands=0,this.quickCapture=!1,this.fullCapture=!1,this.retry=0,this.contexts=[],this.timeSpy=new Ze,this.onCaptureStarted=new s,this.onCapture=new s,this.onError=new s,this.timeSpy.onFrameStart.add(this.onFrameStart,this),this.timeSpy.onFrameEnd.add(this.onFrameEnd,this),this.timeSpy.onError.add(this.onErrorInternal,this),this.options.enableXRCapture&&(this.xrSpy=new Ot(this.timeSpy))}static getFirstAvailable3dContext(e){return this.tryGetContextFromHelperField(e)||this.tryGetContextFromCanvas(e,"webgl")||this.tryGetContextFromCanvas(e,"experimental-webgl")||this.tryGetContextFromCanvas(e,"webgl2")||this.tryGetContextFromCanvas(e,"experimental-webgl2")}static tryGetContextFromHelperField(e){const t=e instanceof HTMLCanvasElement?e.getAttribute("__spector_context_type"):e.__spector_context_type;if(t)return this.tryGetContextFromCanvas(e,t)}static tryGetContextFromCanvas(e,t){let n;try{n=e.getContext(t)}catch(e){}return n}displayUI(e=!1){}getResultUI(){return this.resultView}getCaptureUI(){return this.captureMenu||(this.captureMenu=new mt),this.captureMenu}rebuildProgramFromProgramId(e,t,n,a,r){const s=ve.getFromGlobalStore(e);this.rebuildProgram(s,t,n,a,r)}rebuildProgram(t,n,a,r,s){e.rebuildProgram(t,n,a,r,s)}referenceNewProgram(e,t){ve.updateInGlobalStore(e,t)}pause(){this.timeSpy.changeSpeedRatio(0)}play(){this.timeSpy.changeSpeedRatio(1)}playNextFrame(){this.timeSpy.playNextFrame()}drawOnlyEveryXFrame(e){this.timeSpy.changeSpeedRatio(e)}getFps(){return this.timeSpy.getFps()}spyCanvases(){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new $e,this.canvasSpy.onContextRequested.add(this.spyContext,this))}spyCanvas(e){this.canvasSpy?this.onErrorInternal("Already spying canvas."):(this.canvasSpy=new $e(e),this.canvasSpy.onContextRequested.add(this.spyContext,this))}getAvailableContexts(){return this.getAvailableContexts()}captureCanvas(e,t=0,n=!1,a=!1){const s=this.getAvailableContextSpyByCanvas(e);if(s)this.captureContextSpy(s,t,n,a);else{const s=Bt.getFirstAvailable3dContext(e);s?this.captureContext(s,t,n,a):r.error("No webgl context available on the chosen canvas.")}}captureContext(e,t=0,n=!1,a=!1){let r=this.getAvailableContextSpyByCanvas(e.canvas);r||(r=e.getIndexedParameter?new qe({context:e,version:2,recordAlways:!1}):new qe({context:e,version:1,recordAlways:!1}),r.onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:r.context.canvas,contextSpy:r})),r&&this.captureContextSpy(r,t,n,a)}captureXRContext(e=0,t=!1,n=!1){this.captureContext(this.getXRContext(),e,t,n)}captureContextSpy(e,t=0,n=!1,a=!1){this.quickCapture=n,this.fullCapture=a,this.capturingContext?this.onErrorInternal("Already capturing a context."):(this.retry=0,this.capturingContext=e,this.capturingContext.setMarker(this.marker),(t=Math.min(t,1e4))>0?this.captureCommands(t):this.captureFrames(1),this.noFrameTimeout=setTimeout((()=>{t>0?this.stopCapture():this.capturingContext&&this.retry>1?this.onErrorInternal("No frames with gl commands detected. Try moving the camera."):this.onErrorInternal("No frames detected. Try moving the camera or implementing requestAnimationFrame.")}),1e4))}captureNextFrame(e,t=!1,n=!1){e instanceof HTMLCanvasElement||self.OffscreenCanvas&&e instanceof OffscreenCanvas?this.captureCanvas(e,0,t,n):this.captureContext(e,0,t,n)}startCapture(e,t,n=!1,a=!1){e instanceof HTMLCanvasElement||self.OffscreenCanvas&&e instanceof OffscreenCanvas?this.captureCanvas(e,t,n,a):this.captureContext(e,t,n,a)}stopCapture(){if(this.capturingContext){const e=this.capturingContext.stopCapture();if(e.commands.length>0)return this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),this.triggerCapture(e),this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,e;0===this.captureNextCommands&&(this.retry++,this.captureFrames(1))}}setMarker(e){this.marker=e,this.capturingContext&&this.capturingContext.setMarker(e)}clearMarker(){this.marker=null,this.capturingContext&&this.capturingContext.clearMarker()}addRequestAnimationFrameFunctionName(e){this.timeSpy.addRequestAnimationFrameFunctionName(e)}setSpiedScope(e){this.timeSpy.setSpiedScope(e)}log(e){this.capturingContext&&this.capturingContext.log(e)}captureFrames(e){this.captureNextFrames=e,this.captureNextCommands=0,this.playNextFrame()}captureCommands(e){this.captureNextFrames=0,this.captureNextCommands=e,this.play(),this.capturingContext?(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(e,this.quickCapture,this.fullCapture)):(this.onErrorInternal("No context to capture from."),this.captureNextCommands=0)}spyContext(e){let t=this.getAvailableContextSpyByCanvas(e.context.canvas);t||(t=new qe({context:e.context,version:e.contextVersion,recordAlways:!0}),t.onMaxCommand.add(this.stopCapture,this),this.contexts.push({canvas:t.context.canvas,contextSpy:t})),t.spy()}getAvailableContextSpyByCanvas(e){for(const t of this.contexts)if(t.canvas===e)return t.contextSpy}getXRContext(){return this.options.enableXRCapture||r.error("Cannot retrieve WebXR context if capturing WebXR is disabled."),this.xrSpy.currentXRSession||r.error("No currently active WebXR session."),this.xrSpy.currentXRSession.glContext}onFrameStart(){this.captureNextCommands>0||(this.captureNextFrames>0?(this.capturingContext&&(this.onCaptureStarted.trigger(void 0),this.capturingContext.startCapture(0,this.quickCapture,this.fullCapture)),this.captureNextFrames--):this.capturingContext=void 0)}onFrameEnd(){this.captureNextCommands>0||0===this.captureNextFrames&&this.stopCapture()}triggerCapture(e){this.captureMenu&&this.captureMenu.captureComplete(null),this.onCapture.trigger(e)}onErrorInternal(e){if(r.error(e),this.noFrameTimeout>-1&&clearTimeout(this.noFrameTimeout),!this.capturingContext)throw e;this.capturingContext=void 0,this.captureNextFrames=0,this.captureNextCommands=0,this.retry=0,this.captureMenu&&this.captureMenu.captureComplete(e),this.onError.trigger(e)}}})(),window.SPECTOR=a})();